<div id="asset-field-<mt:var name="content_field_id">" class="asset-field-container content-field" style="margin-top: 5px; margin-bottom: 5px" <mt:var name="required"> <mt:var name="multiple">>
  <ul id="content-field-<mt:var name="content_field_id">-asset-list" class="list-unstyled ml-0 asset-list w-50" style="margin-left: 20px;">
<mt:loop name="asset_loop">
    <li id="content-field-<mt:var name="content_field_id">-list-asset-<mt:var name="asset_id">" class="asset-file asset-type-<mt:var name="asset_type">"<mt:if name="asset_thumb"> onmouseover="show('content-field-<mt:var name="content_field_id">-list-image-<mt:var name="asset_id">')" onmouseout="hide('content-field-<mt:var name="content_field_id">-list-image-<mt:var name="asset_id">')"</mt:if>>
      <div class="row">
        <div class="col text-truncate">
          <a href="<mt:var name="script_uri">?__mode=view&_type=asset&blog_id=<mt:var name="asset_blog_id">&id=<mt:var name="asset_id">" class="asset-title">
            <mt:var name="asset_label" escape="html">
          </a>
        </div>
        <div class="col-1">
          <button type="button" class="close" aria-label="Close" onclick="removeAssetFromList(<mt:var name="asset_id">, 'content-field-<mt:var name="content_field_id">-', <mt:var name="content_field_id">);">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>
    </li>
</mt:loop>
<mt:unless name="asset_loop">
  <li id="content-field-<mt:var name="content_field_id">-empty-asset-list" class="empty-asset-list">
    <div class="alert alert-info">
  <mt:if name="multiple">
      <__trans phrase="No [_1]" params="<mt:var name="type_label_plural">">
  <mt:else>
      <__trans phrase="No [_1]" params="<mt:var name="type_label">">
  </mt:if>
    </div>
  </li>
</mt:unless>
  </ul>
  <a href="<mt:var name="script_url">?__mode=list_asset&_type=asset&blog_id=<mt:var name="blog_id">&dialog_view=1&no_insert=1&filter=class&filter_val=<mt:var name="asset_type">&require_type=<mt:var name="asset_type">&content_field_id=<mt:var name="content_field_id">" class="btn btn-default mt-open-dialog mt-modal-open" data-mt-modal-large>
<mt:if name="multiple">
    <__trans phrase="Choose [_1]" params="<mt:var name="type_label_plural">">
<mt:else>
    <__trans phrase="Choose [_1]" params="<mt:var name="type_label">">
</mt:if>
  </a>
  <input type="hidden" id="content-field-<mt:var name="content_field_id">-include_asset_ids" name="content-field-<mt:var name="content_field_id">" value="<mt:loop name="asset_loop"><mt:var name="asset_id"><mt:unless name="__last__">,</mt:unless></mt:loop>" mt:raw-name="1">
</div>

<mt:unless name="loaded_asset_field_js">
  <mt:var name="loaded_asset_field_js" value="1">
  <mt:setvarblock name="jq_js_include" append="1">
;(function () {
  var originalFunc = window.removeAssetFromList;
  window.removeAssetFromList = function (assetId, prefix, contentFieldId) {
    originalFunc(assetId, prefix);

    if (!contentFieldId) return;

    var ul = document.getElementById(prefix + 'asset-list');
    if (ul && jQuery(ul).children('li').length === 0) {
      var li = document.createElement('li');
      li.setAttribute('id', prefix + 'empty-asset-list');
      li.setAttribute('class', 'empty-asset-list');

      var div = document.createElement('div');
      div.setAttribute('class', 'alert alert-info');
    <mt:if name="multiple">
      div.innerText = '<__trans phrase="No [_1]" params="<mt:var name="type_label_plural">">';
    <mt:else>
      div.innerText = '<__trans phrase="No [_1]" params="<mt:var name="type_label">">';
    </mt:if>

      li.appendChild(div);
      ul.appendChild(li);
    }

    var divId = 'asset-field-' + contentFieldId;
    var div = document.getElementById(divId);
    var ns = jQuery.data( div, 'mtValidator' );
    if ( ns ) {
      jQuery(div).mtValid({ focus: false });
    }

    setDirty(true);
    log('found dirty form');
    app.setDirty();
  };
})();
  </mt:setvarblock>
</mt:unless>
