class pt{constructor({cache:e}){this.cache=e}generateCacheKey({prefix:e,params:t}){const n=Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{});return`${e}_${JSON.stringify(n)}`}async fetchWithCache({key:e,fetcher:t,ttl:n=1e3*60,noCache:s=!1}){return s?t():this.cache.get(e)||t().then(l=>(this.cache.set(e,l,n),l)).catch(l=>(console.log("Failed to fetch data:",l),l))}clearCache(e){this.cache.delete(e)}clearAllCache(){this.cache.clear()}}const Te=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,mt=new Set,et=typeof process=="object"&&process?process:{},bt=(i,e,t,n)=>{typeof et.emitWarning=="function"?et.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let qe=globalThis.AbortController,gt=globalThis.AbortSignal;if(typeof qe>"u"){gt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,s){this._onabort.push(s)}},qe=class{constructor(){e()}signal=new gt;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const s of this.signal._onabort)s(n);this.signal.onabort?.(n)}}};let i=et.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{i&&(i=!1,bt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const xt=i=>!mt.has(i),be=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),wt=i=>be(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Ve:null:null;class Ve extends Array{constructor(e){super(e),this.fill(0)}}class Le{heap;length;static#a=!1;static create(e){const t=wt(e);if(!t)return[];Le.#a=!0;const n=new Le(e,t);return Le.#a=!1,n}constructor(e,t){if(!Le.#a)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class rt{#a;#f;#p;#m;#O;#I;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#b;#i;#n;#e;#c;#h;#r;#l;#g;#o;#w;#y;#d;#v;#A;#u;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#d,sizes:e.#w,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#c,prev:e.#h,get head(){return e.#r},get tail(){return e.#l},free:e.#g,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,n,s,o)=>e.#L(t,n,s,o),moveToTail:t=>e.#N(t),indexes:t=>e.#S(t),rindexes:t=>e.#k(t),isStale:t=>e.#_(t)}}get max(){return this.#a}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#s}get fetchMethod(){return this.#O}get memoMethod(){return this.#I}get dispose(){return this.#p}get disposeAfter(){return this.#m}constructor(e){const{max:t=0,ttl:n,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:l,updateAgeOnHas:a,allowStale:r,dispose:c,disposeAfter:m,noDisposeOnSet:_,noUpdateTTL:d,maxSize:f=0,maxEntrySize:b=0,sizeCalculation:w,fetchMethod:A,memoMethod:v,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:g,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:R,ignoreFetchAbort:W}=e;if(t!==0&&!be(t))throw new TypeError("max option must be a nonnegative integer");const N=t?wt(t):Array;if(!N)throw new Error("invalid max value: "+t);if(this.#a=t,this.#f=f,this.maxEntrySize=b||this.#f,this.sizeCalculation=w,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#I=v,A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#O=A,this.#A=!!A,this.#i=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#c=new N(t),this.#h=new N(t),this.#r=0,this.#l=0,this.#g=Le.create(t),this.#s=0,this.#b=0,typeof c=="function"&&(this.#p=c),typeof m=="function"?(this.#m=m,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#v=!!this.#p,this.#u=!!this.#m,this.noDisposeOnSet=!!_,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!y,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!W,this.maxEntrySize!==0){if(this.#f!==0&&!be(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!be(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#G()}if(this.allowStale=!!r,this.noDeleteOnStaleGet=!!g,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!a,this.ttlResolution=be(s)||s===0?s:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!be(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#z()}if(this.#a===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#a&&!this.#f){const I="LRU_CACHE_UNBOUNDED";xt(I)&&(mt.add(I),bt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,rt))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#z(){const e=new Ve(this.#a),t=new Ve(this.#a);this.#d=e,this.#y=t,this.#D=(o,l,a=Te.now())=>{if(t[o]=l!==0?a:0,e[o]=l,l!==0&&this.ttlAutopurge){const r=setTimeout(()=>{this.#_(o)&&this.#C(this.#n[o],"expire")},l+1);r.unref&&r.unref()}},this.#E=o=>{t[o]=e[o]!==0?Te.now():0},this.#T=(o,l)=>{if(e[l]){const a=e[l],r=t[l];if(!a||!r)return;o.ttl=a,o.start=r,o.now=n||s();const c=o.now-r;o.remainingTTL=a-c}};let n=0;const s=()=>{const o=Te.now();if(this.ttlResolution>0){n=o;const l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return o};this.getRemainingTTL=o=>{const l=this.#i.get(o);if(l===void 0)return 0;const a=e[l],r=t[l];if(!a||!r)return 1/0;const c=(n||s())-r;return a-c},this.#_=o=>{const l=t[o],a=e[o];return!!a&&!!l&&(n||s())-l>a}}#E=()=>{};#T=()=>{};#D=()=>{};#_=()=>!1;#G(){const e=new Ve(this.#a);this.#b=0,this.#w=e,this.#R=t=>{this.#b-=e[t],e[t]=0},this.#U=(t,n,s,o)=>{if(this.#t(n))return 0;if(!be(s))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(s=o(n,t),!be(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#F=(t,n,s)=>{if(e[t]=n,this.#f){const o=this.#f-e[t];for(;this.#b>o;)this.#W(!0)}this.#b+=e[t],s&&(s.entrySize=n,s.totalCalculatedSize=this.#b)}}#R=e=>{};#F=(e,t,n)=>{};#U=(e,t,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#l;!(!this.#M(t)||((e||!this.#_(t))&&(yield t),t===this.#r));)t=this.#h[t]}*#k({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#r;!(!this.#M(t)||((e||!this.#_(t))&&(yield t),t===this.#l));)t=this.#c[t]}#M(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#k())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#S()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(const e of this.#k()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#k())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;if(o!==void 0&&e(o,this.#n[n],this))return this.get(this.#n[n],t)}}forEach(e,t=this){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}rforEach(e,t=this){for(const n of this.#k()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}purgeStale(){let e=!1;for(const t of this.#k({allowStale:!0}))this.#_(t)&&(this.#C(this.#n[t],"expire"),e=!0);return e}info(e){const t=this.#i.get(e);if(t===void 0)return;const n=this.#e[t],s=this.#t(n)?n.__staleWhileFetching:n;if(s===void 0)return;const o={value:s};if(this.#d&&this.#y){const l=this.#d[t],a=this.#y[t];if(l&&a){const r=l-(Te.now()-a);o.ttl=r,o.start=Date.now()}}return this.#w&&(o.size=this.#w[t]),o}dump(){const e=[];for(const t of this.#S({allowStale:!0})){const n=this.#n[t],s=this.#e[t],o=this.#t(s)?s.__staleWhileFetching:s;if(o===void 0||n===void 0)continue;const l={value:o};if(this.#d&&this.#y){l.ttl=this.#d[t];const a=Te.now()-this.#y[t];l.start=Math.floor(Date.now()-a)}this.#w&&(l.size=this.#w[t]),e.unshift([n,l])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const s=Date.now()-n.start;n.start=Te.now()-s}this.set(t,n.value,n)}}set(e,t,n={}){if(t===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:o,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:r}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const m=this.#U(e,t,n.size||0,a);if(this.maxEntrySize&&m>this.maxEntrySize)return r&&(r.set="miss",r.maxEntrySizeExceeded=!0),this.#C(e,"set"),this;let _=this.#s===0?void 0:this.#i.get(e);if(_===void 0)_=this.#s===0?this.#l:this.#g.length!==0?this.#g.pop():this.#s===this.#a?this.#W(!1):this.#s,this.#n[_]=e,this.#e[_]=t,this.#i.set(e,_),this.#c[this.#l]=_,this.#h[_]=this.#l,this.#l=_,this.#s++,this.#F(_,m,r),r&&(r.set="add"),c=!1;else{this.#N(_);const d=this.#e[_];if(t!==d){if(this.#A&&this.#t(d)){d.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:f}=d;f!==void 0&&!l&&(this.#v&&this.#p?.(f,e,"set"),this.#u&&this.#o?.push([f,e,"set"]))}else l||(this.#v&&this.#p?.(d,e,"set"),this.#u&&this.#o?.push([d,e,"set"]));if(this.#R(_),this.#F(_,m,r),this.#e[_]=t,r){r.set="replace";const f=d&&this.#t(d)?d.__staleWhileFetching:d;f!==void 0&&(r.oldValue=f)}}else r&&(r.set="update")}if(s!==0&&!this.#d&&this.#z(),this.#d&&(c||this.#D(_,s,o),r&&this.#T(r,_)),!l&&this.#u&&this.#o){const d=this.#o;let f;for(;f=d?.shift();)this.#m?.(...f)}return this}pop(){try{for(;this.#s;){const e=this.#e[this.#r];if(this.#W(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#o){const e=this.#o;let t;for(;t=e?.shift();)this.#m?.(...t)}}}#W(e){const t=this.#r,n=this.#n[t],s=this.#e[t];return this.#A&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#v||this.#u)&&(this.#v&&this.#p?.(s,n,"evict"),this.#u&&this.#o?.push([s,n,"evict"])),this.#R(t),e&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#g.push(t)),this.#s===1?(this.#r=this.#l=0,this.#g.length=0):this.#r=this.#c[t],this.#i.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=t,o=this.#i.get(e);if(o!==void 0){const l=this.#e[o];if(this.#t(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#_(o))s&&(s.has="stale",this.#T(s,o));else return n&&this.#E(o),s&&(s.has="hit",this.#T(s,o)),!0}else s&&(s.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,s=this.#i.get(e);if(s===void 0||!n&&this.#_(s))return;const o=this.#e[s];return this.#t(o)?o.__staleWhileFetching:o}#L(e,t,n,s){const o=t===void 0?void 0:this.#e[t];if(this.#t(o))return o;const l=new qe,{signal:a}=n;a?.addEventListener("abort",()=>l.abort(a.reason),{signal:l.signal});const r={signal:l.signal,options:n,context:s},c=(w,A=!1)=>{const{aborted:v}=l.signal,k=n.ignoreFetchAbort&&w!==void 0;if(n.status&&(v&&!A?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,k&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!k&&!A)return _(l.signal.reason);const g=f;return this.#e[t]===f&&(w===void 0?g.__staleWhileFetching?this.#e[t]=g.__staleWhileFetching:this.#C(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,w,r.options))),w},m=w=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=w),_(w)),_=w=>{const{aborted:A}=l.signal,v=A&&n.allowStaleOnFetchAbort,k=v||n.allowStaleOnFetchRejection,g=k||n.noDeleteOnFetchRejection,y=f;if(this.#e[t]===f&&(!g||y.__staleWhileFetching===void 0?this.#C(e,"fetch"):v||(this.#e[t]=y.__staleWhileFetching)),k)return n.status&&y.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),y.__staleWhileFetching;if(y.__returned===y)throw w},d=(w,A)=>{const v=this.#O?.(e,o,r);v&&v instanceof Promise&&v.then(k=>w(k===void 0?void 0:k),A),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(w(void 0),n.allowStaleOnFetchAbort&&(w=k=>c(k,!0)))})};n.status&&(n.status.fetchDispatched=!0);const f=new Promise(d).then(c,m),b=Object.assign(f,{__abortController:l,__staleWhileFetching:o,__returned:void 0});return t===void 0?(this.set(e,b,{...r.options,status:void 0}),t=this.#i.get(e)):this.#e[t]=b,b}#t(e){if(!this.#A)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof qe}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:r=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:m=this.noUpdateTTL,noDeleteOnFetchRejection:_=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:b=this.allowStaleOnFetchAbort,context:w,forceRefresh:A=!1,status:v,signal:k}=t;if(!this.#A)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,status:v});const g={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,ttl:l,noDisposeOnSet:a,size:r,sizeCalculation:c,noUpdateTTL:m,noDeleteOnFetchRejection:_,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:b,ignoreFetchAbort:f,status:v,signal:k};let y=this.#i.get(e);if(y===void 0){v&&(v.fetch="miss");const R=this.#L(e,y,g,w);return R.__returned=R}else{const R=this.#e[y];if(this.#t(R)){const M=n&&R.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",M&&(v.returnedStale=!0)),M?R.__staleWhileFetching:R.__returned=R}const W=this.#_(y);if(!A&&!W)return v&&(v.fetch="hit"),this.#N(y),s&&this.#E(y),v&&this.#T(v,y),R;const N=this.#L(e,y,g,w),F=N.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=W?"stale":"refresh",F&&W&&(v.returnedStale=!0)),F?N.__staleWhileFetching:N.__returned=N}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#I;if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:o,...l}=t,a=this.get(e,l);if(!o&&a!==void 0)return a;const r=n(e,a,{options:l,context:s});return this.set(e,r,l),r}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:l}=t,a=this.#i.get(e);if(a!==void 0){const r=this.#e[a],c=this.#t(r);return l&&this.#T(l,a),this.#_(a)?(l&&(l.get="stale"),c?(l&&n&&r.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?r.__staleWhileFetching:void 0):(o||this.#C(e,"expire"),l&&n&&(l.returnedStale=!0),n?r:void 0)):(l&&(l.get="hit"),c?r.__staleWhileFetching:(this.#N(a),s&&this.#E(a),r))}else l&&(l.get="miss")}#j(e,t){this.#h[t]=e,this.#c[e]=t}#N(e){e!==this.#l&&(e===this.#r?this.#r=this.#c[e]:this.#j(this.#h[e],this.#c[e]),this.#j(this.#l,e),this.#l=e)}delete(e){return this.#C(e,"delete")}#C(e,t){let n=!1;if(this.#s!==0){const s=this.#i.get(e);if(s!==void 0)if(n=!0,this.#s===1)this.#P(t);else{this.#R(s);const o=this.#e[s];if(this.#t(o)?o.__abortController.abort(new Error("deleted")):(this.#v||this.#u)&&(this.#v&&this.#p?.(o,e,t),this.#u&&this.#o?.push([o,e,t])),this.#i.delete(e),this.#n[s]=void 0,this.#e[s]=void 0,s===this.#l)this.#l=this.#h[s];else if(s===this.#r)this.#r=this.#c[s];else{const l=this.#h[s];this.#c[l]=this.#c[s];const a=this.#c[s];this.#h[a]=this.#h[s]}this.#s--,this.#g.push(s)}}if(this.#u&&this.#o?.length){const s=this.#o;let o;for(;o=s?.shift();)this.#m?.(...o)}return n}clear(){return this.#P("delete")}#P(e){for(const t of this.#k({allowStale:!0})){const n=this.#e[t];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const s=this.#n[t];this.#v&&this.#p?.(n,s,e),this.#u&&this.#o?.push([n,s,e])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#y&&(this.#d.fill(0),this.#y.fill(0)),this.#w&&this.#w.fill(0),this.#r=0,this.#l=0,this.#g.length=0,this.#b=0,this.#s=0,this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#m?.(...n)}}}class yt{constructor(e){var t;this.cache=new rt({ttl:(t=e?.ttl)!==null&&t!==void 0?t:1e3*60,ttlAutopurge:!0,allowStale:!1})}get(e){const t=this.cache.get(e);if(t){if(t.expiry>Date.now())return t.data;this.delete(e)}return null}set(e,t,n){const s=Date.now()+n;this.cache.set(e,{data:t,expiry:s},{ttl:n})}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const en=new yt,vt=new pt({cache:en}),tn=async i=>{const e={__mode:"filtered_list",blog_id:i.blogId,columns:"name",datasource:"content_type",items:"[]",limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await vt.fetchWithCache({key:vt.generateCacheKey({prefix:"content_types",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"}),n=t.result.objects.map(s=>{const o=s[1].replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"");return{id:s[0],name:o}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),contentTypes:n}}})};function V(){}function St(i){return i()}function kt(){return Object.create(null)}function X(i){i.forEach(St)}function tt(i){return typeof i=="function"}function Ae(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function nn(i){return Object.keys(i).length===0}function Ee(i){return i&&tt(i.destroy)?i.destroy:V}const sn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function u(i,e){i.appendChild(e)}function T(i,e,t){i.insertBefore(e,t||null)}function C(i){i.parentNode&&i.parentNode.removeChild(i)}function Ue(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function p(i){return document.createElement(i)}function nt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function L(i){return document.createTextNode(i)}function S(){return L(" ")}function Se(){return L("")}function z(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function h(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ct(i,e,t){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Tt(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function ln(i){return Array.from(i.childNodes)}function Y(i,e){e=""+e,i.data!==e&&(i.data=e)}function se(i,e){i.value=e??""}function At(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function Et(i,e,t){for(let n=0;n<i.options.length;n+=1){const s=i.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function on(i){const e=i.querySelector(":checked");return e&&e.__value}function oe(i,e,t){i.classList.toggle(e,!!t)}let Me;function je(i){Me=i}function rn(){if(!Me)throw new Error("Function called outside component initialization");return Me}function it(i){rn().$$.on_mount.push(i)}const Re=[],re=[];let Ne=[];const Rt=[],Nt=Promise.resolve();let st=!1;function Ot(){st||(st=!0,Nt.then(It))}function an(){return Ot(),Nt}function Je(i){Ne.push(i)}const lt=new Set;let Oe=0;function It(){if(Oe!==0)return;const i=Me;do{try{for(;Oe<Re.length;){const e=Re[Oe];Oe++,je(e),cn(e.$$)}}catch(e){throw Re.length=0,Oe=0,e}for(je(null),Re.length=0,Oe=0;re.length;)re.pop()();for(let e=0;e<Ne.length;e+=1){const t=Ne[e];lt.has(t)||(lt.add(t),t())}Ne.length=0}while(Re.length);for(;Rt.length;)Rt.pop()();st=!1,lt.clear(),je(i)}function cn(i){if(i.fragment!==null){i.update(),X(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Je)}}function un(i){const e=[],t=[];Ne.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ne=e}const Ke=new Set;let ke;function Pe(){ke={r:0,c:[],p:ke}}function Ge(){ke.r||X(ke.c),ke=ke.p}function U(i,e){i&&i.i&&(Ke.delete(i),i.i(e))}function G(i,e,t,n){if(i&&i.o){if(Ke.has(i))return;Ke.add(i),ke.c.push(()=>{Ke.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function ae(i){return i?.length!==void 0?i:Array.from(i)}function de(i){i&&i.c()}function ce(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),Je(()=>{const o=i.$$.on_mount.map(St).filter(tt);i.$$.on_destroy?i.$$.on_destroy.push(...o):X(o),i.$$.on_mount=[]}),s.forEach(Je)}function ue(i,e){const t=i.$$;t.fragment!==null&&(un(t.after_update),X(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function fn(i,e){i.$$.dirty[0]===-1&&(Re.push(i),Ot(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ie(i,e,t,n,s,o,l=null,a=[-1]){const r=Me;je(i);const c=i.$$={fragment:null,ctx:[],props:o,update:V,not_equal:s,bound:kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:kt(),dirty:a,skip_bound:!1,root:e.target||r.$$.root};l&&l(c.root);let m=!1;if(c.ctx=t?t(i,e.props||{},(_,d,...f)=>{const b=f.length?f[0]:d;return c.ctx&&s(c.ctx[_],c.ctx[_]=b)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](b),m&&fn(i,_)),d}):[],c.update(),m=!0,X(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=ln(e.target);c.fragment&&c.fragment.l(_),_.forEach(C)}else c.fragment&&c.fragment.c();e.intro&&U(i.$$.fragment),ce(i,e.target,e.anchor),It()}je(r)}class Fe{$$=void 0;$$set=void 0;$destroy(){ue(this,1),this.$destroy=V}$on(e,t){if(!tt(t))return V;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!nn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hn);function We(i,e="body"){let t;async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await an(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(i),i.hidden=!1}function s(){i.parentNode&&i.parentNode.removeChild(i)}return n(e),{update:n,destroy:s}}function ot(i,e){return!i.some(t=>t&&t.contains(e))}function Ft(i){let e,t;return{c(){e=nt("title"),t=L(i[2])},m(n,s){T(n,e,s),u(e,t)},p(n,s){s&4&&Y(t,n[2])},d(n){n&&C(e)}}}function dn(i){let e,t,n=i[2]&&Ft(i);return{c(){e=nt("svg"),n&&n.c(),t=nt("use"),Ct(t,"xlink:href",i[1]),h(e,"role","img"),h(e,"class",i[0])},m(s,o){T(s,e,o),n&&n.m(e,null),u(e,t)},p(s,[o]){s[2]?n?n.p(s,o):(n=Ft(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),o&2&&Ct(t,"xlink:href",s[1]),o&1&&h(e,"class",s[0])},i:V,o:V,d(s){s&&C(e),n&&n.d()}}}function _n(i,e,t){let{class:n}=e,{href:s}=e,{title:o}=e;return i.$$set=l=>{"class"in l&&t(0,n=l.class),"href"in l&&t(1,s=l.href),"title"in l&&t(2,o=l.title)},[n,s,o]}class _e extends Fe{constructor(e){super(),Ie(this,e,_n,dn,Ae,{class:0,href:1,title:2})}}function Wt(i,e,t){const n=i.slice();return n[10]=e[t],n}function Lt(i){let e,t,n,s,o,l,a,r,c,m,_,d,f,b=window.trans("New [_1] creation",window.trans("Entry"))+"",w,A,v,k,g=window.trans("New [_1] creation",window.trans("Page"))+"",y,R,W;function N(M,Z){return M[0].length>0?mn:pn}let I=N(i),F=I(i);return{c(){e=p("div"),t=p("div"),n=p("button"),n.innerHTML='<span aria-hidden="true">\xD7</span>',s=S(),o=p("div"),l=p("p"),l.textContent=`${window.trans("Content Data")}`,a=S(),F.c(),r=S(),c=p("p"),c.textContent=`${`${window.trans("Entry")}\u30FB${window.trans("Page")}`}`,m=S(),_=p("ul"),d=p("li"),f=p("a"),w=L(b),A=S(),v=p("li"),k=p("a"),y=L(g),h(n,"type","button"),h(n,"class","close"),h(n,"data-dismiss","modal"),h(n,"aria-label","Close"),h(t,"class","modal-header"),h(l,"class","block-title"),h(c,"class","block-title"),h(f,"href",`${window.CMSScriptURI}?__mode=edit&_type=entry&blog_id=2`),h(k,"href",`${window.CMSScriptURI}?__mode=edit&_type=page&blog_id=2`),h(_,"class","create-button-list"),h(o,"class","modal-body"),h(e,"class","modal create-button-modal")},m(M,Z){T(M,e,Z),u(e,t),u(t,n),u(e,s),u(e,o),u(o,l),u(o,a),F.m(o,null),u(o,r),u(o,c),u(o,m),u(o,_),u(_,d),u(d,f),u(f,w),u(_,A),u(_,v),u(v,k),u(k,y),i[9](e),R||(W=[z(n,"click",i[6]),Ee(We.call(null,e,"body"))],R=!0)},p(M,Z){I===(I=N(M))&&F?F.p(M,Z):(F.d(1),F=I(M),F&&(F.c(),F.m(o,r)))},d(M){M&&C(e),F.d(),i[9](null),R=!1,X(W)}}}function pn(i){let e;return{c(){e=p("p"),e.textContent=`${window.trans("No Content Type could be found.")}`},m(t,n){T(t,e,n)},p:V,d(t){t&&C(e)}}}function mn(i){let e,t=ae(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=zt(Wt(i,t,s));return{c(){e=p("ul");for(let s=0;s<n.length;s+=1)n[s].c();h(e,"class","create-button-list")},m(s,o){T(s,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(s,o){if(o&3){t=ae(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Wt(s,t,l);n[l]?n[l].p(a,o):(n[l]=zt(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ue(n,s)}}}function zt(i){let e,t,n=window.trans("New [_1] creation",i[10].name)+"",s,o,l;return{c(){e=p("li"),t=p("a"),s=L(n),l=S(),h(t,"href",o=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${i[10].id}&type=content_data_${i[10].id}&blog_id=${i[1]}`)},m(a,r){T(a,e,r),u(e,t),u(t,s),u(e,l)},p(a,r){r&1&&n!==(n=window.trans("New [_1] creation",a[10].name)+"")&&Y(s,n),r&3&&o!==(o=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${a[10].id}&type=content_data_${a[10].id}&blog_id=${a[1]}`)&&h(t,"href",o)},d(a){a&&C(e)}}}function bn(i){let e,t,n,s,o=window.trans("Create New")+"",l,a,r,c,m,_;n=new _e({props:{title:window.trans("Create New"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_create`}});let d=i[2]&&Lt(i);return{c(){e=S(),t=p("a"),de(n.$$.fragment),s=S(),l=L(o),a=S(),d&&d.c(),r=Se(),h(t,"href","#"),h(t,"class","menu_actions__button create")},m(f,b){T(f,e,b),T(f,t,b),ce(n,t,null),u(t,s),u(t,l),i[8](t),T(f,a,b),d&&d.m(f,b),T(f,r,b),c=!0,m||(_=[z(document.body,"click",i[7]),z(t,"click",i[5])],m=!0)},p(f,[b]){f[2]?d?d.p(f,b):(d=Lt(f),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i(f){c||(U(n.$$.fragment,f),c=!0)},o(f){G(n.$$.fragment,f),c=!1},d(f){f&&(C(e),C(t),C(a),C(r)),ue(n),i[8](null),d&&d.d(f),m=!1,X(_)}}}function gn(i,e,t){let{contentTypes:n=[]}=e,{blog_id:s}=e,o=!1;const l=()=>{t(2,o=!0)},a=()=>{t(2,o=!1)};let r=null,c=null;const m=f=>{const b=f.target;o&&ot([r,c],b)&&a()};function _(f){re[f?"unshift":"push"](()=>{r=f,t(3,r)})}function d(f){re[f?"unshift":"push"](()=>{c=f,t(4,c)})}return i.$$set=f=>{"contentTypes"in f&&t(0,n=f.contentTypes),"blog_id"in f&&t(1,s=f.blog_id)},[n,s,o,r,c,l,a,m,_,d]}class wn extends Fe{constructor(e){super(),Ie(this,e,gn,bn,Ae,{contentTypes:0,blog_id:1})}}const yn=({target:i,props:e})=>{new wn({target:i,props:e})};function vn(i){let e,t,n,s,o,l,a;return{c(){e=p("div"),n=S(),s=p("div"),h(e,"class","mt-primaryNavigation__toggle_bar"),h(e,"title",t=i[0]?window.trans("Collapse"):window.trans("Close")),oe(e,"open",!i[0]),oe(e,"close",i[0]),h(s,"class","mt-primaryNavigation-overlay"),h(s,"style",o=`display: ${i[0]?"block":"none"}`)},m(r,c){T(r,e,c),T(r,n,c),T(r,s,c),l||(a=[z(e,"click",i[1]),Ee(We.call(null,s,"body")),z(s,"mouseenter",i[2])],l=!0)},p(r,[c]){c&1&&t!==(t=r[0]?window.trans("Collapse"):window.trans("Close"))&&h(e,"title",t),c&1&&oe(e,"open",!r[0]),c&1&&oe(e,"close",r[0]),c&1&&o!==(o=`display: ${r[0]?"block":"none"}`)&&h(s,"style",o)},i:V,o:V,d(r){r&&(C(e),C(n),C(s)),l=!1,X(a)}}}const Dt="collapsed";function Sn(i,e,t){let s=sessionStorage.getItem(Dt)==="true";const o=(c=null)=>{const m=_=>{const d=document.querySelector('[data-is="content-wrapper"]');_?d.classList.add("collapsed"):d.classList.remove("collapsed")};m(c!==null?c:s)},l=()=>{t(0,s=!s),sessionStorage.setItem(Dt,s.toString()),o(s)},a=()=>{var c;s&&(o(!1),(c=document.querySelector('[data-is="primary-navigation"]'))===null||c===void 0||c.addEventListener("mouseleave",r,{once:!0}))},r=()=>{s&&o(!0)};return it(()=>{window.innerWidth<1e3&&t(0,s=!0),o()}),[s,l,a]}class kn extends Fe{constructor(e){super(),Ie(this,e,Sn,vn,Ae,{})}}function Cn(i){new kn({target:i})}function Ut(i,e,t){const n=i.slice();return n[17]=e[t],n}function Mt(i,e,t){const n=i.slice();return n[20]=e[t],n}function jt(i){let e,t,n,s,o,l,a,r,c,m,_,d,f,b,w,A,v,k,g,y,R,W,N,I,F,M,Z,ge=window.trans("Content Data")+"",we,Q,J,ee,ye,q,O,le,Ce,ve;R=new _e({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});function $(E,B){return E[2].length>0?An:Tn}let te=$(i),H=te(i),fe=ae(i[10].slice(1)),j=[];for(let E=0;E<fe.length;E+=1)j[E]=Gt(Ut(i,fe,E));return le=Tt(i[14][0]),{c(){e=p("div"),t=S(),n=p("div"),s=p("div"),o=p("form"),l=p("input"),a=S(),r=p("input"),m=S(),_=p("input"),d=S(),f=p("input"),b=S(),w=p("input"),A=S(),v=p("div"),k=p("input"),g=S(),y=p("button"),de(R.$$.fragment),W=S(),N=p("div"),I=p("label"),F=p("input"),Z=S(),we=L(ge),Q=S(),J=p("select"),H.c(),ye=S(),q=p("div");for(let E=0;E<j.length;E+=1)j[E].c();h(e,"class","search-button-modal-overlay"),h(l,"type","hidden"),h(l,"name","__mode"),l.value="search_replace",h(r,"type","hidden"),h(r,"name","blog_id"),r.value=c=i[6]!=="blog"?i[0]:"0",h(_,"type","hidden"),h(_,"name","_type"),h(f,"type","hidden"),h(f,"name","do_search"),f.value="1",h(w,"type","hidden"),h(w,"name","magic_token"),w.value=i[1],h(k,"type","text"),h(k,"placeholder",window.trans("Select target and search text...")),h(k,"name","search"),h(y,"type","submit"),h(v,"class","search-text-box"),h(F,"type","radio"),h(F,"name","type"),F.__value="content_data",se(F,F.__value),h(F,"id","content_data"),F.disabled=M=i[2].length===0,h(J,"name","content_type_id"),J.disabled=ee=i[6]!=="content_data"||i[2].length===0,oe(J,"disabled",i[6]!=="content_data"),h(N,"class","search-type"),h(q,"class","search-type"),h(o,"class","search-form"),h(o,"method","post"),h(o,"action",window.ScriptURI),h(s,"class","modal-body"),h(n,"class","modal search-button-modal"),le.p(F)},m(E,B){T(E,e,B),T(E,t,B),T(E,n,B),u(n,s),u(s,o),u(o,l),u(o,a),u(o,r),u(o,m),u(o,_),se(_,i[6]),u(o,d),u(o,f),u(o,b),u(o,w),u(o,A),u(o,v),u(v,k),u(v,g),u(v,y),ce(R,y,null),u(o,W),u(o,N),u(N,I),u(I,F),F.checked=F.__value===i[6],u(I,Z),u(I,we),u(I,Q),u(I,J),H.m(J,null),u(o,ye),u(o,q);for(let P=0;P<j.length;P+=1)j[P]&&j[P].m(q,null);i[16](n),O=!0,Ce||(ve=[z(e,"click",i[8]),Ee(We.call(null,e,"body")),z(_,"input",i[12]),z(F,"change",i[13]),Ee(We.call(null,n,"body"))],Ce=!0)},p(E,B){if((!O||B&65&&c!==(c=E[6]!=="blog"?E[0]:"0"))&&(r.value=c),B&64&&se(_,E[6]),(!O||B&2)&&(w.value=E[1]),(!O||B&4&&M!==(M=E[2].length===0))&&(F.disabled=M),B&64&&(F.checked=F.__value===E[6]),te===(te=$(E))&&H?H.p(E,B):(H.d(1),H=te(E),H&&(H.c(),H.m(J,null))),(!O||B&68&&ee!==(ee=E[6]!=="content_data"||E[2].length===0))&&(J.disabled=ee),(!O||B&64)&&oe(J,"disabled",E[6]!=="content_data"),B&1088){fe=ae(E[10].slice(1));let P;for(P=0;P<fe.length;P+=1){const he=Ut(E,fe,P);j[P]?j[P].p(he,B):(j[P]=Gt(he),j[P].c(),j[P].m(q,null))}for(;P<j.length;P+=1)j[P].d(1);j.length=fe.length}},i(E){O||(U(R.$$.fragment,E),O=!0)},o(E){G(R.$$.fragment,E),O=!1},d(E){E&&(C(e),C(t),C(n)),ue(R),H.d(),Ue(j,E),i[16](null),le.r(),Ce=!1,X(ve)}}}function Tn(i){let e;return{c(){e=p("option"),e.textContent=`${window.trans("No Content Type could be found.")}`,e.__value="",se(e,e.__value)},m(t,n){T(t,e,n)},p:V,d(t){t&&C(e)}}}function An(i){let e,t=ae(i[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pt(Mt(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Se()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);T(s,e,o)},p(s,o){if(o&4){t=ae(s[2]);let l;for(l=0;l<t.length;l+=1){const a=Mt(s,t,l);n[l]?n[l].p(a,o):(n[l]=Pt(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ue(n,s)}}}function Pt(i){let e,t=i[20].name+"",n,s;return{c(){e=p("option"),n=L(t),e.__value=s=i[20].id,se(e,e.__value)},m(o,l){T(o,e,l),u(e,n)},p(o,l){l&4&&t!==(t=o[20].name+"")&&Y(n,t),l&4&&s!==(s=o[20].id)&&(e.__value=s,se(e,e.__value))},d(o){o&&C(e)}}}function Gt(i){let e,t,n,s=i[17].label+"",o,l,a,r,c;return a=Tt(i[14][0]),{c(){e=p("label"),t=p("input"),n=S(),o=L(s),l=S(),h(t,"type","radio"),h(t,"name","type"),t.__value=i[17].value,se(t,t.__value),h(t,"id",i[17].value),a.p(t)},m(m,_){T(m,e,_),u(e,t),t.checked=t.__value===i[6],u(e,n),u(e,o),u(e,l),r||(c=z(t,"change",i[15]),r=!0)},p(m,_){_&64&&(t.checked=t.__value===m[6])},d(m){m&&C(e),a.r(),r=!1,c()}}}function En(i){let e,t,n,s,o=window.trans("Search")+"",l,a,r,c,m,_;n=new _e({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});let d=i[3]&&jt(i);return{c(){e=S(),t=p("a"),de(n.$$.fragment),s=S(),l=L(o),a=S(),d&&d.c(),r=Se(),h(t,"href","#"),h(t,"class","action mt-actionSearch"),oe(t,"open",i[3])},m(f,b){T(f,e,b),T(f,t,b),ce(n,t,null),u(t,s),u(t,l),i[11](t),T(f,a,b),d&&d.m(f,b),T(f,r,b),c=!0,m||(_=[z(document.body,"click",i[9]),z(t,"click",i[7])],m=!0)},p(f,[b]){(!c||b&8)&&oe(t,"open",f[3]),f[3]?d?(d.p(f,b),b&8&&U(d,1)):(d=jt(f),d.c(),U(d,1),d.m(r.parentNode,r)):d&&(Pe(),G(d,1,1,()=>{d=null}),Ge())},i(f){c||(U(n.$$.fragment,f),U(d),c=!0)},o(f){G(n.$$.fragment,f),G(d),c=!1},d(f){f&&(C(e),C(t),C(a),C(r)),ue(n),i[11](null),d&&d.d(f),m=!1,X(_)}}}function Rn(i,e,t){let{blogId:n}=e,{magicToken:s}=e,{contentTypes:o=[]}=e,l=!1;const a=()=>{t(3,l=!0)},r=()=>{t(3,l=!1)};let c=null,m=null;const _=y=>{const R=y.target;l&&ot([c,m],R)&&r()},d=[{value:"content_data",label:window.trans("Content Data")},{value:"entry",label:window.trans("Entry")},{value:"comment",label:window.trans("Comment")},{value:"page",label:window.trans("Page")},{value:"template",label:window.trans("Template")},{value:"asset",label:window.trans("Asset")},{value:"log",label:window.trans("Log")},{value:"blog",label:window.trans("Child Site")}];let f="entry";it(async()=>{o.length>0&&t(6,f="content_data")});const b=[[]];function w(y){re[y?"unshift":"push"](()=>{c=y,t(4,c)})}function A(){f=this.value,t(6,f)}function v(){f=this.__value,t(6,f)}function k(){f=this.__value,t(6,f)}function g(y){re[y?"unshift":"push"](()=>{m=y,t(5,m)})}return i.$$set=y=>{"blogId"in y&&t(0,n=y.blogId),"magicToken"in y&&t(1,s=y.magicToken),"contentTypes"in y&&t(2,o=y.contentTypes)},[n,s,o,l,c,m,f,a,r,_,d,w,A,v,b,k,g]}class Nn extends Fe{constructor(e){super(),Ie(this,e,Rn,En,Ae,{blogId:0,magicToken:1,contentTypes:2})}}function On(i,e){new Nn({target:i,props:e})}const In=new yt,Bt=new pt({cache:In}),Fn=async i=>{const e={__mode:"filtered_list",blog_id:"0",columns:"name,site_url,parent_website",datasource:"website",items:JSON.stringify(i.items),limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await Bt.fetchWithCache({key:Bt.generateCacheKey({prefix:"sites",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"});if(t.error)return console.log("Failed to fetch sites:",t.error),{count:0,page:0,pageMax:0,sites:[],error:t.error};const n=t.result.objects.map(s=>{const o=s[1].replace(/<span[^>]*>.*?<\/span>\s*<a[^>]*>([^<]+)<\/a>/,"$1").trim();return{id:s[0],name:o,siteUrl:s[2],parentSiteName:s[3]}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),sites:n}}})},{document:Wn}=sn;function Ht(i,e,t){const n=i.slice();return n[32]=e[t],n}function qt(i){let e,t,n,s,o,l,a,r=window.trans("[_1]Site",i[2].toString())+"",c,m,_,d,f,b,w,A,v,k,g,y,R,W,N,I,F,M,Z,ge,we,Q,J,ee,ye,q,O,le,Ce,ve,$,te,H,fe,j,E,B,P,he,at,Be,pe,ct,ze,Xe,De,Ye,ut,Ze,ft,He,x,ne,ie,$e,ht;he=new _e({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});const dt=[zn,Ln],me=[];function _t(D,K){return D[7]?0:1}return x=_t(i),ne=me[x]=dt[x](i),{c(){e=p("div"),t=p("div"),n=p("div"),s=p("div"),o=p("div"),l=p("span"),a=L("("),c=L(r),m=L(")"),_=S(),d=p("p"),d.textContent=`${window.trans("Site List")}`,f=S(),b=p("div"),w=p("div"),A=p("button"),v=L("<<"),g=S(),y=p("button"),R=L("<"),N=S(),I=p("span"),F=p("span"),M=L(i[3]),Z=L("/"),ge=L(i[4]),we=S(),Q=p("button"),J=L(">"),ye=S(),q=p("button"),O=L(">>"),Ce=S(),ve=p("div"),$=p("select"),te=p("option"),te.textContent=`${window.trans("All Sites")}`,H=p("option"),H.textContent=`${window.trans("Only to child sites within this system")}`,fe=S(),j=p("div"),E=p("input"),B=S(),P=p("button"),de(he.$$.fragment),at=S(),Be=p("div"),pe=p("button"),pe.innerHTML='<span aria-hidden="true">\xD7</span>',ct=S(),ze=p("table"),Xe=p("thead"),De=p("tr"),Ye=p("th"),Ye.textContent=`${window.trans("Site Name")}`,ut=S(),Ze=p("th"),Ze.textContent=`${window.trans("Parent Site")}`,ft=S(),He=p("tbody"),ne.c(),h(o,"class","table-title"),h(A,"type","button"),A.disabled=k=i[3]<=1,h(y,"type","button"),y.disabled=W=i[3]<=1,h(F,"class","current"),h(I,"class","page-num"),h(Q,"type","button"),Q.disabled=ee=i[3]===i[4],h(q,"type","button"),q.disabled=le=i[3]===i[4],h(w,"class","prev-next"),te.__value="",se(te,te.__value),H.__value="blog",se(H,H.__value),i[5]===void 0&&Je(()=>i[25].call($)),h(ve,"class","site-type-filter"),h(E,"type","text"),h(E,"placeholder",window.trans("Filter by site name")),h(j,"class","site-name-filter"),h(pe,"type","button"),h(pe,"class","close"),h(pe,"data-dismiss","modal"),h(pe,"aria-label","Close"),h(Be,"class","close"),h(b,"class","table-control"),h(s,"class","site-list-table-header"),h(n,"class","site-list-table"),h(t,"class","modal-body"),h(e,"class","modal site-list-button-modal")},m(D,K){T(D,e,K),u(e,t),u(t,n),u(n,s),u(s,o),u(o,l),u(l,a),u(l,c),u(l,m),u(o,_),u(o,d),u(s,f),u(s,b),u(b,w),u(w,A),u(A,v),u(w,g),u(w,y),u(y,R),u(w,N),u(w,I),u(I,F),u(F,M),u(I,Z),u(I,ge),u(w,we),u(w,Q),u(Q,J),u(w,ye),u(w,q),u(q,O),u(b,Ce),u(b,ve),u(ve,$),u($,te),u($,H),Et($,i[5],!0),u(b,fe),u(b,j),u(j,E),se(E,i[6]),u(j,B),u(j,P),ce(he,P,null),u(b,at),u(b,Be),u(Be,pe),u(n,ct),u(n,ze),u(ze,Xe),u(Xe,De),u(De,Ye),u(De,ut),u(De,Ze),u(ze,ft),u(ze,He),me[x].m(He,null),i[28](e),ie=!0,$e||(ht=[z(A,"click",i[15]),z(A,"keydown",i[21]),z(y,"click",i[14]),z(y,"keydown",i[22]),z(Q,"click",i[12]),z(Q,"keydown",i[23]),z(q,"click",i[13]),z(q,"keydown",i[24]),z($,"change",i[25]),z($,"change",i[16]),z(E,"input",i[26]),z(E,"keydown",i[27]),z(P,"click",i[16]),z(pe,"click",i[11]),Ee(We.call(null,e,"body"))],$e=!0)},p(D,K){(!ie||K[0]&4)&&r!==(r=window.trans("[_1]Site",D[2].toString())+"")&&Y(c,r),(!ie||K[0]&8&&k!==(k=D[3]<=1))&&(A.disabled=k),(!ie||K[0]&8&&W!==(W=D[3]<=1))&&(y.disabled=W),(!ie||K[0]&8)&&Y(M,D[3]),(!ie||K[0]&16)&&Y(ge,D[4]),(!ie||K[0]&24&&ee!==(ee=D[3]===D[4]))&&(Q.disabled=ee),(!ie||K[0]&24&&le!==(le=D[3]===D[4]))&&(q.disabled=le),K[0]&32&&Et($,D[5]),K[0]&64&&E.value!==D[6]&&se(E,D[6]);let xe=x;x=_t(D),x===xe?me[x].p(D,K):(Pe(),G(me[xe],1,1,()=>{me[xe]=null}),Ge(),ne=me[x],ne?ne.p(D,K):(ne=me[x]=dt[x](D),ne.c()),U(ne,1),ne.m(He,null))},i(D){ie||(U(he.$$.fragment,D),U(ne),ie=!0)},o(D){G(he.$$.fragment,D),G(ne),ie=!1},d(D){D&&C(e),ue(he),me[x].d(),i[28](null),$e=!1,X(ht)}}}function Ln(i){let e,t,n=ae(i[1]),s=[];for(let l=0;l<n.length;l+=1)s[l]=Vt(Ht(i,n,l));const o=l=>G(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Se()},m(l,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,a);T(l,e,a),t=!0},p(l,a){if(a[0]&2){n=ae(l[1]);let r;for(r=0;r<n.length;r+=1){const c=Ht(l,n,r);s[r]?(s[r].p(c,a),U(s[r],1)):(s[r]=Vt(c),s[r].c(),U(s[r],1),s[r].m(e.parentNode,e))}for(Pe(),r=n.length;r<s.length;r+=1)o(r);Ge()}},i(l){if(!t){for(let a=0;a<n.length;a+=1)U(s[a]);t=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(l){l&&C(e),Ue(s,l)}}}function zn(i){let e,t;return{c(){e=p("tr"),t=p("td"),t.textContent=`${window.trans("Loading...")}`,h(t,"colspan","2"),h(t,"class","loading")},m(n,s){T(n,e,s),u(e,t)},p:V,i:V,o:V,d(n){n&&C(e)}}}function Dn(i){let e;return{c(){e=p("span"),e.textContent="-",h(e,"class","text-center")},m(t,n){T(t,e,n)},p:V,d(t){t&&C(e)}}}function Un(i){let e=i[32].parentSiteName+"",t;return{c(){t=L(e)},m(n,s){T(n,t,s)},p(n,s){s[0]&2&&e!==(e=n[32].parentSiteName+"")&&Y(t,e)},d(n){n&&C(t)}}}function Vt(i){let e,t,n,s,o=i[32].name+"",l,a,r,c,m,_,d,f,b,w;s=new _e({props:{title:window.trans("Site"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_sites`}}),m=new _e({props:{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_permalink`}});function A(g,y){return g[32].parentSiteName?Un:Dn}let v=A(i),k=v(i);return{c(){e=p("tr"),t=p("td"),n=p("a"),de(s.$$.fragment),l=L(o),r=S(),c=p("a"),de(m.$$.fragment),d=S(),f=p("td"),k.c(),b=S(),h(n,"href",a=`${window.ScriptURI}?__mode=dashboard&blog_id=${i[32].id}`),h(n,"class","dashboard-link"),h(c,"href",_=i[32].siteUrl),h(c,"class","site-link"),h(c,"target","_blank")},m(g,y){T(g,e,y),u(e,t),u(t,n),ce(s,n,null),u(n,l),u(t,r),u(t,c),ce(m,c,null),u(e,d),u(e,f),k.m(f,null),u(e,b),w=!0},p(g,y){(!w||y[0]&2)&&o!==(o=g[32].name+"")&&Y(l,o),(!w||y[0]&2&&a!==(a=`${window.ScriptURI}?__mode=dashboard&blog_id=${g[32].id}`))&&h(n,"href",a),(!w||y[0]&2&&_!==(_=g[32].siteUrl))&&h(c,"href",_),v===(v=A(g))&&k?k.p(g,y):(k.d(1),k=v(g),k&&(k.c(),k.m(f,null)))},i(g){w||(U(s.$$.fragment,g),U(m.$$.fragment,g),w=!0)},o(g){G(s.$$.fragment,g),G(m.$$.fragment,g),w=!1},d(g){g&&C(e),ue(s),ue(m),k.d()}}}function Mn(i){let e,t,n,s,o=window.trans("Site")+"",l,a,r,c,m,_;n=new _e({props:{title:window.trans("Site"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_site-list`}});let d=i[0]&&qt(i);return{c(){e=S(),t=p("a"),de(n.$$.fragment),s=S(),l=L(o),a=S(),d&&d.c(),r=Se(),h(t,"href","#"),h(t,"class","action mt-actionSite"),oe(t,"open",i[0])},m(f,b){T(f,e,b),T(f,t,b),ce(n,t,null),u(t,s),u(t,l),i[20](t),T(f,a,b),d&&d.m(f,b),T(f,r,b),c=!0,m||(_=[z(Wn.body,"click",i[17]),z(t,"click",i[10])],m=!0)},p(f,b){(!c||b[0]&1)&&oe(t,"open",f[0]),f[0]?d?(d.p(f,b),b[0]&1&&U(d,1)):(d=qt(f),d.c(),U(d,1),d.m(r.parentNode,r)):d&&(Pe(),G(d,1,1,()=>{d=null}),Ge())},i(f){c||(U(n.$$.fragment,f),U(d),c=!0)},o(f){G(n.$$.fragment,f),G(d),c=!1},d(f){f&&(C(e),C(t),C(a),C(r)),ue(n),i[20](null),d&&d.d(f),m=!1,X(_)}}}function jn(i,e,t){let{magicToken:n}=e,{limit:s=50}=e,o=!1,l;const a=()=>{t(0,o=!0),l=document.body.style.overflow,document.body.style.overflow="hidden"},r=()=>{t(0,o=!1),document.body.style.overflow=l};let c=[],m=0,_=1,d=1,f="",b="",w=[],A=!1,v=null,k=null;const g=()=>{t(3,_++,_),I()},y=()=>{t(3,_=d),I()},R=()=>{t(3,_--,_),I()},W=()=>{t(3,_=1),I()},N=()=>{w=[],f==="blog"&&(w=[{type:"parent_website",args:{value:""}}]),t(6,b=b.trim()),b!==""&&w.push({type:"name",args:{string:b,option:"contains"}}),t(3,_=1),I()},I=async()=>{t(7,A=!0);const O=await Fn({magicToken:n,items:w,page:_,limit:s});t(2,m=O.count),t(4,d=O.pageMax),t(3,_=d!==0?O.page:0),t(1,c=O.sites),t(7,A=!1)},F=O=>{const le=O.target;o&&ot([v,k],le)&&r()};it(async()=>{I()});function M(O){re[O?"unshift":"push"](()=>{v=O,t(8,v)})}const Z=O=>O.key==="Enter"&&W(),ge=O=>O.key==="Enter"&&R(),we=O=>O.key==="Enter"&&g(),Q=O=>O.key==="Enter"&&y();function J(){f=on(this),t(5,f)}function ee(){b=this.value,t(6,b)}const ye=O=>O.key==="Enter"&&N();function q(O){re[O?"unshift":"push"](()=>{k=O,t(9,k)})}return i.$$set=O=>{"magicToken"in O&&t(18,n=O.magicToken),"limit"in O&&t(19,s=O.limit)},[o,c,m,_,d,f,b,A,v,k,a,r,g,y,R,W,N,F,n,s,M,Z,ge,we,Q,J,ee,ye,q]}class Pn extends Fe{constructor(e){super(),Ie(this,e,jn,Mn,Ae,{magicToken:18,limit:19},null,[-1,-1])}}function Gn(i,e){new Pn({target:i,props:e})}function Jt(i,e,t){const n=i.slice();return n[16]=e[t],n}function Kt(i){let e,t,n,s,o,l,a,r,c,m,_,d=window.trans("Dashboard")+"",f,b,w,A,v,k;c=new _e({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_home`,title:window.trans("Dashboard")}});function g(N,I){return N[1]==="system"?Hn:Bn}let y=g(i),R=y(i),W=i[0].length>0&&Xt(i);return{c(){e=p("div"),t=p("div"),n=p("button"),n.innerHTML='<span aria-hidden="true">\xD7</span>',s=S(),o=p("div"),l=p("ul"),a=p("li"),r=p("span"),de(c.$$.fragment),m=S(),_=p("a"),f=L(d),b=S(),R.c(),w=S(),W&&W.c(),h(n,"type","button"),h(n,"class","close"),h(n,"data-dismiss","modal"),h(n,"aria-label","Close"),h(t,"class","modal-header"),h(r,"class","mt-icon"),h(_,"href",window.ScriptURI+"?__mode=dashboard"),h(_,"title",window.trans("Dashboard")),h(a,"class","breadcrumb-list-item"),h(l,"class","breadcrumb-list"),h(o,"class","modal-body"),h(e,"class","modal breadcrumbs-modal"),At(e,"--modal-left",i[11]+"px")},m(N,I){T(N,e,I),u(e,t),u(t,n),u(e,s),u(e,o),u(o,l),u(l,a),u(a,r),ce(c,r,null),u(a,m),u(a,_),u(_,f),u(l,b),R.m(l,null),u(l,w),W&&W.m(l,null),i[15](e),A=!0,v||(k=[z(n,"click",i[13]),Ee(We.call(null,e,"body"))],v=!0)},p(N,I){y===(y=g(N))&&R?R.p(N,I):(R.d(1),R=y(N),R&&(R.c(),R.m(l,w))),N[0].length>0?W?W.p(N,I):(W=Xt(N),W.c(),W.m(l,null)):W&&(W.d(1),W=null),(!A||I&2048)&&At(e,"--modal-left",N[11]+"px")},i(N){A||(U(c.$$.fragment,N),A=!0)},o(N){G(c.$$.fragment,N),A=!1},d(N){N&&C(e),ue(c),R.d(),W&&W.d(),i[15](null),v=!1,X(k)}}}function Bn(i){let e,t,n,s,o,l,a,r=i[1]==="blog"&&Qt(i);return{c(){r&&r.c(),e=S(),t=p("li"),n=p("span"),n.textContent="\xA0",s=S(),o=p("a"),l=L(i[7]),h(n,"class","mt-icon icon-circle"),h(o,"href",a=window.ScriptURI+"?__mode=dashboard&blog_id="+i[6]),h(t,"class","breadcrumb-list-item")},m(c,m){r&&r.m(c,m),T(c,e,m),T(c,t,m),u(t,n),u(t,s),u(t,o),u(o,l)},p(c,m){c[1]==="blog"?r?r.p(c,m):(r=Qt(c),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),m&128&&Y(l,c[7]),m&64&&a!==(a=window.ScriptURI+"?__mode=dashboard&blog_id="+c[6])&&h(o,"href",a)},d(c){c&&(C(e),C(t)),r&&r.d(c)}}}function Hn(i){let e,t,n;function s(a,r){return a[2]?Kn:Jn}let o=s(i),l=o(i);return{c(){e=p("li"),t=p("span"),t.textContent="\xA0",n=S(),l.c(),h(t,"class","mt-icon icon-circle"),h(e,"class","breadcrumb-list-item")},m(a,r){T(a,e,r),u(e,t),u(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&C(e),l.d()}}}function Qt(i){let e,t,n;function s(a,r){return a[3]?Vn:qn}let o=s(i),l=o(i);return{c(){e=p("li"),t=p("span"),t.textContent="\xA0",n=S(),l.c(),h(t,"class","mt-icon icon-circle"),h(e,"class","breadcrumb-list-item")},m(a,r){T(a,e,r),u(e,t),u(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&C(e),l.d()}}}function qn(i){let e;return{c(){e=L(i[5])},m(t,n){T(t,e,n)},p(t,n){n&32&&Y(e,t[5])},d(t){t&&C(e)}}}function Vn(i){let e,t,n;return{c(){e=p("a"),t=L(i[5]),h(e,"href",n=window.ScriptURI+"?__mode=dashboard&blog_id="+i[4])},m(s,o){T(s,e,o),u(e,t)},p(s,o){o&32&&Y(t,s[5]),o&16&&n!==(n=window.ScriptURI+"?__mode=dashboard&blog_id="+s[4])&&h(e,"href",n)},d(s){s&&C(e)}}}function Jn(i){let e=window.trans("System")+"",t;return{c(){t=L(e)},m(n,s){T(n,t,s)},p:V,d(n){n&&C(t)}}}function Kn(i){let e,t=window.trans("System")+"",n;return{c(){e=p("a"),n=L(t),h(e,"href",window.ScriptURI+"?__mode=dashboard&blog_id=0")},m(s,o){T(s,e,o),u(e,n)},p:V,d(s){s&&C(e)}}}function Xt(i){let e,t=ae(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$t(Jt(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Se()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);T(s,e,o)},p(s,o){if(o&1){t=ae(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Jt(s,t,l);n[l]?n[l].p(a,o):(n[l]=$t(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ue(n,s)}}}function Yt(i){let e,t=i[16].bc_name+"",n,s;return{c(){e=p("a"),n=L(t),h(e,"href",s=i[16].bc_uri),h(e,"class","mt-breadcrumb__item")},m(o,l){T(o,e,l),u(e,n)},p(o,l){l&1&&t!==(t=o[16].bc_name+"")&&Y(n,t),l&1&&s!==(s=o[16].bc_uri)&&h(e,"href",s)},d(o){o&&C(e)}}}function Zt(i){let e,t=i[16].bc_name+"",n;return{c(){e=p("span"),n=L(t),h(e,"class","current")},m(s,o){T(s,e,o),u(e,n)},p(s,o){o&1&&t!==(t=s[16].bc_name+"")&&Y(n,t)},d(s){s&&C(e)}}}function $t(i){let e,t,n,s,o,l,a=i[16].bc_uri!==null&&Yt(i),r=i[16].is_last&&Zt(i);return{c(){e=S(),t=p("li"),n=p("span"),n.textContent="\xA0",s=S(),a&&a.c(),o=S(),r&&r.c(),l=S(),h(n,"class","mt-icon icon-circle"),h(t,"class","breadcrumb-list-item")},m(c,m){T(c,e,m),T(c,t,m),u(t,n),u(t,s),a&&a.m(t,null),u(t,o),r&&r.m(t,null),u(t,l)},p(c,m){c[16].bc_uri!==null?a?a.p(c,m):(a=Yt(c),a.c(),a.m(t,o)):a&&(a.d(1),a=null),c[16].is_last?r?r.p(c,m):(r=Zt(c),r.c(),r.m(t,l)):r&&(r.d(1),r=null)},d(c){c&&(C(e),C(t)),a&&a.d(),r&&r.d()}}}function Qn(i){let e,t,n,s,o,l,a,r;n=new _e({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_menu`,title:window.trans("menu")}});let c=i[10]&&Kt(i);return{c(){e=p("span"),t=p("button"),de(n.$$.fragment),s=S(),c&&c.c(),o=Se(),h(t,"type","button"),h(t,"class","mt-breadcrumb-button"),h(e,"class","mt-breadcrumb-button-wrapper")},m(m,_){T(m,e,_),u(e,t),ce(n,t,null),i[14](t),T(m,s,_),c&&c.m(m,_),T(m,o,_),l=!0,a||(r=z(t,"click",i[12]),a=!0)},p(m,[_]){m[10]?c?(c.p(m,_),_&1024&&U(c,1)):(c=Kt(m),c.c(),U(c,1),c.m(o.parentNode,o)):c&&(Pe(),G(c,1,1,()=>{c=null}),Ge())},i(m){l||(U(n.$$.fragment,m),U(c),l=!0)},o(m){G(n.$$.fragment,m),G(c),l=!1},d(m){m&&(C(e),C(s),C(o)),ue(n),i[14](null),c&&c.d(m),a=!1,r()}}}function Xn(i,e,t){let{breadcrumbs:n=[]}=e,{scopeType:s=""}=e,{canAccessToSystemDashboard:o=!1}=e,{canCurrentWebSiteLink:l=!1}=e,{currentWebsiteID:a=""}=e,{currentWebsiteName:r=""}=e,{blogID:c=""}=e,{blogName:m=""}=e,_=!1;const d=()=>{t(10,_=!0)},f=()=>{t(10,_=!1)};let b=null,w=null,A=0;function v(g){re[g?"unshift":"push"](()=>{b=g,t(8,b)})}function k(g){re[g?"unshift":"push"](()=>{w=g,t(9,w)})}return i.$$set=g=>{"breadcrumbs"in g&&t(0,n=g.breadcrumbs),"scopeType"in g&&t(1,s=g.scopeType),"canAccessToSystemDashboard"in g&&t(2,o=g.canAccessToSystemDashboard),"canCurrentWebSiteLink"in g&&t(3,l=g.canCurrentWebSiteLink),"currentWebsiteID"in g&&t(4,a=g.currentWebsiteID),"currentWebsiteName"in g&&t(5,r=g.currentWebsiteName),"blogID"in g&&t(6,c=g.blogID),"blogName"in g&&t(7,m=g.blogName)},i.$$.update=()=>{if(i.$$.dirty&768&&b&&w){const g=b.getBoundingClientRect();t(11,A=g.left+(g.width-w.offsetWidth)/2)}},[n,s,o,l,a,r,c,m,b,w,_,A,d,f,v,k]}class Yn extends Fe{constructor(e){super(),Ie(this,e,Xn,Qn,Ae,{breadcrumbs:0,scopeType:1,canAccessToSystemDashboard:2,canCurrentWebSiteLink:3,currentWebsiteID:4,currentWebsiteName:5,blogID:6,blogName:7})}}const Zn=({target:i})=>{const e=i.getAttribute("data-breadcrumbs"),t=i.getAttribute("data-scope-type"),n=i.getAttribute("data-can-access-to-system-dashboard"),s=i.getAttribute("data-curr-website-can-link"),o=i.getAttribute("data-curr-website-id"),l=i.getAttribute("data-curr-website-name"),a=i.getAttribute("data-blog-id"),r=i.getAttribute("data-blog-name"),c={breadcrumbs:e?JSON.parse(e):[],scopeType:t||"",canAccessToSystemDashboard:n==="1",canCurrentWebsiteLink:s==="1",currentWebsiteID:o||"",currentWebsiteName:l||"",blogID:a||"",blogName:r||""};new Yn({target:i,props:c})},Qe=i=>document.querySelector(i)||null;document.addEventListener("DOMContentLoaded",()=>{var i,e,t;const n=document.querySelector('[data-is="primary-navigation-toggle"]');n!==null&&Cn(n);const s=Qe('[data-is="breadcrumbs"]');s!==null&&Zn({target:s});const o=document.querySelector('[data-script="admin-header"]'),l=(i=o.getAttribute("data-blog-id"))!==null&&i!==void 0?i:"",a=(e=o.getAttribute("data-magic-token"))!==null&&e!==void 0?e:"",r=(t=o.getAttribute("data-scope-type"))!==null&&t!==void 0?t:"";if(a===""){console.error("data-magic-token is not set");return}const c=o.getAttribute("data-blog-id")||"50",m=Qe('[data-is="site-list-button"]');if(m!==null&&Gn(m,{magicToken:a,limit:Number.parseInt(c)}),r==="user"||r==="system")return;if(l===""){console.error("data-blog-id is not set");return}const _=Qe('[data-is="create-button"]'),d=Qe('[data-is="search-button"]');(_!==null||d!==null)&&tn({blogId:l,magicToken:a,page:1,limit:Number.parseInt(c)}).then(f=>{_!==null&&yn({target:_,props:{blog_id:l,contentTypes:f.contentTypes}}),d!==null&&On(d,{blogId:l,magicToken:a,contentTypes:f.contentTypes})})});
