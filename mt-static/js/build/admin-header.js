class pt{constructor({cache:e}){this.cache=e}generateCacheKey({prefix:e,params:t}){const n=Object.keys(t).sort().reduce((s,l)=>(s[l]=t[l],s),{});return`${e}_${JSON.stringify(n)}`}async fetchWithCache({key:e,fetcher:t,ttl:n=1e3*60,noCache:s=!1}){return s?t():this.cache.get(e)||t().then(o=>(this.cache.set(e,o,n),o)).catch(o=>(console.log("Failed to fetch data:",o),o))}clearCache(e){this.cache.delete(e)}clearAllCache(){this.cache.clear()}}const ke=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_t=new Set,Ye=typeof process=="object"&&process?process:{},gt=(i,e,t,n)=>{typeof Ye.emitWarning=="function"?Ye.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let Pe=globalThis.AbortController,mt=globalThis.AbortSignal;if(typeof Pe>"u"){mt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,s){this._onabort.push(s)}},Pe=class{constructor(){e()}signal=new mt;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const s of this.signal._onabort)s(n);this.signal.onabort?.(n)}}};let i=Ye.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{i&&(i=!1,gt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const xt=i=>!_t.has(i),ce=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),wt=i=>ce(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Ge:null:null;class Ge extends Array{constructor(e){super(e),this.fill(0)}}class Fe{heap;length;static#a=!1;static create(e){const t=wt(e);if(!t)return[];Fe.#a=!0;const n=new Fe(e,t);return Fe.#a=!1,n}constructor(e,t){if(!Fe.#a)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class ot{#a;#h;#_;#g;#R;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#m;#i;#n;#e;#c;#f;#r;#l;#w;#o;#b;#v;#d;#y;#A;#u;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#d,sizes:e.#b,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#c,prev:e.#f,get head(){return e.#r},get tail(){return e.#l},free:e.#w,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,n,s,l)=>e.#L(t,n,s,l),moveToTail:t=>e.#F(t),indexes:t=>e.#S(t),rindexes:t=>e.#k(t),isStale:t=>e.#p(t)}}get max(){return this.#a}get maxSize(){return this.#h}get calculatedSize(){return this.#m}get size(){return this.#s}get fetchMethod(){return this.#R}get memoMethod(){return this.#N}get dispose(){return this.#_}get disposeAfter(){return this.#g}constructor(e){const{max:t=0,ttl:n,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:o,updateAgeOnHas:h,allowStale:r,dispose:f,disposeAfter:w,noDisposeOnSet:d,noUpdateTTL:p,maxSize:c=0,maxEntrySize:g=0,sizeCalculation:m,fetchMethod:E,memoMethod:v,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:T,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:N,ignoreFetchAbort:D}=e;if(t!==0&&!ce(t))throw new TypeError("max option must be a nonnegative integer");const U=t?wt(t):Array;if(!U)throw new Error("invalid max value: "+t);if(this.#a=t,this.#h=c,this.maxEntrySize=g||this.#h,this.sizeCalculation=m,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=v,E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#R=E,this.#A=!!E,this.#i=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#c=new U(t),this.#f=new U(t),this.#r=0,this.#l=0,this.#w=Fe.create(t),this.#s=0,this.#m=0,typeof f=="function"&&(this.#_=f),typeof w=="function"?(this.#g=w,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#y=!!this.#_,this.#u=!!this.#g,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#h!==0&&!ce(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!ce(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!r,this.noDeleteOnStaleGet=!!T,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!h,this.ttlResolution=ce(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=n||0,this.ttl){if(!ce(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#j()}if(this.#a===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#a&&!this.#h){const F="LRU_CACHE_UNBOUNDED";xt(F)&&(_t.add(F),gt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",F,ot))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#j(){const e=new Ge(this.#a),t=new Ge(this.#a);this.#d=e,this.#v=t,this.#M=(l,o,h=ke.now())=>{if(t[l]=o!==0?h:0,e[l]=o,o!==0&&this.ttlAutopurge){const r=setTimeout(()=>{this.#p(l)&&this.#T(this.#n[l],"expire")},o+1);r.unref&&r.unref()}},this.#E=l=>{t[l]=e[l]!==0?ke.now():0},this.#C=(l,o)=>{if(e[o]){const h=e[o],r=t[o];if(!h||!r)return;l.ttl=h,l.start=r,l.now=n||s();const f=l.now-r;l.remainingTTL=h-f}};let n=0;const s=()=>{const l=ke.now();if(this.ttlResolution>0){n=l;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return l};this.getRemainingTTL=l=>{const o=this.#i.get(l);if(o===void 0)return 0;const h=e[o],r=t[o];if(!h||!r)return 1/0;const f=(n||s())-r;return h-f},this.#p=l=>{const o=t[l],h=e[l];return!!h&&!!o&&(n||s())-o>h}}#E=()=>{};#C=()=>{};#M=()=>{};#p=()=>!1;#P(){const e=new Ge(this.#a);this.#m=0,this.#b=e,this.#O=t=>{this.#m-=e[t],e[t]=0},this.#U=(t,n,s,l)=>{if(this.#t(n))return 0;if(!ce(s))if(l){if(typeof l!="function")throw new TypeError("sizeCalculation must be a function");if(s=l(n,t),!ce(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#z=(t,n,s)=>{if(e[t]=n,this.#h){const l=this.#h-e[t];for(;this.#m>l;)this.#I(!0)}this.#m+=e[t],s&&(s.entrySize=n,s.totalCalculatedSize=this.#m)}}#O=e=>{};#z=(e,t,n)=>{};#U=(e,t,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#l;!(!this.#W(t)||((e||!this.#p(t))&&(yield t),t===this.#r));)t=this.#f[t]}*#k({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#r;!(!this.#W(t)||((e||!this.#p(t))&&(yield t),t===this.#l));)t=this.#c[t]}#W(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#k())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#S()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(const e of this.#k()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#k())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#S()){const s=this.#e[n],l=this.#t(s)?s.__staleWhileFetching:s;if(l!==void 0&&e(l,this.#n[n],this))return this.get(this.#n[n],t)}}forEach(e,t=this){for(const n of this.#S()){const s=this.#e[n],l=this.#t(s)?s.__staleWhileFetching:s;l!==void 0&&e.call(t,l,this.#n[n],this)}}rforEach(e,t=this){for(const n of this.#k()){const s=this.#e[n],l=this.#t(s)?s.__staleWhileFetching:s;l!==void 0&&e.call(t,l,this.#n[n],this)}}purgeStale(){let e=!1;for(const t of this.#k({allowStale:!0}))this.#p(t)&&(this.#T(this.#n[t],"expire"),e=!0);return e}info(e){const t=this.#i.get(e);if(t===void 0)return;const n=this.#e[t],s=this.#t(n)?n.__staleWhileFetching:n;if(s===void 0)return;const l={value:s};if(this.#d&&this.#v){const o=this.#d[t],h=this.#v[t];if(o&&h){const r=o-(ke.now()-h);l.ttl=r,l.start=Date.now()}}return this.#b&&(l.size=this.#b[t]),l}dump(){const e=[];for(const t of this.#S({allowStale:!0})){const n=this.#n[t],s=this.#e[t],l=this.#t(s)?s.__staleWhileFetching:s;if(l===void 0||n===void 0)continue;const o={value:l};if(this.#d&&this.#v){o.ttl=this.#d[t];const h=ke.now()-this.#v[t];o.start=Math.floor(Date.now()-h)}this.#b&&(o.size=this.#b[t]),e.unshift([n,o])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const s=Date.now()-n.start;n.start=ke.now()-s}this.set(t,n.value,n)}}set(e,t,n={}){if(t===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:l,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:r}=n;let{noUpdateTTL:f=this.noUpdateTTL}=n;const w=this.#U(e,t,n.size||0,h);if(this.maxEntrySize&&w>this.maxEntrySize)return r&&(r.set="miss",r.maxEntrySizeExceeded=!0),this.#T(e,"set"),this;let d=this.#s===0?void 0:this.#i.get(e);if(d===void 0)d=this.#s===0?this.#l:this.#w.length!==0?this.#w.pop():this.#s===this.#a?this.#I(!1):this.#s,this.#n[d]=e,this.#e[d]=t,this.#i.set(e,d),this.#c[this.#l]=d,this.#f[d]=this.#l,this.#l=d,this.#s++,this.#z(d,w,r),r&&(r.set="add"),f=!1;else{this.#F(d);const p=this.#e[d];if(t!==p){if(this.#A&&this.#t(p)){p.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:c}=p;c!==void 0&&!o&&(this.#y&&this.#_?.(c,e,"set"),this.#u&&this.#o?.push([c,e,"set"]))}else o||(this.#y&&this.#_?.(p,e,"set"),this.#u&&this.#o?.push([p,e,"set"]));if(this.#O(d),this.#z(d,w,r),this.#e[d]=t,r){r.set="replace";const c=p&&this.#t(p)?p.__staleWhileFetching:p;c!==void 0&&(r.oldValue=c)}}else r&&(r.set="update")}if(s!==0&&!this.#d&&this.#j(),this.#d&&(f||this.#M(d,s,l),r&&this.#C(r,d)),!o&&this.#u&&this.#o){const p=this.#o;let c;for(;c=p?.shift();)this.#g?.(...c)}return this}pop(){try{for(;this.#s;){const e=this.#e[this.#r];if(this.#I(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#o){const e=this.#o;let t;for(;t=e?.shift();)this.#g?.(...t)}}}#I(e){const t=this.#r,n=this.#n[t],s=this.#e[t];return this.#A&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#y||this.#u)&&(this.#y&&this.#_?.(s,n,"evict"),this.#u&&this.#o?.push([s,n,"evict"])),this.#O(t),e&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#w.push(t)),this.#s===1?(this.#r=this.#l=0,this.#w.length=0):this.#r=this.#c[t],this.#i.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=t,l=this.#i.get(e);if(l!==void 0){const o=this.#e[l];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(l))s&&(s.has="stale",this.#C(s,l));else return n&&this.#E(l),s&&(s.has="hit",this.#C(s,l)),!0}else s&&(s.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,s=this.#i.get(e);if(s===void 0||!n&&this.#p(s))return;const l=this.#e[s];return this.#t(l)?l.__staleWhileFetching:l}#L(e,t,n,s){const l=t===void 0?void 0:this.#e[t];if(this.#t(l))return l;const o=new Pe,{signal:h}=n;h?.addEventListener("abort",()=>o.abort(h.reason),{signal:o.signal});const r={signal:o.signal,options:n,context:s},f=(m,E=!1)=>{const{aborted:v}=o.signal,y=n.ignoreFetchAbort&&m!==void 0;if(n.status&&(v&&!E?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,y&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!y&&!E)return d(o.signal.reason);const T=c;return this.#e[t]===c&&(m===void 0?T.__staleWhileFetching?this.#e[t]=T.__staleWhileFetching:this.#T(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,m,r.options))),m},w=m=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=m),d(m)),d=m=>{const{aborted:E}=o.signal,v=E&&n.allowStaleOnFetchAbort,y=v||n.allowStaleOnFetchRejection,T=y||n.noDeleteOnFetchRejection,b=c;if(this.#e[t]===c&&(!T||b.__staleWhileFetching===void 0?this.#T(e,"fetch"):v||(this.#e[t]=b.__staleWhileFetching)),y)return n.status&&b.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),b.__staleWhileFetching;if(b.__returned===b)throw m},p=(m,E)=>{const v=this.#R?.(e,l,r);v&&v instanceof Promise&&v.then(y=>m(y===void 0?void 0:y),E),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(m(void 0),n.allowStaleOnFetchAbort&&(m=y=>f(y,!0)))})};n.status&&(n.status.fetchDispatched=!0);const c=new Promise(p).then(f,w),g=Object.assign(c,{__abortController:o,__staleWhileFetching:l,__returned:void 0});return t===void 0?(this.set(e,g,{...r.options,status:void 0}),t=this.#i.get(e)):this.#e[t]=g,g}#t(e){if(!this.#A)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Pe}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:r=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:w=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:c=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:m,forceRefresh:E=!1,status:v,signal:y}=t;if(!this.#A)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:l,status:v});const T={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:l,ttl:o,noDisposeOnSet:h,size:r,sizeCalculation:f,noUpdateTTL:w,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:c,status:v,signal:y};let b=this.#i.get(e);if(b===void 0){v&&(v.fetch="miss");const N=this.#L(e,b,T,m);return N.__returned=N}else{const N=this.#e[b];if(this.#t(N)){const j=n&&N.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",j&&(v.returnedStale=!0)),j?N.__staleWhileFetching:N.__returned=N}const D=this.#p(b);if(!E&&!D)return v&&(v.fetch="hit"),this.#F(b),s&&this.#E(b),v&&this.#C(v,b),N;const U=this.#L(e,b,T,m),A=U.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=D?"stale":"refresh",A&&D&&(v.returnedStale=!0)),A?U.__staleWhileFetching:U.__returned=U}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#N;if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:l,...o}=t,h=this.get(e,o);if(!l&&h!==void 0)return h;const r=n(e,h,{options:o,context:s});return this.set(e,r,o),r}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,status:o}=t,h=this.#i.get(e);if(h!==void 0){const r=this.#e[h],f=this.#t(r);return o&&this.#C(o,h),this.#p(h)?(o&&(o.get="stale"),f?(o&&n&&r.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?r.__staleWhileFetching:void 0):(l||this.#T(e,"expire"),o&&n&&(o.returnedStale=!0),n?r:void 0)):(o&&(o.get="hit"),f?r.__staleWhileFetching:(this.#F(h),s&&this.#E(h),r))}else o&&(o.get="miss")}#D(e,t){this.#f[t]=e,this.#c[e]=t}#F(e){e!==this.#l&&(e===this.#r?this.#r=this.#c[e]:this.#D(this.#f[e],this.#c[e]),this.#D(this.#l,e),this.#l=e)}delete(e){return this.#T(e,"delete")}#T(e,t){let n=!1;if(this.#s!==0){const s=this.#i.get(e);if(s!==void 0)if(n=!0,this.#s===1)this.#H(t);else{this.#O(s);const l=this.#e[s];if(this.#t(l)?l.__abortController.abort(new Error("deleted")):(this.#y||this.#u)&&(this.#y&&this.#_?.(l,e,t),this.#u&&this.#o?.push([l,e,t])),this.#i.delete(e),this.#n[s]=void 0,this.#e[s]=void 0,s===this.#l)this.#l=this.#f[s];else if(s===this.#r)this.#r=this.#c[s];else{const o=this.#f[s];this.#c[o]=this.#c[s];const h=this.#c[s];this.#f[h]=this.#f[s]}this.#s--,this.#w.push(s)}}if(this.#u&&this.#o?.length){const s=this.#o;let l;for(;l=s?.shift();)this.#g?.(...l)}return n}clear(){return this.#H("delete")}#H(e){for(const t of this.#k({allowStale:!0})){const n=this.#e[t];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const s=this.#n[t];this.#y&&this.#_?.(n,s,e),this.#u&&this.#o?.push([n,s,e])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#b&&this.#b.fill(0),this.#r=0,this.#l=0,this.#w.length=0,this.#m=0,this.#s=0,this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#g?.(...n)}}}class bt{constructor(e){var t;this.cache=new ot({ttl:(t=e?.ttl)!==null&&t!==void 0?t:1e3*60,ttlAutopurge:!1,allowStale:!1})}get(e){const t=this.cache.get(e);if(t){if(t.expiry>Date.now())return t.data;this.delete(e)}return null}set(e,t,n){const s=Date.now()+n;this.cache.set(e,{data:t,expiry:s},{ttl:n})}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const Bt=new bt,vt=new pt({cache:Bt}),qt=async i=>{const e={__mode:"filtered_list",blog_id:i.blogId,columns:"name",datasource:"content_type",items:"[]",limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await vt.fetchWithCache({key:vt.generateCacheKey({prefix:"content_types",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"}),n=t.result.objects.map(s=>{const l=s[1].replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"");return{id:s[0],name:l}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),contentTypes:n}}})};function x(){}function yt(i){return i()}function St(){return Object.create(null)}function X(i){i.forEach(yt)}function et(i){return typeof i=="function"}function Ne(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function Kt(i){return Object.keys(i).length===0}function Ve(i){return i&&et(i.destroy)?i.destroy:x}const Jt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function u(i,e){i.appendChild(e)}function R(i,e,t){i.insertBefore(e,t||null)}function O(i){i.parentNode&&i.parentNode.removeChild(i)}function $e(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function _(i){return document.createElement(i)}function ze(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function L(i){return document.createTextNode(i)}function k(){return L(" ")}function Ie(){return L("")}function z(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function a(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function kt(i,e,t){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Tt(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function Qt(i){return Array.from(i.childNodes)}function ue(i,e){e=""+e,i.data!==e&&(i.data=e)}function ie(i,e){i.value=e??""}function Ct(i,e,t){for(let n=0;n<i.options.length;n+=1){const s=i.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function Zt(i){const e=i.querySelector(":checked");return e&&e.__value}function At(i,e,t){i.classList.toggle(e,!!t)}let Le;function je(i){Le=i}function Xt(){if(!Le)throw new Error("Function called outside component initialization");return Le}function tt(i){Xt().$$.on_mount.push(i)}const Te=[],he=[];let Ce=[];const Et=[],Ot=Promise.resolve();let nt=!1;function Ft(){nt||(nt=!0,Ot.then(Rt))}function Yt(){return Ft(),Ot}function xe(i){Ce.push(i)}const it=new Set;let Ae=0;function Rt(){if(Ae!==0)return;const i=Le;do{try{for(;Ae<Te.length;){const e=Te[Ae];Ae++,je(e),en(e.$$)}}catch(e){throw Te.length=0,Ae=0,e}for(je(null),Te.length=0,Ae=0;he.length;)he.pop()();for(let e=0;e<Ce.length;e+=1){const t=Ce[e];it.has(t)||(it.add(t),t())}Ce.length=0}while(Te.length);for(;Et.length;)Et.pop()();nt=!1,it.clear(),je(i)}function en(i){if(i.fragment!==null){i.update(),X(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(xe)}}function tn(i){const e=[],t=[];Ce.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ce=e}const Be=new Set;let me;function qe(){me={r:0,c:[],p:me}}function Ke(){me.r||X(me.c),me=me.p}function P(i,e){i&&i.i&&(Be.delete(i),i.i(e))}function K(i,e,t,n){if(i&&i.o){if(Be.has(i))return;Be.add(i),me.c.push(()=>{Be.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function fe(i){return i?.length!==void 0?i:Array.from(i)}function Ee(i){i&&i.c()}function we(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),xe(()=>{const l=i.$$.on_mount.map(yt).filter(et);i.$$.on_destroy?i.$$.on_destroy.push(...l):X(l),i.$$.on_mount=[]}),s.forEach(xe)}function be(i,e){const t=i.$$;t.fragment!==null&&(tn(t.after_update),X(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nn(i,e){i.$$.dirty[0]===-1&&(Te.push(i),Ft(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Me(i,e,t,n,s,l,o=null,h=[-1]){const r=Le;je(i);const f=i.$$={fragment:null,ctx:[],props:l,update:x,not_equal:s,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:St(),dirty:h,skip_bound:!1,root:e.target||r.$$.root};o&&o(f.root);let w=!1;if(f.ctx=t?t(i,e.props||{},(d,p,...c)=>{const g=c.length?c[0]:p;return f.ctx&&s(f.ctx[d],f.ctx[d]=g)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](g),w&&nn(i,d)),p}):[],f.update(),w=!0,X(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const d=Qt(e.target);f.fragment&&f.fragment.l(d),d.forEach(O)}else f.fragment&&f.fragment.c();e.intro&&P(i.$$.fragment),we(i,e.target,e.anchor),Rt()}je(r)}class Ue{$$=void 0;$$set=void 0;$destroy(){be(this,1),this.$destroy=x}$on(e,t){if(!et(t))return x;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sn);function Je(i,e="body"){let t;async function n(l){if(e=l,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Yt(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(i),i.hidden=!1}function s(){i.parentNode&&i.parentNode.removeChild(i)}return n(e),{update:n,destroy:s}}function st(i,e){return!i.some(t=>t&&t.contains(e))}function Nt(i){let e,t;return{c(){e=ze("title"),t=L(i[2])},m(n,s){R(n,e,s),u(e,t)},p(n,s){s&4&&ue(t,n[2])},d(n){n&&O(e)}}}function ln(i){let e,t,n=i[2]&&Nt(i);return{c(){e=ze("svg"),n&&n.c(),t=ze("use"),kt(t,"xlink:href",i[1]),a(e,"role","img"),a(e,"class",i[0])},m(s,l){R(s,e,l),n&&n.m(e,null),u(e,t)},p(s,[l]){s[2]?n?n.p(s,l):(n=Nt(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),l&2&&kt(t,"xlink:href",s[1]),l&1&&a(e,"class",s[0])},i:x,o:x,d(s){s&&O(e),n&&n.d()}}}function on(i,e,t){let{class:n}=e,{href:s}=e,{title:l}=e;return i.$$set=o=>{"class"in o&&t(0,n=o.class),"href"in o&&t(1,s=o.href),"title"in o&&t(2,l=o.title)},[n,s,l]}class Oe extends Ue{constructor(e){super(),Me(this,e,on,ln,Ne,{class:0,href:1,title:2})}}function zt(i,e,t){const n=i.slice();return n[10]=e[t],n}function It(i){let e,t,n,s,l,o,h,r,f,w,d,p,c,g=window.trans("New [_1] creation",window.trans("Entry"))+"",m,E,v,y,T=window.trans("New [_1] creation",window.trans("Page"))+"",b,N,D;function U(j,Q){return j[0].length>0?an:rn}let F=U(i),A=F(i);return{c(){e=_("div"),t=_("div"),n=_("button"),n.innerHTML='<span aria-hidden="true" class="svelte-1uh90x8">\xD7</span>',s=k(),l=_("div"),o=_("p"),o.textContent=`${window.trans("Content Data")}`,h=k(),A.c(),r=k(),f=_("p"),f.textContent=`${`${window.trans("Entry")}\u30FB${window.trans("Page")}`}`,w=k(),d=_("ul"),p=_("li"),c=_("a"),m=L(g),E=k(),v=_("li"),y=_("a"),b=L(T),a(n,"type","button"),a(n,"class","close svelte-1uh90x8"),a(n,"data-dismiss","modal"),a(n,"aria-label","Close"),a(t,"class","modal-header svelte-1uh90x8"),a(o,"class","block-title svelte-1uh90x8"),a(f,"class","block-title svelte-1uh90x8"),a(c,"href",`${window.CMSScriptURI}?__mode=edit&_type=entry&blog_id=2`),a(c,"class","svelte-1uh90x8"),a(p,"class","svelte-1uh90x8"),a(y,"href",`${window.CMSScriptURI}?__mode=edit&_type=page&blog_id=2`),a(y,"class","svelte-1uh90x8"),a(v,"class","svelte-1uh90x8"),a(d,"class","create-button-list svelte-1uh90x8"),a(l,"class","modal-body svelte-1uh90x8"),a(e,"class","modal create-button-modal svelte-1uh90x8")},m(j,Q){R(j,e,Q),u(e,t),u(t,n),u(e,s),u(e,l),u(l,o),u(l,h),A.m(l,null),u(l,r),u(l,f),u(l,w),u(l,d),u(d,p),u(p,c),u(c,m),u(d,E),u(d,v),u(v,y),u(y,b),i[9](e),N||(D=[z(n,"click",i[6]),Ve(Je.call(null,e,"body"))],N=!0)},p(j,Q){F===(F=U(j))&&A?A.p(j,Q):(A.d(1),A=F(j),A&&(A.c(),A.m(l,r)))},d(j){j&&O(e),A.d(),i[9](null),N=!1,X(D)}}}function rn(i){let e;return{c(){e=_("p"),e.textContent=`${window.trans("No Content Type could be found.")}`},m(t,n){R(t,e,n)},p:x,d(t){t&&O(e)}}}function an(i){let e,t=fe(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Lt(zt(i,t,s));return{c(){e=_("ul");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","create-button-list svelte-1uh90x8")},m(s,l){R(s,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,l){if(l&3){t=fe(s[0]);let o;for(o=0;o<t.length;o+=1){const h=zt(s,t,o);n[o]?n[o].p(h,l):(n[o]=Lt(h),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&O(e),$e(n,s)}}}function Lt(i){let e,t,n=window.trans("New [_1] creation",i[10].name)+"",s,l,o;return{c(){e=_("li"),t=_("a"),s=L(n),o=k(),a(t,"href",l=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${i[10].id}&type=content_data_${i[10].id}&blog_id=${i[1]}`),a(t,"class","svelte-1uh90x8"),a(e,"class","svelte-1uh90x8")},m(h,r){R(h,e,r),u(e,t),u(t,s),u(e,o)},p(h,r){r&1&&n!==(n=window.trans("New [_1] creation",h[10].name)+"")&&ue(s,n),r&3&&l!==(l=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${h[10].id}&type=content_data_${h[10].id}&blog_id=${h[1]}`)&&a(t,"href",l)},d(h){h&&O(e)}}}function cn(i){let e,t,n,s,l=window.trans("Create New")+"",o,h,r,f,w,d;n=new Oe({props:{title:window.trans("Create New"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_create`}});let p=i[2]&&It(i);return{c(){e=k(),t=_("a"),Ee(n.$$.fragment),s=k(),o=L(l),h=k(),p&&p.c(),r=Ie(),a(t,"href","#"),a(t,"class","menu_actions__button create")},m(c,g){R(c,e,g),R(c,t,g),we(n,t,null),u(t,s),u(t,o),i[8](t),R(c,h,g),p&&p.m(c,g),R(c,r,g),f=!0,w||(d=[z(document.body,"click",i[7]),z(t,"click",i[5])],w=!0)},p(c,[g]){c[2]?p?p.p(c,g):(p=It(c),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i(c){f||(P(n.$$.fragment,c),f=!0)},o(c){K(n.$$.fragment,c),f=!1},d(c){c&&(O(e),O(t),O(h),O(r)),be(n),i[8](null),p&&p.d(c),w=!1,X(d)}}}function un(i,e,t){let{contentTypes:n=[]}=e,{blog_id:s}=e,l=!1;const o=()=>{t(2,l=!0)},h=()=>{t(2,l=!1)};let r=null,f=null;const w=c=>{const g=c.target;l&&st([r,f],g)&&h()};function d(c){he[c?"unshift":"push"](()=>{r=c,t(3,r)})}function p(c){he[c?"unshift":"push"](()=>{f=c,t(4,f)})}return i.$$set=c=>{"contentTypes"in c&&t(0,n=c.contentTypes),"blog_id"in c&&t(1,s=c.blog_id)},[n,s,l,r,f,o,h,w,d,p]}class hn extends Ue{constructor(e){super(),Me(this,e,un,cn,Ne,{contentTypes:0,blog_id:1})}}const fn=({target:i,props:e})=>{new hn({target:i,props:e})};function dn(i){let e,t,n;return{c(){e=_("div"),a(e,"class","mt-primaryNavigation__toggle_bar")},m(s,l){R(s,e,l),t||(n=[z(e,"click",i[0]),z(e,"mouseover",i[1]),z(e,"mouseout",i[2])],t=!0)},p:x,i:x,o:x,d(s){s&&O(e),t=!1,X(n)}}}const jt="collapsed";function pn(i){let t=sessionStorage.getItem(jt)==="true",n=!1;const s=(r=null)=>{const f=w=>{const d=document.querySelector(".mt-contentWrapper");w?d.classList.add("collapsed"):d.classList.remove("collapsed")};f(r!==null?r:t)},l=()=>{t=!t,sessionStorage.setItem(jt,t.toString()),s(t)},o=()=>{n=!0,t?(s(!1),setTimeout(()=>{n=!1},1e3)):n=!1},h=()=>{t&&!n&&s(!0)};return tt(()=>{var r,f;window.innerWidth<1e3&&(t=!0),s(),(r=document.querySelector(".mt-primaryNavigation"))===null||r===void 0||r.addEventListener("mouseover",o),(f=document.querySelector(".mt-primaryNavigation"))===null||f===void 0||f.addEventListener("mouseout",h)}),[l,o,h]}class _n extends Ue{constructor(e){super(),Me(this,e,pn,dn,Ne,{})}}function gn(i){new _n({target:i})}function Mt(i,e,t){const n=i.slice();return n[17]=e[t],n}function Ut(i,e,t){const n=i.slice();return n[20]=e[t],n}function Wt(i){let e,t,n,s,l,o,h,r,f,w,d,p,c,g,m,E,v,y,T,b,N,D,U,F,A,j,Q,de=window.trans("Content Data")+"",pe,B,$,Y,_e,G,C,se,ve,ge;N=new Oe({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});function J(S,H){return S[2].length>0?wn:mn}let ee=J(i),V=ee(i),le=fe(i[10].slice(1)),W=[];for(let S=0;S<le.length;S+=1)W[S]=Ht(Mt(i,le,S));return se=Tt(i[14][0]),{c(){e=_("div"),t=k(),n=_("div"),s=_("div"),l=_("form"),o=_("input"),h=k(),r=_("input"),w=k(),d=_("input"),p=k(),c=_("input"),g=k(),m=_("input"),E=k(),v=_("div"),y=_("input"),T=k(),b=_("button"),Ee(N.$$.fragment),D=k(),U=_("div"),F=_("label"),A=_("input"),Q=k(),pe=L(de),B=k(),$=_("select"),V.c(),_e=k(),G=_("div");for(let S=0;S<W.length;S+=1)W[S].c();a(e,"class","search-button-modal-overlay svelte-wja7gp"),a(o,"type","hidden"),a(o,"name","__mode"),o.value="search_replace",a(r,"type","hidden"),a(r,"name","blog_id"),r.value=f=i[6]!=="blog"?i[0]:"0",a(d,"type","hidden"),a(d,"name","_type"),a(c,"type","hidden"),a(c,"name","do_search"),c.value="1",a(m,"type","hidden"),a(m,"name","magic_token"),m.value=i[1],a(y,"type","text"),a(y,"placeholder",window.trans("Select target and search text")),a(y,"name","search"),a(y,"class","svelte-wja7gp"),a(b,"type","submit"),a(b,"class","svelte-wja7gp"),a(v,"class","search-text-box svelte-wja7gp"),a(A,"type","radio"),a(A,"name","type"),A.__value="content_data",ie(A,A.__value),a(A,"id","content_data"),A.disabled=j=i[2].length===0,a(A,"class","svelte-wja7gp"),a($,"name","content_type_id"),$.disabled=Y=i[6]!=="content_data"||i[2].length===0,a($,"class","svelte-wja7gp"),At($,"disabled",i[6]!=="content_data"),a(F,"class","svelte-wja7gp"),a(U,"class","search-type svelte-wja7gp"),a(G,"class","search-type svelte-wja7gp"),a(l,"class","search-form svelte-wja7gp"),a(l,"method","post"),a(l,"action",window.ScriptURI),a(s,"class","modal-body svelte-wja7gp"),a(n,"class","modal search-button-modal svelte-wja7gp"),se.p(A)},m(S,H){R(S,e,H),R(S,t,H),R(S,n,H),u(n,s),u(s,l),u(l,o),u(l,h),u(l,r),u(l,w),u(l,d),ie(d,i[6]),u(l,p),u(l,c),u(l,g),u(l,m),u(l,E),u(l,v),u(v,y),u(v,T),u(v,b),we(N,b,null),u(l,D),u(l,U),u(U,F),u(F,A),A.checked=A.__value===i[6],u(F,Q),u(F,pe),u(F,B),u(F,$),V.m($,null),u(l,_e),u(l,G);for(let M=0;M<W.length;M+=1)W[M]&&W[M].m(G,null);i[16](n),C=!0,ve||(ge=[z(e,"click",i[8]),Ve(Je.call(null,e,"body")),z(d,"input",i[12]),z(A,"change",i[13]),Ve(Je.call(null,n,"body"))],ve=!0)},p(S,H){if((!C||H&65&&f!==(f=S[6]!=="blog"?S[0]:"0"))&&(r.value=f),H&64&&ie(d,S[6]),(!C||H&2)&&(m.value=S[1]),(!C||H&4&&j!==(j=S[2].length===0))&&(A.disabled=j),H&64&&(A.checked=A.__value===S[6]),ee===(ee=J(S))&&V?V.p(S,H):(V.d(1),V=ee(S),V&&(V.c(),V.m($,null))),(!C||H&68&&Y!==(Y=S[6]!=="content_data"||S[2].length===0))&&($.disabled=Y),(!C||H&64)&&At($,"disabled",S[6]!=="content_data"),H&1088){le=fe(S[10].slice(1));let M;for(M=0;M<le.length;M+=1){const oe=Mt(S,le,M);W[M]?W[M].p(oe,H):(W[M]=Ht(oe),W[M].c(),W[M].m(G,null))}for(;M<W.length;M+=1)W[M].d(1);W.length=le.length}},i(S){C||(P(N.$$.fragment,S),C=!0)},o(S){K(N.$$.fragment,S),C=!1},d(S){S&&(O(e),O(t),O(n)),be(N),V.d(),$e(W,S),i[16](null),se.r(),ve=!1,X(ge)}}}function mn(i){let e;return{c(){e=_("option"),e.textContent=`${window.trans("No Content Type could be found.")}`,e.__value="",ie(e,e.__value)},m(t,n){R(t,e,n)},p:x,d(t){t&&O(e)}}}function wn(i){let e,t=fe(i[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dt(Ut(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ie()},m(s,l){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,l);R(s,e,l)},p(s,l){if(l&4){t=fe(s[2]);let o;for(o=0;o<t.length;o+=1){const h=Ut(s,t,o);n[o]?n[o].p(h,l):(n[o]=Dt(h),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&O(e),$e(n,s)}}}function Dt(i){let e,t=i[20].name+"",n,s;return{c(){e=_("option"),n=L(t),e.__value=s=i[20].id,ie(e,e.__value)},m(l,o){R(l,e,o),u(e,n)},p(l,o){o&4&&t!==(t=l[20].name+"")&&ue(n,t),o&4&&s!==(s=l[20].id)&&(e.__value=s,ie(e,e.__value))},d(l){l&&O(e)}}}function Ht(i){let e,t,n,s=i[17].label+"",l,o,h,r,f;return h=Tt(i[14][0]),{c(){e=_("label"),t=_("input"),n=k(),l=L(s),o=k(),a(t,"type","radio"),a(t,"name","type"),t.__value=i[17].value,ie(t,t.__value),a(t,"id",i[17].value),a(t,"class","svelte-wja7gp"),a(e,"class","svelte-wja7gp"),h.p(t)},m(w,d){R(w,e,d),u(e,t),t.checked=t.__value===i[6],u(e,n),u(e,l),u(e,o),r||(f=z(t,"change",i[15]),r=!0)},p(w,d){d&64&&(t.checked=t.__value===w[6])},d(w){w&&O(e),h.r(),r=!1,f()}}}function bn(i){let e,t,n,s,l=window.trans("Search")+"",o,h,r,f,w,d;n=new Oe({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});let p=i[3]&&Wt(i);return{c(){e=k(),t=_("a"),Ee(n.$$.fragment),s=k(),o=L(l),h=k(),p&&p.c(),r=Ie(),a(t,"href","#"),a(t,"class","action mt-actionSearch")},m(c,g){R(c,e,g),R(c,t,g),we(n,t,null),u(t,s),u(t,o),i[11](t),R(c,h,g),p&&p.m(c,g),R(c,r,g),f=!0,w||(d=[z(document.body,"click",i[9]),z(t,"click",i[7])],w=!0)},p(c,[g]){c[3]?p?(p.p(c,g),g&8&&P(p,1)):(p=Wt(c),p.c(),P(p,1),p.m(r.parentNode,r)):p&&(qe(),K(p,1,1,()=>{p=null}),Ke())},i(c){f||(P(n.$$.fragment,c),P(p),f=!0)},o(c){K(n.$$.fragment,c),K(p),f=!1},d(c){c&&(O(e),O(t),O(h),O(r)),be(n),i[11](null),p&&p.d(c),w=!1,X(d)}}}function vn(i,e,t){let{blogId:n}=e,{magicToken:s}=e,{contentTypes:l=[]}=e,o=!1;const h=()=>{t(3,o=!0)},r=()=>{t(3,o=!1)};let f=null,w=null;const d=b=>{const N=b.target;o&&st([f,w],N)&&r()},p=[{value:"content_data",label:window.trans("Content Data")},{value:"entry",label:window.trans("Entry")},{value:"comment",label:window.trans("Comment")},{value:"page",label:window.trans("Page")},{value:"template",label:window.trans("Template")},{value:"asset",label:window.trans("Asset")},{value:"log",label:window.trans("Log")},{value:"blog",label:window.trans("Child Site")}];let c="entry";tt(async()=>{l.length>0&&t(6,c="content_data")});const g=[[]];function m(b){he[b?"unshift":"push"](()=>{f=b,t(4,f)})}function E(){c=this.value,t(6,c)}function v(){c=this.__value,t(6,c)}function y(){c=this.__value,t(6,c)}function T(b){he[b?"unshift":"push"](()=>{w=b,t(5,w)})}return i.$$set=b=>{"blogId"in b&&t(0,n=b.blogId),"magicToken"in b&&t(1,s=b.magicToken),"contentTypes"in b&&t(2,l=b.contentTypes)},[n,s,l,o,f,w,c,h,r,d,p,m,E,v,g,y,T]}class yn extends Ue{constructor(e){super(),Me(this,e,vn,bn,Ne,{blogId:0,magicToken:1,contentTypes:2})}}function Sn(i,e){new yn({target:i,props:e})}const kn=new bt,Pt=new pt({cache:kn}),Tn=async i=>{const e={__mode:"filtered_list",blog_id:"0",columns:"name,site_url,parent_website",datasource:"website",items:JSON.stringify(i.items),limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await Pt.fetchWithCache({key:Pt.generateCacheKey({prefix:"sites",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"});if(t.error)return console.log("Failed to fetch sites:",t.error),{count:0,page:0,pageMax:0,sites:[],error:t.error};const n=t.result.objects.map(s=>{const l=s[1].replace(/<span[^>]*>.*?<\/span>\s*<a[^>]*>([^<]+)<\/a>/,"$1").trim();return{id:s[0],name:l,siteUrl:s[2],parentSiteName:s[3]}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),sites:n}}})},{document:Cn}=Jt;function Gt(i,e,t){const n=i.slice();return n[32]=e[t],n}function Vt(i){let e,t,n,s,l,o,h,r=window.trans("[_1]Site",i[2].toString())+"",f,w,d,p,c,g,m,E,v,y,T,b,N,D,U,F,A,j,Q,de,pe,B,$,Y,_e,G,C,se,ve,ge,J,ee,V,le,W,S,H,M,oe,rt,We,re,at,ye,Qe,Se,De,ct,He,ut,Re,Z,te,ne,Ze,ht;oe=new Oe({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});const ft=[En,An],ae=[];function dt(I,q){return I[7]?0:1}return Z=dt(i),te=ae[Z]=ft[Z](i),{c(){e=_("div"),t=_("div"),n=_("div"),s=_("div"),l=_("div"),o=_("span"),h=L("("),f=L(r),w=L(")"),d=k(),p=_("p"),p.textContent=`${window.trans("Site List")}`,c=k(),g=_("div"),m=_("div"),E=_("button"),v=L("<<"),T=k(),b=_("button"),N=L("<"),U=k(),F=_("span"),A=_("span"),j=L(i[3]),Q=L("/"),de=L(i[4]),pe=k(),B=_("button"),$=L(">"),_e=k(),G=_("button"),C=L(">>"),ve=k(),ge=_("div"),J=_("select"),ee=_("option"),ee.textContent=`${window.trans("All Sites")}`,V=_("option"),V.textContent=`${window.trans("Only to child sites within this system")}`,le=k(),W=_("div"),S=_("input"),H=k(),M=_("button"),Ee(oe.$$.fragment),rt=k(),We=_("div"),re=_("button"),re.innerHTML='<span aria-hidden="true" class="svelte-1wx7n1g">\xD7</span>',at=k(),ye=_("table"),Qe=_("thead"),Se=_("tr"),De=_("th"),De.textContent=`${window.trans("Site Name")}`,ct=k(),He=_("th"),He.textContent=`${window.trans("Parent Site")}`,ut=k(),Re=_("tbody"),te.c(),a(o,"class","svelte-1wx7n1g"),a(p,"class","svelte-1wx7n1g"),a(l,"class","table-title svelte-1wx7n1g"),a(E,"type","button"),E.disabled=y=i[3]===1,a(E,"class","svelte-1wx7n1g"),a(b,"type","button"),b.disabled=D=i[3]===1,a(b,"class","svelte-1wx7n1g"),a(A,"class","current svelte-1wx7n1g"),a(F,"class","page-num svelte-1wx7n1g"),a(B,"type","button"),B.disabled=Y=i[3]===i[4],a(B,"class","svelte-1wx7n1g"),a(G,"type","button"),G.disabled=se=i[3]===i[4],a(G,"class","svelte-1wx7n1g"),a(m,"class","prev-next svelte-1wx7n1g"),ee.__value="",ie(ee,ee.__value),V.__value="blog",ie(V,V.__value),a(J,"class","svelte-1wx7n1g"),i[5]===void 0&&xe(()=>i[25].call(J)),a(ge,"class","site-type-filter svelte-1wx7n1g"),a(S,"type","text"),a(S,"placeholder",window.trans("Filter by site name")),a(S,"class","svelte-1wx7n1g"),a(M,"class","svelte-1wx7n1g"),a(W,"class","site-name-filter svelte-1wx7n1g"),a(re,"type","button"),a(re,"class","close svelte-1wx7n1g"),a(re,"data-dismiss","modal"),a(re,"aria-label","Close"),a(We,"class","close svelte-1wx7n1g"),a(g,"class","table-control svelte-1wx7n1g"),a(s,"class","site-list-table-header svelte-1wx7n1g"),a(De,"class","svelte-1wx7n1g"),a(He,"class","svelte-1wx7n1g"),a(Se,"class","svelte-1wx7n1g"),a(Re,"class","svelte-1wx7n1g"),a(ye,"class","svelte-1wx7n1g"),a(n,"class","site-list-table svelte-1wx7n1g"),a(t,"class","modal-body svelte-1wx7n1g"),a(e,"class","modal site-list-button-modal svelte-1wx7n1g")},m(I,q){R(I,e,q),u(e,t),u(t,n),u(n,s),u(s,l),u(l,o),u(o,h),u(o,f),u(o,w),u(l,d),u(l,p),u(s,c),u(s,g),u(g,m),u(m,E),u(E,v),u(m,T),u(m,b),u(b,N),u(m,U),u(m,F),u(F,A),u(A,j),u(F,Q),u(F,de),u(m,pe),u(m,B),u(B,$),u(m,_e),u(m,G),u(G,C),u(g,ve),u(g,ge),u(ge,J),u(J,ee),u(J,V),Ct(J,i[5],!0),u(g,le),u(g,W),u(W,S),ie(S,i[6]),u(W,H),u(W,M),we(oe,M,null),u(g,rt),u(g,We),u(We,re),u(n,at),u(n,ye),u(ye,Qe),u(Qe,Se),u(Se,De),u(Se,ct),u(Se,He),u(ye,ut),u(ye,Re),ae[Z].m(Re,null),i[28](e),ne=!0,Ze||(ht=[z(E,"click",i[15]),z(E,"keydown",i[21]),z(b,"click",i[14]),z(b,"keydown",i[22]),z(B,"click",i[12]),z(B,"keydown",i[23]),z(G,"click",i[13]),z(G,"keydown",i[24]),z(J,"change",i[25]),z(J,"change",i[16]),z(S,"input",i[26]),z(S,"keydown",i[27]),z(M,"click",i[16]),z(re,"click",i[11]),Ve(Je.call(null,e,"body"))],Ze=!0)},p(I,q){(!ne||q[0]&4)&&r!==(r=window.trans("[_1]Site",I[2].toString())+"")&&ue(f,r),(!ne||q[0]&8&&y!==(y=I[3]===1))&&(E.disabled=y),(!ne||q[0]&8&&D!==(D=I[3]===1))&&(b.disabled=D),(!ne||q[0]&8)&&ue(j,I[3]),(!ne||q[0]&16)&&ue(de,I[4]),(!ne||q[0]&24&&Y!==(Y=I[3]===I[4]))&&(B.disabled=Y),(!ne||q[0]&24&&se!==(se=I[3]===I[4]))&&(G.disabled=se),q[0]&32&&Ct(J,I[5]),q[0]&64&&S.value!==I[6]&&ie(S,I[6]);let Xe=Z;Z=dt(I),Z===Xe?ae[Z].p(I,q):(qe(),K(ae[Xe],1,1,()=>{ae[Xe]=null}),Ke(),te=ae[Z],te?te.p(I,q):(te=ae[Z]=ft[Z](I),te.c()),P(te,1),te.m(Re,null))},i(I){ne||(P(oe.$$.fragment,I),P(te),ne=!0)},o(I){K(oe.$$.fragment,I),K(te),ne=!1},d(I){I&&O(e),be(oe),ae[Z].d(),i[28](null),Ze=!1,X(ht)}}}function An(i){let e,t,n=fe(i[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=$t(Gt(i,n,o));const l=o=>K(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ie()},m(o,h){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,h);R(o,e,h),t=!0},p(o,h){if(h[0]&2){n=fe(o[1]);let r;for(r=0;r<n.length;r+=1){const f=Gt(o,n,r);s[r]?(s[r].p(f,h),P(s[r],1)):(s[r]=$t(f),s[r].c(),P(s[r],1),s[r].m(e.parentNode,e))}for(qe(),r=n.length;r<s.length;r+=1)l(r);Ke()}},i(o){if(!t){for(let h=0;h<n.length;h+=1)P(s[h]);t=!0}},o(o){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)K(s[h]);t=!1},d(o){o&&O(e),$e(s,o)}}}function En(i){let e,t;return{c(){e=_("tr"),t=_("td"),t.textContent=`${window.trans("Loading...")}`,a(t,"colspan","2"),a(t,"class","loading svelte-1wx7n1g"),a(e,"class","svelte-1wx7n1g")},m(n,s){R(n,e,s),u(e,t)},p:x,i:x,o:x,d(n){n&&O(e)}}}function On(i){let e;return{c(){e=_("span"),e.textContent="-",a(e,"class","text-center")},m(t,n){R(t,e,n)},p:x,d(t){t&&O(e)}}}function Fn(i){let e=i[32].parentSiteName+"",t;return{c(){t=L(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&2&&e!==(e=n[32].parentSiteName+"")&&ue(t,e)},d(n){n&&O(t)}}}function $t(i){let e,t,n,s,l=i[32].name+"",o,h,r,f,w,d,p,c,g,m;s=new Oe({props:{title:window.trans("Site"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_sites`}}),w=new Oe({props:{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_permalink`}});function E(T,b){return T[32].parentSiteName?Fn:On}let v=E(i),y=v(i);return{c(){e=_("tr"),t=_("td"),n=_("a"),Ee(s.$$.fragment),o=L(l),r=k(),f=_("a"),Ee(w.$$.fragment),p=k(),c=_("td"),y.c(),g=k(),a(n,"href",h=`${window.ScriptURI}?__mode=dashboard&blog_id=${i[32].id}`),a(n,"class","dashboard-link svelte-1wx7n1g"),a(f,"href",d=i[32].siteUrl),a(f,"class","site-link svelte-1wx7n1g"),a(f,"target","_blank"),a(t,"class","svelte-1wx7n1g"),a(c,"class","svelte-1wx7n1g"),a(e,"class","svelte-1wx7n1g")},m(T,b){R(T,e,b),u(e,t),u(t,n),we(s,n,null),u(n,o),u(t,r),u(t,f),we(w,f,null),u(e,p),u(e,c),y.m(c,null),u(e,g),m=!0},p(T,b){(!m||b[0]&2)&&l!==(l=T[32].name+"")&&ue(o,l),(!m||b[0]&2&&h!==(h=`${window.ScriptURI}?__mode=dashboard&blog_id=${T[32].id}`))&&a(n,"href",h),(!m||b[0]&2&&d!==(d=T[32].siteUrl))&&a(f,"href",d),v===(v=E(T))&&y?y.p(T,b):(y.d(1),y=v(T),y&&(y.c(),y.m(c,null)))},i(T){m||(P(s.$$.fragment,T),P(w.$$.fragment,T),m=!0)},o(T){K(s.$$.fragment,T),K(w.$$.fragment,T),m=!1},d(T){T&&O(e),be(s),be(w),y.d()}}}function Rn(i){let e,t,n,s,l,o=window.trans("Site")+"",h,r,f,w,d,p,c=i[0]&&Vt(i);return{c(){e=k(),t=_("a"),n=ze("svg"),s=ze("path"),l=k(),h=L(o),r=k(),c&&c.c(),f=Ie(),a(s,"d","M11.75 16.25V14H8.75V6.5H7.25V8.75H2V2.75H7.25V5H11.75V2.75H17V8.75H11.75V6.5H10.25V12.5H11.75V10.25H17V16.25H11.75Z"),a(s,"fill","#212529"),a(n,"width","20"),a(n,"height","19"),a(n,"viewBox","0 0 20 19"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"role","img"),a(n,"class","mt-icon"),a(t,"href","#"),a(t,"class","action mt-actionSite")},m(g,m){R(g,e,m),R(g,t,m),u(t,n),u(n,s),u(t,l),u(t,h),i[20](t),R(g,r,m),c&&c.m(g,m),R(g,f,m),w=!0,d||(p=[z(Cn.body,"click",i[17]),z(t,"click",i[10])],d=!0)},p(g,m){g[0]?c?(c.p(g,m),m[0]&1&&P(c,1)):(c=Vt(g),c.c(),P(c,1),c.m(f.parentNode,f)):c&&(qe(),K(c,1,1,()=>{c=null}),Ke())},i(g){w||(P(c),w=!0)},o(g){K(c),w=!1},d(g){g&&(O(e),O(t),O(r),O(f)),i[20](null),c&&c.d(g),d=!1,X(p)}}}function Nn(i,e,t){let{magicToken:n}=e,{limit:s=50}=e,l=!1,o;const h=()=>{t(0,l=!0),o=document.body.style.overflow,document.body.style.overflow="hidden"},r=()=>{t(0,l=!1),document.body.style.overflow=o};let f=[],w=0,d=1,p=1,c="",g="",m=[],E=!1,v=null,y=null;const T=()=>{t(3,d++,d),F()},b=()=>{t(3,d=p),F()},N=()=>{t(3,d--,d),F()},D=()=>{t(3,d=1),F()},U=()=>{m=[],c==="blog"&&(m=[{type:"parent_website",args:{value:""}}]),t(6,g=g.trim()),g!==""&&m.push({type:"name",args:{string:g,option:"contains"}}),t(3,d=1),F()},F=async()=>{t(7,E=!0);const C=await Tn({magicToken:n,items:m,page:d,limit:s});t(2,w=C.count),t(4,p=C.pageMax),t(3,d=C.page),t(1,f=C.sites),t(7,E=!1)},A=C=>{const se=C.target;l&&st([v,y],se)&&r()};tt(async()=>{F()});function j(C){he[C?"unshift":"push"](()=>{v=C,t(8,v)})}const Q=C=>C.key==="Enter"&&D(),de=C=>C.key==="Enter"&&N(),pe=C=>C.key==="Enter"&&T(),B=C=>C.key==="Enter"&&b();function $(){c=Zt(this),t(5,c)}function Y(){g=this.value,t(6,g)}const _e=C=>C.key==="Enter"&&U();function G(C){he[C?"unshift":"push"](()=>{y=C,t(9,y)})}return i.$$set=C=>{"magicToken"in C&&t(18,n=C.magicToken),"limit"in C&&t(19,s=C.limit)},[l,f,w,d,p,c,g,E,v,y,h,r,T,b,N,D,U,A,n,s,j,Q,de,pe,B,$,Y,_e,G]}class zn extends Ue{constructor(e){super(),Me(this,e,Nn,Rn,Ne,{magicToken:18,limit:19},null,[-1,-1])}}function In(i,e){new zn({target:i,props:e})}const lt=i=>document.querySelector(i)||null;document.addEventListener("DOMContentLoaded",()=>{var i,e;const t=document.querySelector('[data-is="primary-navigation-toggle"]');t!==null&&gn(t);const n=document.querySelector('[data-script="admin-header"]'),s=(i=n.getAttribute("data-blog-id"))!==null&&i!==void 0?i:"",l=(e=n.getAttribute("data-magic-token"))!==null&&e!==void 0?e:"";if(l===""){console.error("data-magic-token is not set");return}const o=n.getAttribute("data-blog-id")||"50",h=lt('[data-is="site-list-button"]');h!==null&&In(h,{magicToken:l,limit:Number.parseInt(o)});const r=lt('[data-is="create-button"]'),f=lt('[data-is="search-button"]');if(r!==null||f!==null){if(s===""){console.error("data-blog-id is not set");return}qt({blogId:s,magicToken:l,page:1,limit:Number.parseInt(o)}).then(w=>{r!==null&&fn({target:r,props:{blog_id:s,contentTypes:w.contentTypes}}),f!==null&&Sn(f,{blogId:s,magicToken:l,contentTypes:w.contentTypes})})}});
