class _t{constructor({cache:e}){this.cache=e}generateCacheKey({prefix:e,params:t}){const n=Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{});return`${e}_${JSON.stringify(n)}`}async fetchWithCache({key:e,fetcher:t,ttl:n=1e3*60,noCache:s=!1}){return s?t():this.cache.get(e)||t().then(l=>(this.cache.set(e,l,n),l)).catch(l=>(console.log("Failed to fetch data:",l),l))}clearCache(e){this.cache.delete(e)}clearAllCache(){this.cache.clear()}}const Ie=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pt=new Set,nt=typeof process=="object"&&process?process:{},mt=(i,e,t,n)=>{typeof nt.emitWarning=="function"?nt.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let Ke=globalThis.AbortController,bt=globalThis.AbortSignal;if(typeof Ke>"u"){bt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,s){this._onabort.push(s)}},Ke=class{constructor(){e()}signal=new bt;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const s of this.signal._onabort)s(n);this.signal.onabort?.(n)}}};let i=nt.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{i&&(i=!1,mt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const $t=i=>!pt.has(i),Ce=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),gt=i=>Ce(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Qe:null:null;class Qe extends Array{constructor(e){super(e),this.fill(0)}}class je{heap;length;static#a=!1;static create(e){const t=gt(e);if(!t)return[];je.#a=!0;const n=new je(e,t);return je.#a=!1,n}constructor(e,t){if(!je.#a)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class at{#a;#f;#p;#m;#I;#F;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#b;#i;#n;#e;#c;#h;#r;#l;#g;#o;#w;#y;#d;#v;#A;#u;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#d,sizes:e.#w,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#c,prev:e.#h,get head(){return e.#r},get tail(){return e.#l},free:e.#g,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,n,s,o)=>e.#W(t,n,s,o),moveToTail:t=>e.#O(t),indexes:t=>e.#S(t),rindexes:t=>e.#k(t),isStale:t=>e.#_(t)}}get max(){return this.#a}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#s}get fetchMethod(){return this.#I}get memoMethod(){return this.#F}get dispose(){return this.#p}get disposeAfter(){return this.#m}constructor(e){const{max:t=0,ttl:n,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:l,updateAgeOnHas:a,allowStale:r,dispose:u,disposeAfter:m,noDisposeOnSet:_,noUpdateTTL:d,maxSize:h=0,maxEntrySize:b=0,sizeCalculation:y,fetchMethod:A,memoMethod:S,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:I,ignoreFetchAbort:w}=e;if(t!==0&&!Ce(t))throw new TypeError("max option must be a nonnegative integer");const O=t?gt(t):Array;if(!O)throw new Error("invalid max value: "+t);if(this.#a=t,this.#f=h,this.maxEntrySize=b||this.#f,this.sizeCalculation=y,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#F=S,A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#I=A,this.#A=!!A,this.#i=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#c=new O(t),this.#h=new O(t),this.#r=0,this.#l=0,this.#g=je.create(t),this.#s=0,this.#b=0,typeof u=="function"&&(this.#p=u),typeof m=="function"?(this.#m=m,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#v=!!this.#p,this.#u=!!this.#m,this.noDisposeOnSet=!!_,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!g,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!w,this.maxEntrySize!==0){if(this.#f!==0&&!Ce(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!Ce(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#G()}if(this.allowStale=!!r,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!a,this.ttlResolution=Ce(s)||s===0?s:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!Ce(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#z()}if(this.#a===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#a&&!this.#f){const L="LRU_CACHE_UNBOUNDED";$t(L)&&(pt.add(L),mt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",L,at))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#z(){const e=new Qe(this.#a),t=new Qe(this.#a);this.#d=e,this.#y=t,this.#U=(o,l,a=Ie.now())=>{if(t[o]=l!==0?a:0,e[o]=l,l!==0&&this.ttlAutopurge){const r=setTimeout(()=>{this.#_(o)&&this.#C(this.#n[o],"expire")},l+1);r.unref&&r.unref()}},this.#E=o=>{t[o]=e[o]!==0?Ie.now():0},this.#T=(o,l)=>{if(e[l]){const a=e[l],r=t[l];if(!a||!r)return;o.ttl=a,o.start=r,o.now=n||s();const u=o.now-r;o.remainingTTL=a-u}};let n=0;const s=()=>{const o=Ie.now();if(this.ttlResolution>0){n=o;const l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return o};this.getRemainingTTL=o=>{const l=this.#i.get(o);if(l===void 0)return 0;const a=e[l],r=t[l];if(!a||!r)return 1/0;const u=(n||s())-r;return a-u},this.#_=o=>{const l=t[o],a=e[o];return!!a&&!!l&&(n||s())-l>a}}#E=()=>{};#T=()=>{};#U=()=>{};#_=()=>!1;#G(){const e=new Qe(this.#a);this.#b=0,this.#w=e,this.#R=t=>{this.#b-=e[t],e[t]=0},this.#D=(t,n,s,o)=>{if(this.#t(n))return 0;if(!Ce(s))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(s=o(n,t),!Ce(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#N=(t,n,s)=>{if(e[t]=n,this.#f){const o=this.#f-e[t];for(;this.#b>o;)this.#L(!0)}this.#b+=e[t],s&&(s.entrySize=n,s.totalCalculatedSize=this.#b)}}#R=e=>{};#N=(e,t,n)=>{};#D=(e,t,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#l;!(!this.#M(t)||((e||!this.#_(t))&&(yield t),t===this.#r));)t=this.#h[t]}*#k({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#r;!(!this.#M(t)||((e||!this.#_(t))&&(yield t),t===this.#l));)t=this.#c[t]}#M(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#k())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#S()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(const e of this.#k()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#k())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;if(o!==void 0&&e(o,this.#n[n],this))return this.get(this.#n[n],t)}}forEach(e,t=this){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}rforEach(e,t=this){for(const n of this.#k()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}purgeStale(){let e=!1;for(const t of this.#k({allowStale:!0}))this.#_(t)&&(this.#C(this.#n[t],"expire"),e=!0);return e}info(e){const t=this.#i.get(e);if(t===void 0)return;const n=this.#e[t],s=this.#t(n)?n.__staleWhileFetching:n;if(s===void 0)return;const o={value:s};if(this.#d&&this.#y){const l=this.#d[t],a=this.#y[t];if(l&&a){const r=l-(Ie.now()-a);o.ttl=r,o.start=Date.now()}}return this.#w&&(o.size=this.#w[t]),o}dump(){const e=[];for(const t of this.#S({allowStale:!0})){const n=this.#n[t],s=this.#e[t],o=this.#t(s)?s.__staleWhileFetching:s;if(o===void 0||n===void 0)continue;const l={value:o};if(this.#d&&this.#y){l.ttl=this.#d[t];const a=Ie.now()-this.#y[t];l.start=Math.floor(Date.now()-a)}this.#w&&(l.size=this.#w[t]),e.unshift([n,l])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const s=Date.now()-n.start;n.start=Ie.now()-s}this.set(t,n.value,n)}}set(e,t,n={}){if(t===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:o,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:r}=n;let{noUpdateTTL:u=this.noUpdateTTL}=n;const m=this.#D(e,t,n.size||0,a);if(this.maxEntrySize&&m>this.maxEntrySize)return r&&(r.set="miss",r.maxEntrySizeExceeded=!0),this.#C(e,"set"),this;let _=this.#s===0?void 0:this.#i.get(e);if(_===void 0)_=this.#s===0?this.#l:this.#g.length!==0?this.#g.pop():this.#s===this.#a?this.#L(!1):this.#s,this.#n[_]=e,this.#e[_]=t,this.#i.set(e,_),this.#c[this.#l]=_,this.#h[_]=this.#l,this.#l=_,this.#s++,this.#N(_,m,r),r&&(r.set="add"),u=!1;else{this.#O(_);const d=this.#e[_];if(t!==d){if(this.#A&&this.#t(d)){d.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:h}=d;h!==void 0&&!l&&(this.#v&&this.#p?.(h,e,"set"),this.#u&&this.#o?.push([h,e,"set"]))}else l||(this.#v&&this.#p?.(d,e,"set"),this.#u&&this.#o?.push([d,e,"set"]));if(this.#R(_),this.#N(_,m,r),this.#e[_]=t,r){r.set="replace";const h=d&&this.#t(d)?d.__staleWhileFetching:d;h!==void 0&&(r.oldValue=h)}}else r&&(r.set="update")}if(s!==0&&!this.#d&&this.#z(),this.#d&&(u||this.#U(_,s,o),r&&this.#T(r,_)),!l&&this.#u&&this.#o){const d=this.#o;let h;for(;h=d?.shift();)this.#m?.(...h)}return this}pop(){try{for(;this.#s;){const e=this.#e[this.#r];if(this.#L(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#o){const e=this.#o;let t;for(;t=e?.shift();)this.#m?.(...t)}}}#L(e){const t=this.#r,n=this.#n[t],s=this.#e[t];return this.#A&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#v||this.#u)&&(this.#v&&this.#p?.(s,n,"evict"),this.#u&&this.#o?.push([s,n,"evict"])),this.#R(t),e&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#g.push(t)),this.#s===1?(this.#r=this.#l=0,this.#g.length=0):this.#r=this.#c[t],this.#i.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=t,o=this.#i.get(e);if(o!==void 0){const l=this.#e[o];if(this.#t(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#_(o))s&&(s.has="stale",this.#T(s,o));else return n&&this.#E(o),s&&(s.has="hit",this.#T(s,o)),!0}else s&&(s.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,s=this.#i.get(e);if(s===void 0||!n&&this.#_(s))return;const o=this.#e[s];return this.#t(o)?o.__staleWhileFetching:o}#W(e,t,n,s){const o=t===void 0?void 0:this.#e[t];if(this.#t(o))return o;const l=new Ke,{signal:a}=n;a?.addEventListener("abort",()=>l.abort(a.reason),{signal:l.signal});const r={signal:l.signal,options:n,context:s},u=(y,A=!1)=>{const{aborted:S}=l.signal,k=n.ignoreFetchAbort&&y!==void 0;if(n.status&&(S&&!A?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,k&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!k&&!A)return _(l.signal.reason);const E=h;return this.#e[t]===h&&(y===void 0?E.__staleWhileFetching?this.#e[t]=E.__staleWhileFetching:this.#C(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,y,r.options))),y},m=y=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=y),_(y)),_=y=>{const{aborted:A}=l.signal,S=A&&n.allowStaleOnFetchAbort,k=S||n.allowStaleOnFetchRejection,E=k||n.noDeleteOnFetchRejection,g=h;if(this.#e[t]===h&&(!E||g.__staleWhileFetching===void 0?this.#C(e,"fetch"):S||(this.#e[t]=g.__staleWhileFetching)),k)return n.status&&g.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),g.__staleWhileFetching;if(g.__returned===g)throw y},d=(y,A)=>{const S=this.#I?.(e,o,r);S&&S instanceof Promise&&S.then(k=>y(k===void 0?void 0:k),A),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(y(void 0),n.allowStaleOnFetchAbort&&(y=k=>u(k,!0)))})};n.status&&(n.status.fetchDispatched=!0);const h=new Promise(d).then(u,m),b=Object.assign(h,{__abortController:l,__staleWhileFetching:o,__returned:void 0});return t===void 0?(this.set(e,b,{...r.options,status:void 0}),t=this.#i.get(e)):this.#e[t]=b,b}#t(e){if(!this.#A)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Ke}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:r=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:m=this.noUpdateTTL,noDeleteOnFetchRejection:_=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:b=this.allowStaleOnFetchAbort,context:y,forceRefresh:A=!1,status:S,signal:k}=t;if(!this.#A)return S&&(S.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,status:S});const E={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,ttl:l,noDisposeOnSet:a,size:r,sizeCalculation:u,noUpdateTTL:m,noDeleteOnFetchRejection:_,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:b,ignoreFetchAbort:h,status:S,signal:k};let g=this.#i.get(e);if(g===void 0){S&&(S.fetch="miss");const I=this.#W(e,g,E,y);return I.__returned=I}else{const I=this.#e[g];if(this.#t(I)){const V=n&&I.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",V&&(S.returnedStale=!0)),V?I.__staleWhileFetching:I.__returned=I}const w=this.#_(g);if(!A&&!w)return S&&(S.fetch="hit"),this.#O(g),s&&this.#E(g),S&&this.#T(S,g),I;const O=this.#W(e,g,E,y),X=O.__staleWhileFetching!==void 0&&n;return S&&(S.fetch=w?"stale":"refresh",X&&w&&(S.returnedStale=!0)),X?O.__staleWhileFetching:O.__returned=O}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#F;if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:o,...l}=t,a=this.get(e,l);if(!o&&a!==void 0)return a;const r=n(e,a,{options:l,context:s});return this.set(e,r,l),r}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:l}=t,a=this.#i.get(e);if(a!==void 0){const r=this.#e[a],u=this.#t(r);return l&&this.#T(l,a),this.#_(a)?(l&&(l.get="stale"),u?(l&&n&&r.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?r.__staleWhileFetching:void 0):(o||this.#C(e,"expire"),l&&n&&(l.returnedStale=!0),n?r:void 0)):(l&&(l.get="hit"),u?r.__staleWhileFetching:(this.#O(a),s&&this.#E(a),r))}else l&&(l.get="miss")}#j(e,t){this.#h[t]=e,this.#c[e]=t}#O(e){e!==this.#l&&(e===this.#r?this.#r=this.#c[e]:this.#j(this.#h[e],this.#c[e]),this.#j(this.#l,e),this.#l=e)}delete(e){return this.#C(e,"delete")}#C(e,t){let n=!1;if(this.#s!==0){const s=this.#i.get(e);if(s!==void 0)if(n=!0,this.#s===1)this.#P(t);else{this.#R(s);const o=this.#e[s];if(this.#t(o)?o.__abortController.abort(new Error("deleted")):(this.#v||this.#u)&&(this.#v&&this.#p?.(o,e,t),this.#u&&this.#o?.push([o,e,t])),this.#i.delete(e),this.#n[s]=void 0,this.#e[s]=void 0,s===this.#l)this.#l=this.#h[s];else if(s===this.#r)this.#r=this.#c[s];else{const l=this.#h[s];this.#c[l]=this.#c[s];const a=this.#c[s];this.#h[a]=this.#h[s]}this.#s--,this.#g.push(s)}}if(this.#u&&this.#o?.length){const s=this.#o;let o;for(;o=s?.shift();)this.#m?.(...o)}return n}clear(){return this.#P("delete")}#P(e){for(const t of this.#k({allowStale:!0})){const n=this.#e[t];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const s=this.#n[t];this.#v&&this.#p?.(n,s,e),this.#u&&this.#o?.push([n,s,e])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#y&&(this.#d.fill(0),this.#y.fill(0)),this.#w&&this.#w.fill(0),this.#r=0,this.#l=0,this.#g.length=0,this.#b=0,this.#s=0,this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#m?.(...n)}}}class wt{constructor(e){var t;this.cache=new at({ttl:(t=e?.ttl)!==null&&t!==void 0?t:1e3*60,ttlAutopurge:!0,allowStale:!1})}get(e){const t=this.cache.get(e);if(t){if(t.expiry>Date.now())return t.data;this.delete(e)}return null}set(e,t,n){const s=Date.now()+n;this.cache.set(e,{data:t,expiry:s},{ttl:n})}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const xt=new wt,yt=new _t({cache:xt}),en=async i=>{const e={__mode:"fetch_admin_header_content_types",blog_id:i.blogId,magic_token:i.magicToken};return await yt.fetchWithCache({key:yt.generateCacheKey({prefix:"content_types",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"});return t.result.success!==1?{contentTypes:[]}:{contentTypes:t.result.content_types}}})};function Q(){}function vt(i){return i()}function St(){return Object.create(null)}function $(i){i.forEach(vt)}function it(i){return typeof i=="function"}function Fe(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function tn(i){return Object.keys(i).length===0}function Ne(i){return i&&it(i.destroy)?i.destroy:Q}const nn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function c(i,e){i.appendChild(e)}function T(i,e,t){i.insertBefore(e,t||null)}function C(i){i.parentNode&&i.parentNode.removeChild(i)}function Ge(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function p(i){return document.createElement(i)}function st(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function N(i){return document.createTextNode(i)}function v(){return N(" ")}function Ae(){return N("")}function W(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function f(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function kt(i,e,t){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Ct(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function sn(i){return Array.from(i.childNodes)}function x(i,e){e=""+e,i.data!==e&&(i.data=e)}function re(i,e){i.value=e??""}function Tt(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function At(i,e,t){for(let n=0;n<i.options.length;n+=1){const s=i.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function ln(i){const e=i.querySelector(":checked");return e&&e.__value}function he(i,e,t){i.classList.toggle(e,!!t)}let Be;function He(i){Be=i}function on(){if(!Be)throw new Error("Function called outside component initialization");return Be}function lt(i){on().$$.on_mount.push(i)}const Le=[],ae=[];let We=[];const Et=[],Rt=Promise.resolve();let ot=!1;function Ot(){ot||(ot=!0,Rt.then(It))}function rn(){return Ot(),Rt}function Xe(i){We.push(i)}const rt=new Set;let ze=0;function It(){if(ze!==0)return;const i=Be;do{try{for(;ze<Le.length;){const e=Le[ze];ze++,He(e),an(e.$$)}}catch(e){throw Le.length=0,ze=0,e}for(He(null),Le.length=0,ze=0;ae.length;)ae.pop()();for(let e=0;e<We.length;e+=1){const t=We[e];rt.has(t)||(rt.add(t),t())}We.length=0}while(Le.length);for(;Et.length;)Et.pop()();ot=!1,rt.clear(),He(i)}function an(i){if(i.fragment!==null){i.update(),$(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Xe)}}function cn(i){const e=[],t=[];We.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),We=e}const Ye=new Set;let Ee;function qe(){Ee={r:0,c:[],p:Ee}}function Ve(){Ee.r||$(Ee.c),Ee=Ee.p}function U(i,e){i&&i.i&&(Ye.delete(i),i.i(e))}function G(i,e,t,n){if(i&&i.o){if(Ye.has(i))return;Ye.add(i),Ee.c.push(()=>{Ye.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function de(i){return i?.length!==void 0?i:Array.from(i)}function ve(i){i&&i.c()}function _e(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),Xe(()=>{const o=i.$$.on_mount.map(vt).filter(it);i.$$.on_destroy?i.$$.on_destroy.push(...o):$(o),i.$$.on_mount=[]}),s.forEach(Xe)}function pe(i,e){const t=i.$$;t.fragment!==null&&(cn(t.after_update),$(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function un(i,e){i.$$.dirty[0]===-1&&(Le.push(i),Ot(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ue(i,e,t,n,s,o,l=null,a=[-1]){const r=Be;He(i);const u=i.$$={fragment:null,ctx:[],props:o,update:Q,not_equal:s,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:St(),dirty:a,skip_bound:!1,root:e.target||r.$$.root};l&&l(u.root);let m=!1;if(u.ctx=t?t(i,e.props||{},(_,d,...h)=>{const b=h.length?h[0]:d;return u.ctx&&s(u.ctx[_],u.ctx[_]=b)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](b),m&&un(i,_)),d}):[],u.update(),m=!0,$(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const _=sn(e.target);u.fragment&&u.fragment.l(_),_.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&U(i.$$.fragment),_e(i,e.target,e.anchor),It()}He(r)}class De{$$=void 0;$$set=void 0;$destroy(){pe(this,1),this.$destroy=Q}$on(e,t){if(!it(t))return Q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!tn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fn);function Me(i,e="body"){let t;async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await rn(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(i),i.hidden=!1}function s(){i.parentNode&&i.parentNode.removeChild(i)}return n(e),{update:n,destroy:s}}function Ze(i,e){return!i.some(t=>t&&t.contains(e))}function Ft(i){let e,t;return{c(){e=st("title"),t=N(i[2])},m(n,s){T(n,e,s),c(e,t)},p(n,s){s&4&&x(t,n[2])},d(n){n&&C(e)}}}function hn(i){let e,t,n=i[2]&&Ft(i);return{c(){e=st("svg"),n&&n.c(),t=st("use"),kt(t,"xlink:href",i[1]),f(e,"role","img"),f(e,"class",i[0])},m(s,o){T(s,e,o),n&&n.m(e,null),c(e,t)},p(s,[o]){s[2]?n?n.p(s,o):(n=Ft(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),o&2&&kt(t,"xlink:href",s[1]),o&1&&f(e,"class",s[0])},i:Q,o:Q,d(s){s&&C(e),n&&n.d()}}}function dn(i,e,t){let{class:n}=e,{href:s}=e,{title:o}=e;return i.$$set=l=>{"class"in l&&t(0,n=l.class),"href"in l&&t(1,s=l.href),"title"in l&&t(2,o=l.title)},[n,s,o]}class Se extends De{constructor(e){super(),Ue(this,e,dn,hn,Fe,{class:0,href:1,title:2})}}function Nt(i,e,t){const n=i.slice();return n[10]=e[t],n}function Lt(i){let e,t,n,s,o,l,a,r,u,m,_,d,h,b=window.trans("New [_1] creation",window.trans("Entry"))+"",y,A,S,k,E,g=window.trans("New [_1] creation",window.trans("Page"))+"",I,w,O,L;function X(M,J){return M[0].length>0?pn:_n}let V=X(i),B=V(i);return{c(){e=p("div"),t=p("div"),n=p("button"),n.innerHTML='<span aria-hidden="true">\xD7</span>',s=v(),o=p("div"),l=p("p"),l.textContent=`${window.trans("Content Data")}`,a=v(),B.c(),r=v(),u=p("p"),u.textContent=`${`${window.trans("Entry")}\u30FB${window.trans("Page")}`}`,m=v(),_=p("ul"),d=p("li"),h=p("a"),y=N(b),S=v(),k=p("li"),E=p("a"),I=N(g),f(n,"type","button"),f(n,"class","close"),f(n,"data-dismiss","modal"),f(n,"aria-label","Close"),f(t,"class","modal-header"),f(l,"class","block-title"),f(u,"class","block-title"),f(h,"href",A=`${window.CMSScriptURI}?__mode=view&_type=entry&blog_id=${i[1]}`),f(E,"href",w=`${window.CMSScriptURI}?__mode=view&_type=page&blog_id=${i[1]}`),f(_,"class","create-button-list"),f(o,"class","modal-body"),f(e,"class","modal create-button-modal")},m(M,J){T(M,e,J),c(e,t),c(t,n),c(e,s),c(e,o),c(o,l),c(o,a),B.m(o,null),c(o,r),c(o,u),c(o,m),c(o,_),c(_,d),c(d,h),c(h,y),c(_,S),c(_,k),c(k,E),c(E,I),i[9](e),O||(L=[W(n,"click",i[6]),Ne(Me.call(null,e,"body"))],O=!0)},p(M,J){V===(V=X(M))&&B?B.p(M,J):(B.d(1),B=V(M),B&&(B.c(),B.m(o,r))),J&2&&A!==(A=`${window.CMSScriptURI}?__mode=view&_type=entry&blog_id=${M[1]}`)&&f(h,"href",A),J&2&&w!==(w=`${window.CMSScriptURI}?__mode=view&_type=page&blog_id=${M[1]}`)&&f(E,"href",w)},d(M){M&&C(e),B.d(),i[9](null),O=!1,$(L)}}}function _n(i){let e;return{c(){e=p("p"),e.textContent=`${window.trans("No Content Type could be found.")}`},m(t,n){T(t,e,n)},p:Q,d(t){t&&C(e)}}}function pn(i){let e,t=de(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Wt(Nt(i,t,s));return{c(){e=p("ul");for(let s=0;s<n.length;s+=1)n[s].c();f(e,"class","create-button-list")},m(s,o){T(s,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(s,o){if(o&3){t=de(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Nt(s,t,l);n[l]?n[l].p(a,o):(n[l]=Wt(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ge(n,s)}}}function Wt(i){let e,t,n=window.trans("New [_1] creation",i[10].name)+"",s,o,l;return{c(){e=p("li"),t=p("a"),s=N(n),l=v(),f(t,"href",o=`${window.CMSScriptURI}?__mode=view&_type=content_data&content_type_id=${i[10].id}&type=content_data_${i[10].id}&blog_id=${i[1]}`)},m(a,r){T(a,e,r),c(e,t),c(t,s),c(e,l)},p(a,r){r&1&&n!==(n=window.trans("New [_1] creation",a[10].name)+"")&&x(s,n),r&3&&o!==(o=`${window.CMSScriptURI}?__mode=view&_type=content_data&content_type_id=${a[10].id}&type=content_data_${a[10].id}&blog_id=${a[1]}`)&&f(t,"href",o)},d(a){a&&C(e)}}}function mn(i){let e,t,n,s,o=window.trans("Create New")+"",l,a,r,u,m,_;n=new Se({props:{title:window.trans("Create New"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_create`}});let d=i[2]&&Lt(i);return{c(){e=v(),t=p("a"),ve(n.$$.fragment),s=v(),l=N(o),a=v(),d&&d.c(),r=Ae(),f(t,"href","#"),f(t,"class","menu_actions__button create")},m(h,b){T(h,e,b),T(h,t,b),_e(n,t,null),c(t,s),c(t,l),i[8](t),T(h,a,b),d&&d.m(h,b),T(h,r,b),u=!0,m||(_=[W(document.body,"click",i[7]),W(t,"click",i[5])],m=!0)},p(h,[b]){h[2]?d?d.p(h,b):(d=Lt(h),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i(h){u||(U(n.$$.fragment,h),u=!0)},o(h){G(n.$$.fragment,h),u=!1},d(h){h&&(C(e),C(t),C(a),C(r)),pe(n),i[8](null),d&&d.d(h),m=!1,$(_)}}}function bn(i,e,t){let{contentTypes:n=[]}=e,{blog_id:s}=e,o=!1;const l=()=>{t(2,o=!0)},a=()=>{t(2,o=!1)};let r=null,u=null;const m=h=>{const b=h.target;o&&Ze([r,u],b)&&a()};function _(h){ae[h?"unshift":"push"](()=>{r=h,t(3,r)})}function d(h){ae[h?"unshift":"push"](()=>{u=h,t(4,u)})}return i.$$set=h=>{"contentTypes"in h&&t(0,n=h.contentTypes),"blog_id"in h&&t(1,s=h.blog_id)},[n,s,o,r,u,l,a,m,_,d]}class gn extends De{constructor(e){super(),Ue(this,e,bn,mn,Fe,{contentTypes:0,blog_id:1})}}const wn=({target:i,props:e})=>{new gn({target:i,props:e})};function yn(i){let e,t,n,s,o,l,a;return{c(){e=p("div"),n=v(),s=p("div"),f(e,"class","mt-primaryNavigation__toggle_bar"),f(e,"title",t=i[0]?window.trans("Collapse"):window.trans("Close")),he(e,"open",!i[0]),he(e,"close",i[0]),f(s,"class","mt-primaryNavigation-overlay"),f(s,"style",o=`display: ${i[0]?"block":"none"}`)},m(r,u){T(r,e,u),T(r,n,u),T(r,s,u),l||(a=[W(e,"click",i[1]),Ne(Me.call(null,s,"body")),W(s,"mouseenter",i[2])],l=!0)},p(r,[u]){u&1&&t!==(t=r[0]?window.trans("Collapse"):window.trans("Close"))&&f(e,"title",t),u&1&&he(e,"open",!r[0]),u&1&&he(e,"close",r[0]),u&1&&o!==(o=`display: ${r[0]?"block":"none"}`)&&f(s,"style",o)},i:Q,o:Q,d(r){r&&(C(e),C(n),C(s)),l=!1,$(a)}}}const zt="collapsed";function vn(i,e,t){let s=sessionStorage.getItem(zt)==="true",o=!1;const l=(d,h)=>{const b=document.querySelector('[data-is="content-wrapper"]');h?b.classList.add(d):b.classList.remove(d)},a=()=>{l("collapsed",s)},r=()=>{l("mouseover",o)},u=()=>{t(0,s=!s),sessionStorage.setItem(zt,s.toString()),a()},m=()=>{var d;s&&(o=!0,r(),(d=document.querySelector('[data-is="primary-navigation"]'))===null||d===void 0||d.addEventListener("mouseleave",_,{once:!0}))},_=()=>{o=!1,r()};return lt(()=>{window.innerWidth<1e3&&t(0,s=!0),a()}),[s,u,m]}class Sn extends De{constructor(e){super(),Ue(this,e,vn,yn,Fe,{})}}function kn(i){new Sn({target:i})}function Ut(i,e,t){const n=i.slice();return n[19]=e[t],n}function Dt(i,e,t){const n=i.slice();return n[22]=e[t],n}function Mt(i){let e,t,n,s,o,l,a,r,u,m,_,d,h,b,y,A,S,k,E,g,I,w,O,L,X=window.trans("Content Data")+"",V,B,M,J,j,me,be,ge,q,F,ie,ce,se,ee,ue,K,Re,fe,te,we=de(i[11].slice(1)),P=[];for(let R=0;R<we.length;R+=1)P[R]=jt(Dt(i,we,R));function ye(R,H){return R[2].length>0?Tn:Cn}let Te=ye(i),Y=Te(i);return se=new Se({props:{title:window.trans("Search"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_search`}}),Re=Ct(i[15][0]),{c(){e=p("div"),t=v(),n=p("div"),s=p("div"),o=p("button"),o.innerHTML='<span aria-hidden="true">\xD7</span>',l=v(),a=p("div"),r=p("form"),u=p("input"),m=v(),_=p("input"),h=v(),b=p("input"),y=v(),A=p("input"),S=v(),k=p("input"),E=v(),g=p("div"),I=p("label"),w=p("input"),L=v(),V=N(X),B=v();for(let R=0;R<P.length;R+=1)P[R].c();M=v(),J=p("div"),j=p("select"),Y.c(),be=v(),ge=p("div"),q=p("input"),F=v(),ie=p("div"),ce=p("button"),ve(se.$$.fragment),ee=v(),ue=p("span"),ue.textContent=`${window.trans("Search")}`,f(e,"class","search-button-modal-overlay"),f(o,"type","button"),f(o,"class","close"),f(o,"data-dismiss","modal"),f(o,"aria-label","Close"),f(s,"class","modal-header"),f(u,"type","hidden"),f(u,"name","__mode"),u.value="search_replace",f(_,"type","hidden"),f(_,"name","blog_id"),_.value=d=i[7]!=="blog"?i[0]:"0",f(b,"type","hidden"),f(b,"name","_type"),f(A,"type","hidden"),f(A,"name","do_search"),A.value="1",f(k,"type","hidden"),f(k,"name","magic_token"),k.value=i[1],f(w,"type","radio"),f(w,"name","type"),w.__value="content_data",re(w,w.__value),f(w,"id","content_data"),w.disabled=O=i[2].length===0,f(g,"class","search-type"),f(j,"name","content_type_id"),j.disabled=me=i[7]!=="content_data"||i[2].length===0,he(j,"disabled",i[7]!=="content_data"),f(J,"class","search-content-type"),f(q,"type","text"),f(q,"placeholder",window.trans("Select target and search text...")),f(q,"name","search"),f(ge,"class","search-text-box"),f(ce,"type","submit"),f(ce,"class","btn btn-primary"),f(ie,"class","submit-button"),f(r,"class","search-form"),f(r,"method","post"),f(r,"action",window.ScriptURI),f(a,"class","modal-body"),f(n,"class","modal search-button-modal"),Re.p(w)},m(R,H){T(R,e,H),T(R,t,H),T(R,n,H),c(n,s),c(s,o),c(n,l),c(n,a),c(a,r),c(r,u),c(r,m),c(r,_),c(r,h),c(r,b),re(b,i[7]),c(r,y),c(r,A),c(r,S),c(r,k),c(r,E),c(r,g),c(g,I),c(I,w),w.checked=w.__value===i[7],c(I,L),c(I,V),c(g,B);for(let D=0;D<P.length;D+=1)P[D]&&P[D].m(g,null);c(r,M),c(r,J),c(J,j),Y.m(j,null),c(r,be),c(r,ge),c(ge,q),i[17](q),c(r,F),c(r,ie),c(ie,ce),_e(se,ce,null),c(ce,ee),c(ce,ue),i[18](n),K=!0,fe||(te=[W(e,"click",i[9]),Ne(Me.call(null,e,"body")),W(o,"click",i[9]),W(b,"input",i[13]),W(w,"change",i[14]),Ne(Me.call(null,n,"body"))],fe=!0)},p(R,H){if((!K||H&129&&d!==(d=R[7]!=="blog"?R[0]:"0"))&&(_.value=d),H&128&&re(b,R[7]),(!K||H&2)&&(k.value=R[1]),(!K||H&4&&O!==(O=R[2].length===0))&&(w.disabled=O),H&128&&(w.checked=w.__value===R[7]),H&2176){we=de(R[11].slice(1));let D;for(D=0;D<we.length;D+=1){const Oe=Dt(R,we,D);P[D]?P[D].p(Oe,H):(P[D]=jt(Oe),P[D].c(),P[D].m(g,null))}for(;D<P.length;D+=1)P[D].d(1);P.length=we.length}Te===(Te=ye(R))&&Y?Y.p(R,H):(Y.d(1),Y=Te(R),Y&&(Y.c(),Y.m(j,null))),(!K||H&132&&me!==(me=R[7]!=="content_data"||R[2].length===0))&&(j.disabled=me),(!K||H&128)&&he(j,"disabled",R[7]!=="content_data")},i(R){K||(U(se.$$.fragment,R),K=!0)},o(R){G(se.$$.fragment,R),K=!1},d(R){R&&(C(e),C(t),C(n)),Ge(P,R),Y.d(),i[17](null),pe(se),i[18](null),Re.r(),fe=!1,$(te)}}}function jt(i){let e,t,n,s=i[22].label+"",o,l,a,r,u;return a=Ct(i[15][0]),{c(){e=p("label"),t=p("input"),n=v(),o=N(s),l=v(),f(t,"type","radio"),f(t,"name","type"),t.__value=i[22].value,re(t,t.__value),f(t,"id",i[22].value),a.p(t)},m(m,_){T(m,e,_),c(e,t),t.checked=t.__value===i[7],c(e,n),c(e,o),c(e,l),r||(u=W(t,"change",i[16]),r=!0)},p(m,_){_&128&&(t.checked=t.__value===m[7])},d(m){m&&C(e),a.r(),r=!1,u()}}}function Cn(i){let e;return{c(){e=p("option"),e.textContent=`${window.trans("No Content Type could be found.")}`,e.__value="",re(e,e.__value)},m(t,n){T(t,e,n)},p:Q,d(t){t&&C(e)}}}function Tn(i){let e,t=de(i[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pt(Ut(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ae()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);T(s,e,o)},p(s,o){if(o&4){t=de(s[2]);let l;for(l=0;l<t.length;l+=1){const a=Ut(s,t,l);n[l]?n[l].p(a,o):(n[l]=Pt(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ge(n,s)}}}function Pt(i){let e,t=i[19].name+"",n,s;return{c(){e=p("option"),n=N(t),e.__value=s=i[19].id,re(e,e.__value)},m(o,l){T(o,e,l),c(e,n)},p(o,l){l&4&&t!==(t=o[19].name+"")&&x(n,t),l&4&&s!==(s=o[19].id)&&(e.__value=s,re(e,e.__value))},d(o){o&&C(e)}}}function An(i){let e,t,n,s,o=window.trans("Search")+"",l,a,r,u,m,_;n=new Se({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});let d=i[3]&&Mt(i);return{c(){e=v(),t=p("a"),ve(n.$$.fragment),s=v(),l=N(o),a=v(),d&&d.c(),r=Ae(),f(t,"href","#"),f(t,"class","action mt-actionSearch"),he(t,"open",i[3])},m(h,b){T(h,e,b),T(h,t,b),_e(n,t,null),c(t,s),c(t,l),i[12](t),T(h,a,b),d&&d.m(h,b),T(h,r,b),u=!0,m||(_=[W(document.body,"click",i[10]),W(t,"click",i[8])],m=!0)},p(h,[b]){(!u||b&8)&&he(t,"open",h[3]),h[3]?d?(d.p(h,b),b&8&&U(d,1)):(d=Mt(h),d.c(),U(d,1),d.m(r.parentNode,r)):d&&(qe(),G(d,1,1,()=>{d=null}),Ve())},i(h){u||(U(n.$$.fragment,h),U(d),u=!0)},o(h){G(n.$$.fragment,h),G(d),u=!1},d(h){h&&(C(e),C(t),C(a),C(r)),pe(n),i[12](null),d&&d.d(h),m=!1,$(_)}}}function En(i,e,t){let{blogId:n}=e,{magicToken:s}=e,{contentTypes:o=[]}=e,l=!1;const a=()=>{t(3,l=!0)},r=()=>{t(3,l=!1)};let u=null,m=null;const _=w=>{const O=w.target;l&&Ze([u,m],O)&&r()},d=[{value:"content_data",label:window.trans("Content Data")},{value:"entry",label:window.trans("Entry")},{value:"comment",label:window.trans("Comment")},{value:"page",label:window.trans("Page")},{value:"template",label:window.trans("Template")},{value:"asset",label:window.trans("Asset")},{value:"log",label:window.trans("Log")},{value:"blog",label:window.trans("Child Site")}];let h=null,b="entry";lt(async()=>{o.length>0&&t(7,b="content_data")});const y=[[]];function A(w){ae[w?"unshift":"push"](()=>{u=w,t(5,u)})}function S(){b=this.value,t(7,b)}function k(){b=this.__value,t(7,b)}function E(){b=this.__value,t(7,b)}function g(w){ae[w?"unshift":"push"](()=>{h=w,t(4,h)})}function I(w){ae[w?"unshift":"push"](()=>{m=w,t(6,m)})}return i.$$set=w=>{"blogId"in w&&t(0,n=w.blogId),"magicToken"in w&&t(1,s=w.magicToken),"contentTypes"in w&&t(2,o=w.contentTypes)},i.$$.update=()=>{i.$$.dirty&24&&l&&h&&h.focus()},[n,s,o,l,h,u,m,b,a,r,_,d,A,S,k,y,E,g,I]}class Rn extends De{constructor(e){super(),Ue(this,e,En,An,Fe,{blogId:0,magicToken:1,contentTypes:2})}}function On(i,e){new Rn({target:i,props:e})}const In=new wt,Gt=new _t({cache:In}),Fn=async i=>{const e={__mode:"filtered_list",blog_id:"0",columns:"name,site_url,parent_website",datasource:"website",items:JSON.stringify(i.items),limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await Gt.fetchWithCache({key:Gt.generateCacheKey({prefix:"sites",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"});if(t.error)return console.log("Failed to fetch sites:",t.error),{count:0,page:0,pageMax:0,sites:[],error:t.error};const n=t.result.objects.map(s=>{const o=s[1].replace(/<span[^>]*>.*?<\/span>\s*<a[^>]*>([^<]+)<\/a>/,"$1").trim();return{id:s[0],name:o,siteUrl:s[2],parentSiteName:s[3]}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),sites:n}}})},{document:Nn}=nn;function Bt(i,e,t){const n=i.slice();return n[32]=e[t],n}function Ht(i){let e,t,n,s,o,l,a,r=window.trans("[_1]Site",i[2].toString())+"",u,m,_,d,h,b,y,A,S,k,E,g,I,w,O,L,X,V,B,M,J,j,me,be,ge,q,F,ie,ce,se,ee,ue,K,Re,fe,te,we,P,ye,Te,Y,R,H,D,Oe,Pe,$e,ct,xe,ut,Je,ne,le,oe,et,ft;ye=new Se({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});const ht=[Wn,Ln],ke=[];function dt(z,Z){return z[7]?0:1}return ne=dt(i),le=ke[ne]=ht[ne](i),{c(){e=p("div"),t=p("div"),n=p("div"),s=p("div"),o=p("div"),l=p("span"),a=N("("),u=N(r),m=N(")"),_=v(),d=p("p"),d.textContent=`${window.trans("Site List")}`,h=v(),b=p("div"),y=p("div"),A=p("button"),S=N("<<"),E=v(),g=p("button"),I=N("<"),O=v(),L=p("span"),X=p("span"),V=N(i[3]),B=N("/"),M=N(i[4]),J=v(),j=p("button"),me=N(">"),ge=v(),q=p("button"),F=N(">>"),ce=v(),se=p("div"),ee=p("select"),ue=p("option"),ue.textContent=`${window.trans("All Sites")}`,K=p("option"),K.textContent=`${window.trans("Only to child sites within this system")}`,Re=v(),fe=p("div"),te=p("input"),we=v(),P=p("button"),ve(ye.$$.fragment),Te=v(),Y=p("div"),R=p("button"),R.innerHTML='<span aria-hidden="true">\xD7</span>',H=v(),D=p("table"),Oe=p("thead"),Pe=p("tr"),$e=p("th"),$e.textContent=`${window.trans("Site Name")}`,ct=v(),xe=p("th"),xe.textContent=`${window.trans("Parent Site")}`,ut=v(),Je=p("tbody"),le.c(),f(o,"class","table-title"),f(A,"type","button"),A.disabled=k=i[3]<=1,f(g,"type","button"),g.disabled=w=i[3]<=1,f(X,"class","current"),f(L,"class","page-num"),f(j,"type","button"),j.disabled=be=i[3]===i[4],f(q,"type","button"),q.disabled=ie=i[3]===i[4],f(y,"class","prev-next"),ue.__value="",re(ue,ue.__value),K.__value="blog",re(K,K.__value),i[5]===void 0&&Xe(()=>i[25].call(ee)),f(se,"class","site-type-filter"),f(te,"type","text"),f(te,"placeholder",window.trans("Filter by site name")),f(fe,"class","site-name-filter"),f(R,"type","button"),f(R,"class","close"),f(R,"data-dismiss","modal"),f(R,"aria-label","Close"),f(Y,"class","close"),f(b,"class","table-control"),f(s,"class","site-list-table-header"),f(n,"class","site-list-table"),f(t,"class","modal-body"),f(e,"class","modal site-list-button-modal")},m(z,Z){T(z,e,Z),c(e,t),c(t,n),c(n,s),c(s,o),c(o,l),c(l,a),c(l,u),c(l,m),c(o,_),c(o,d),c(s,h),c(s,b),c(b,y),c(y,A),c(A,S),c(y,E),c(y,g),c(g,I),c(y,O),c(y,L),c(L,X),c(X,V),c(L,B),c(L,M),c(y,J),c(y,j),c(j,me),c(y,ge),c(y,q),c(q,F),c(b,ce),c(b,se),c(se,ee),c(ee,ue),c(ee,K),At(ee,i[5],!0),c(b,Re),c(b,fe),c(fe,te),re(te,i[6]),c(fe,we),c(fe,P),_e(ye,P,null),c(b,Te),c(b,Y),c(Y,R),c(n,H),c(n,D),c(D,Oe),c(Oe,Pe),c(Pe,$e),c(Pe,ct),c(Pe,xe),c(D,ut),c(D,Je),ke[ne].m(Je,null),i[28](e),oe=!0,et||(ft=[W(A,"click",i[15]),W(A,"keydown",i[21]),W(g,"click",i[14]),W(g,"keydown",i[22]),W(j,"click",i[12]),W(j,"keydown",i[23]),W(q,"click",i[13]),W(q,"keydown",i[24]),W(ee,"change",i[25]),W(ee,"change",i[16]),W(te,"input",i[26]),W(te,"keydown",i[27]),W(P,"click",i[16]),W(R,"click",i[11]),Ne(Me.call(null,e,"body"))],et=!0)},p(z,Z){(!oe||Z[0]&4)&&r!==(r=window.trans("[_1]Site",z[2].toString())+"")&&x(u,r),(!oe||Z[0]&8&&k!==(k=z[3]<=1))&&(A.disabled=k),(!oe||Z[0]&8&&w!==(w=z[3]<=1))&&(g.disabled=w),(!oe||Z[0]&8)&&x(V,z[3]),(!oe||Z[0]&16)&&x(M,z[4]),(!oe||Z[0]&24&&be!==(be=z[3]===z[4]))&&(j.disabled=be),(!oe||Z[0]&24&&ie!==(ie=z[3]===z[4]))&&(q.disabled=ie),Z[0]&32&&At(ee,z[5]),Z[0]&64&&te.value!==z[6]&&re(te,z[6]);let tt=ne;ne=dt(z),ne===tt?ke[ne].p(z,Z):(qe(),G(ke[tt],1,1,()=>{ke[tt]=null}),Ve(),le=ke[ne],le?le.p(z,Z):(le=ke[ne]=ht[ne](z),le.c()),U(le,1),le.m(Je,null))},i(z){oe||(U(ye.$$.fragment,z),U(le),oe=!0)},o(z){G(ye.$$.fragment,z),G(le),oe=!1},d(z){z&&C(e),pe(ye),ke[ne].d(),i[28](null),et=!1,$(ft)}}}function Ln(i){let e,t,n=de(i[1]),s=[];for(let l=0;l<n.length;l+=1)s[l]=qt(Bt(i,n,l));const o=l=>G(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Ae()},m(l,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,a);T(l,e,a),t=!0},p(l,a){if(a[0]&2){n=de(l[1]);let r;for(r=0;r<n.length;r+=1){const u=Bt(l,n,r);s[r]?(s[r].p(u,a),U(s[r],1)):(s[r]=qt(u),s[r].c(),U(s[r],1),s[r].m(e.parentNode,e))}for(qe(),r=n.length;r<s.length;r+=1)o(r);Ve()}},i(l){if(!t){for(let a=0;a<n.length;a+=1)U(s[a]);t=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(l){l&&C(e),Ge(s,l)}}}function Wn(i){let e,t;return{c(){e=p("tr"),t=p("td"),t.textContent=`${window.trans("Loading...")}`,f(t,"colspan","2"),f(t,"class","loading")},m(n,s){T(n,e,s),c(e,t)},p:Q,i:Q,o:Q,d(n){n&&C(e)}}}function zn(i){let e;return{c(){e=p("span"),e.textContent="-",f(e,"class","text-center")},m(t,n){T(t,e,n)},p:Q,d(t){t&&C(e)}}}function Un(i){let e=i[32].parentSiteName+"",t;return{c(){t=N(e)},m(n,s){T(n,t,s)},p(n,s){s[0]&2&&e!==(e=n[32].parentSiteName+"")&&x(t,e)},d(n){n&&C(t)}}}function qt(i){let e,t,n,s,o=i[32].name+"",l,a,r,u,m,_,d,h,b,y;s=new Se({props:{title:window.trans("Site"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_sites`}}),m=new Se({props:{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_permalink`}});function A(E,g){return E[32].parentSiteName?Un:zn}let S=A(i),k=S(i);return{c(){e=p("tr"),t=p("td"),n=p("a"),ve(s.$$.fragment),l=N(o),r=v(),u=p("a"),ve(m.$$.fragment),d=v(),h=p("td"),k.c(),b=v(),f(n,"href",a=`${window.ScriptURI}?__mode=dashboard&blog_id=${i[32].id}`),f(n,"class","dashboard-link"),f(u,"href",_=i[32].siteUrl),f(u,"class","site-link"),f(u,"target","_blank")},m(E,g){T(E,e,g),c(e,t),c(t,n),_e(s,n,null),c(n,l),c(t,r),c(t,u),_e(m,u,null),c(e,d),c(e,h),k.m(h,null),c(e,b),y=!0},p(E,g){(!y||g[0]&2)&&o!==(o=E[32].name+"")&&x(l,o),(!y||g[0]&2&&a!==(a=`${window.ScriptURI}?__mode=dashboard&blog_id=${E[32].id}`))&&f(n,"href",a),(!y||g[0]&2&&_!==(_=E[32].siteUrl))&&f(u,"href",_),S===(S=A(E))&&k?k.p(E,g):(k.d(1),k=S(E),k&&(k.c(),k.m(h,null)))},i(E){y||(U(s.$$.fragment,E),U(m.$$.fragment,E),y=!0)},o(E){G(s.$$.fragment,E),G(m.$$.fragment,E),y=!1},d(E){E&&C(e),pe(s),pe(m),k.d()}}}function Dn(i){let e,t,n,s,o=window.trans("Site")+"",l,a,r,u,m,_;n=new Se({props:{title:window.trans("Site"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_site-list`}});let d=i[0]&&Ht(i);return{c(){e=v(),t=p("a"),ve(n.$$.fragment),s=v(),l=N(o),a=v(),d&&d.c(),r=Ae(),f(t,"href","#"),f(t,"class","action mt-actionSite"),he(t,"open",i[0])},m(h,b){T(h,e,b),T(h,t,b),_e(n,t,null),c(t,s),c(t,l),i[20](t),T(h,a,b),d&&d.m(h,b),T(h,r,b),u=!0,m||(_=[W(Nn.body,"click",i[17]),W(t,"click",i[10])],m=!0)},p(h,b){(!u||b[0]&1)&&he(t,"open",h[0]),h[0]?d?(d.p(h,b),b[0]&1&&U(d,1)):(d=Ht(h),d.c(),U(d,1),d.m(r.parentNode,r)):d&&(qe(),G(d,1,1,()=>{d=null}),Ve())},i(h){u||(U(n.$$.fragment,h),U(d),u=!0)},o(h){G(n.$$.fragment,h),G(d),u=!1},d(h){h&&(C(e),C(t),C(a),C(r)),pe(n),i[20](null),d&&d.d(h),m=!1,$(_)}}}function Mn(i,e,t){let{magicToken:n}=e,{limit:s=50}=e,o=!1,l;const a=()=>{t(0,o=!0),l=document.body.style.overflow,document.body.style.overflow="hidden"},r=()=>{t(0,o=!1),document.body.style.overflow=l};let u=[],m=0,_=1,d=1,h="",b="",y=[],A=!1,S=null,k=null;const E=()=>{t(3,_++,_),L()},g=()=>{t(3,_=d),L()},I=()=>{t(3,_--,_),L()},w=()=>{t(3,_=1),L()},O=()=>{y=[],h==="blog"&&(y=[{type:"parent_website",args:{value:""}}]),t(6,b=b.trim()),b!==""&&y.push({type:"name",args:{string:b,option:"contains"}}),t(3,_=1),L()},L=async()=>{t(7,A=!0);const F=await Fn({magicToken:n,items:y,page:_,limit:s});t(2,m=F.count),t(4,d=F.pageMax),t(3,_=d!==0?F.page:0),t(1,u=F.sites),t(7,A=!1)},X=F=>{const ie=F.target;o&&Ze([S,k],ie)&&r()};lt(async()=>{L()});function V(F){ae[F?"unshift":"push"](()=>{S=F,t(8,S)})}const B=F=>F.key==="Enter"&&w(),M=F=>F.key==="Enter"&&I(),J=F=>F.key==="Enter"&&E(),j=F=>F.key==="Enter"&&g();function me(){h=ln(this),t(5,h)}function be(){b=this.value,t(6,b)}const ge=F=>F.key==="Enter"&&O();function q(F){ae[F?"unshift":"push"](()=>{k=F,t(9,k)})}return i.$$set=F=>{"magicToken"in F&&t(18,n=F.magicToken),"limit"in F&&t(19,s=F.limit)},[o,u,m,_,d,h,b,A,S,k,a,r,E,g,I,w,O,X,n,s,V,B,M,J,j,me,be,ge,q]}class jn extends De{constructor(e){super(),Ue(this,e,Mn,Dn,Fe,{magicToken:18,limit:19},null,[-1,-1])}}function Pn(i,e){new jn({target:i,props:e})}function Vt(i,e,t){const n=i.slice();return n[17]=e[t],n}function Jt(i){let e,t,n,s,o,l,a,r,u,m,_,d=window.trans("Dashboard")+"",h,b,y,A,S,k;u=new Se({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_home`,title:window.trans("Dashboard")}});function E(O,L){return O[1]==="system"?Bn:Gn}let g=E(i),I=g(i),w=i[0].length>0&&Qt(i);return{c(){e=p("div"),t=p("div"),n=p("button"),n.innerHTML='<span aria-hidden="true">\xD7</span>',s=v(),o=p("div"),l=p("ul"),a=p("li"),r=p("span"),ve(u.$$.fragment),m=v(),_=p("a"),h=N(d),b=v(),I.c(),y=v(),w&&w.c(),f(n,"type","button"),f(n,"class","close"),f(n,"data-dismiss","modal"),f(n,"aria-label","Close"),f(t,"class","modal-header"),f(r,"class","mt-icon"),f(_,"href",window.ScriptURI+"?__mode=dashboard"),f(_,"title",window.trans("Dashboard")),f(a,"class","breadcrumb-list-item"),f(l,"class","breadcrumb-list"),f(o,"class","modal-body"),f(e,"class","modal breadcrumbs-modal"),Tt(e,"--modal-left",i[11]+"px")},m(O,L){T(O,e,L),c(e,t),c(t,n),c(e,s),c(e,o),c(o,l),c(l,a),c(a,r),_e(u,r,null),c(a,m),c(a,_),c(_,h),c(l,b),I.m(l,null),c(l,y),w&&w.m(l,null),i[16](e),A=!0,S||(k=[W(n,"click",i[13]),Ne(Me.call(null,e,"body"))],S=!0)},p(O,L){g===(g=E(O))&&I?I.p(O,L):(I.d(1),I=g(O),I&&(I.c(),I.m(l,y))),O[0].length>0?w?w.p(O,L):(w=Qt(O),w.c(),w.m(l,null)):w&&(w.d(1),w=null),(!A||L&2048)&&Tt(e,"--modal-left",O[11]+"px")},i(O){A||(U(u.$$.fragment,O),A=!0)},o(O){G(u.$$.fragment,O),A=!1},d(O){O&&C(e),pe(u),I.d(),w&&w.d(),i[16](null),S=!1,$(k)}}}function Gn(i){let e,t,n,s,o,l,a,r=i[1]==="blog"&&Kt(i);return{c(){r&&r.c(),e=v(),t=p("li"),n=p("span"),n.textContent="\xA0",s=v(),o=p("a"),l=N(i[7]),f(n,"class","mt-icon icon-circle"),f(o,"href",a=window.ScriptURI+"?__mode=dashboard&blog_id="+i[6]),f(t,"class","breadcrumb-list-item")},m(u,m){r&&r.m(u,m),T(u,e,m),T(u,t,m),c(t,n),c(t,s),c(t,o),c(o,l)},p(u,m){u[1]==="blog"?r?r.p(u,m):(r=Kt(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),m&128&&x(l,u[7]),m&64&&a!==(a=window.ScriptURI+"?__mode=dashboard&blog_id="+u[6])&&f(o,"href",a)},d(u){u&&(C(e),C(t)),r&&r.d(u)}}}function Bn(i){let e,t,n;function s(a,r){return a[2]?Jn:Vn}let o=s(i),l=o(i);return{c(){e=p("li"),t=p("span"),t.textContent="\xA0",n=v(),l.c(),f(t,"class","mt-icon icon-circle"),f(e,"class","breadcrumb-list-item")},m(a,r){T(a,e,r),c(e,t),c(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&C(e),l.d()}}}function Kt(i){let e,t,n;function s(a,r){return a[3]?qn:Hn}let o=s(i),l=o(i);return{c(){e=p("li"),t=p("span"),t.textContent="\xA0",n=v(),l.c(),f(t,"class","mt-icon icon-circle"),f(e,"class","breadcrumb-list-item")},m(a,r){T(a,e,r),c(e,t),c(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&C(e),l.d()}}}function Hn(i){let e;return{c(){e=N(i[5])},m(t,n){T(t,e,n)},p(t,n){n&32&&x(e,t[5])},d(t){t&&C(e)}}}function qn(i){let e,t,n;return{c(){e=p("a"),t=N(i[5]),f(e,"href",n=window.ScriptURI+"?__mode=dashboard&blog_id="+i[4])},m(s,o){T(s,e,o),c(e,t)},p(s,o){o&32&&x(t,s[5]),o&16&&n!==(n=window.ScriptURI+"?__mode=dashboard&blog_id="+s[4])&&f(e,"href",n)},d(s){s&&C(e)}}}function Vn(i){let e=window.trans("System")+"",t;return{c(){t=N(e)},m(n,s){T(n,t,s)},p:Q,d(n){n&&C(t)}}}function Jn(i){let e,t=window.trans("System")+"",n;return{c(){e=p("a"),n=N(t),f(e,"href",window.ScriptURI+"?__mode=dashboard&blog_id=0")},m(s,o){T(s,e,o),c(e,n)},p:Q,d(s){s&&C(e)}}}function Qt(i){let e,t=de(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Zt(Vt(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ae()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);T(s,e,o)},p(s,o){if(o&1){t=de(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Vt(s,t,l);n[l]?n[l].p(a,o):(n[l]=Zt(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&C(e),Ge(n,s)}}}function Xt(i){let e,t=i[17].bc_name+"",n,s;return{c(){e=p("a"),n=N(t),f(e,"href",s=i[17].bc_uri),f(e,"class","mt-breadcrumb__item")},m(o,l){T(o,e,l),c(e,n)},p(o,l){l&1&&t!==(t=o[17].bc_name+"")&&x(n,t),l&1&&s!==(s=o[17].bc_uri)&&f(e,"href",s)},d(o){o&&C(e)}}}function Yt(i){let e,t=i[17].bc_name+"",n;return{c(){e=p("span"),n=N(t),f(e,"class","current")},m(s,o){T(s,e,o),c(e,n)},p(s,o){o&1&&t!==(t=s[17].bc_name+"")&&x(n,t)},d(s){s&&C(e)}}}function Zt(i){let e,t,n,s,o,l,a=i[17].bc_uri!==null&&Xt(i),r=i[17].is_last&&Yt(i);return{c(){e=v(),t=p("li"),n=p("span"),n.textContent="\xA0",s=v(),a&&a.c(),o=v(),r&&r.c(),l=v(),f(n,"class","mt-icon icon-circle"),f(t,"class","breadcrumb-list-item")},m(u,m){T(u,e,m),T(u,t,m),c(t,n),c(t,s),a&&a.m(t,null),c(t,o),r&&r.m(t,null),c(t,l)},p(u,m){u[17].bc_uri!==null?a?a.p(u,m):(a=Xt(u),a.c(),a.m(t,o)):a&&(a.d(1),a=null),u[17].is_last?r?r.p(u,m):(r=Yt(u),r.c(),r.m(t,l)):r&&(r.d(1),r=null)},d(u){u&&(C(e),C(t)),a&&a.d(),r&&r.d()}}}function Kn(i){let e,t,n,s,o,l,a,r,u;s=new Se({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_menu`,title:window.trans("menu")}});let m=i[10]&&Jt(i);return{c(){e=v(),t=p("span"),n=p("button"),ve(s.$$.fragment),o=v(),m&&m.c(),l=Ae(),f(n,"type","button"),f(n,"class","mt-breadcrumb-button"),f(t,"class","mt-breadcrumb-button-wrapper")},m(_,d){T(_,e,d),T(_,t,d),c(t,n),_e(s,n,null),i[15](n),T(_,o,d),m&&m.m(_,d),T(_,l,d),a=!0,r||(u=[W(document.body,"click",i[14]),W(n,"click",i[12])],r=!0)},p(_,[d]){_[10]?m?(m.p(_,d),d&1024&&U(m,1)):(m=Jt(_),m.c(),U(m,1),m.m(l.parentNode,l)):m&&(qe(),G(m,1,1,()=>{m=null}),Ve())},i(_){a||(U(s.$$.fragment,_),U(m),a=!0)},o(_){G(s.$$.fragment,_),G(m),a=!1},d(_){_&&(C(e),C(t),C(o),C(l)),pe(s),i[15](null),m&&m.d(_),r=!1,$(u)}}}function Qn(i,e,t){let{breadcrumbs:n=[]}=e,{scopeType:s=""}=e,{canAccessToSystemDashboard:o=!1}=e,{canCurrentWebsiteLink:l=!1}=e,{currentWebsiteID:a=""}=e,{currentWebsiteName:r=""}=e,{blogID:u=""}=e,{blogName:m=""}=e,_=!1;const d=()=>{t(10,_=!0)},h=()=>{t(10,_=!1)};let b=null,y=null,A=0;const S=g=>{const I=g.target;_&&Ze([b,y],I)&&h()};function k(g){ae[g?"unshift":"push"](()=>{b=g,t(8,b)})}function E(g){ae[g?"unshift":"push"](()=>{y=g,t(9,y)})}return i.$$set=g=>{"breadcrumbs"in g&&t(0,n=g.breadcrumbs),"scopeType"in g&&t(1,s=g.scopeType),"canAccessToSystemDashboard"in g&&t(2,o=g.canAccessToSystemDashboard),"canCurrentWebsiteLink"in g&&t(3,l=g.canCurrentWebsiteLink),"currentWebsiteID"in g&&t(4,a=g.currentWebsiteID),"currentWebsiteName"in g&&t(5,r=g.currentWebsiteName),"blogID"in g&&t(6,u=g.blogID),"blogName"in g&&t(7,m=g.blogName)},i.$$.update=()=>{if(i.$$.dirty&768&&b&&y){const g=b.getBoundingClientRect();t(11,A=g.left+(g.width-y.offsetWidth)/2)}},[n,s,o,l,a,r,u,m,b,y,_,A,d,h,S,k,E]}class Xn extends De{constructor(e){super(),Ue(this,e,Qn,Kn,Fe,{breadcrumbs:0,scopeType:1,canAccessToSystemDashboard:2,canCurrentWebsiteLink:3,currentWebsiteID:4,currentWebsiteName:5,blogID:6,blogName:7})}}const Yn=({target:i})=>{const{breadcrumbs:e,canAccessToSystemDashboard:t,canCurrentWebsiteLink:n,...s}=i.dataset;new Xn({target:i,props:{breadcrumbs:JSON.parse(e??"[]"),canAccessToSystemDashboard:t==="1",canCurrentWebsiteLink:n==="1",...s}})};document.addEventListener("DOMContentLoaded",()=>{var i,e;const t=document.querySelector('[data-is="primary-navigation-toggle"]');t!==null&&kn(t);const n=document.querySelector('[data-is="breadcrumbs"]');n!==null&&Yn({target:n});const s=document.querySelector('[data-script="admin-header"]');if(s===null){console.error("data-script='admin-header' is not set");return}const o=(i=s.getAttribute("data-blog-id"))!==null&&i!==void 0?i:"",l=(e=s.getAttribute("data-magic-token"))!==null&&e!==void 0?e:"";if(l===""){console.error("data-magic-token is not set");return}const a="50",r=document.querySelector('[data-is="site-list-button"]');r!==null&&Pn(r,{magicToken:l,limit:Number.parseInt(a)});const u=document.querySelector('[data-is="create-button"]'),m=document.querySelector('[data-is="search-button"]');(u!==null||m!==null)&&en({blogId:o,magicToken:l}).then(_=>{u!==null&&wn({target:u,props:{blog_id:o,contentTypes:_.contentTypes.filter(d=>d.can_create===1)}}),m!==null&&On(m,{blogId:o,magicToken:l,contentTypes:_.contentTypes.filter(d=>d.can_search===1)})})});
