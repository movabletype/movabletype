class _t{constructor({cache:e}){this.cache=e}generateCacheKey({prefix:e,params:t}){const n=Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{});return`${e}_${JSON.stringify(n)}`}async fetchWithCache({key:e,fetcher:t,ttl:n=1e3*60,noCache:s=!1}){return s?t():this.cache.get(e)||t().then(l=>(this.cache.set(e,l,n),l)).catch(l=>(console.log("Failed to fetch data:",l),l))}clearCache(e){this.cache.delete(e)}clearAllCache(){this.cache.clear()}}const Ae=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pt=new Set,et=typeof process=="object"&&process?process:{},gt=(i,e,t,n)=>{typeof et.emitWarning=="function"?et.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let Je=globalThis.AbortController,mt=globalThis.AbortSignal;if(typeof Je>"u"){mt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,s){this._onabort.push(s)}},Je=class{constructor(){e()}signal=new mt;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const s of this.signal._onabort)s(n);this.signal.onabort?.(n)}}};let i=et.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{i&&(i=!1,gt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const $t=i=>!pt.has(i),_e=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),bt=i=>_e(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Ke:null:null;class Ke extends Array{constructor(e){super(e),this.fill(0)}}class Fe{heap;length;static#a=!1;static create(e){const t=bt(e);if(!t)return[];Fe.#a=!0;const n=new Fe(e,t);return Fe.#a=!1,n}constructor(e,t){if(!Fe.#a)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class ot{#a;#f;#p;#g;#R;#I;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#m;#i;#n;#e;#c;#h;#r;#l;#b;#o;#w;#v;#d;#y;#A;#u;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#d,sizes:e.#w,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#c,prev:e.#h,get head(){return e.#r},get tail(){return e.#l},free:e.#b,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,n,s,o)=>e.#W(t,n,s,o),moveToTail:t=>e.#O(t),indexes:t=>e.#S(t),rindexes:t=>e.#k(t),isStale:t=>e.#_(t)}}get max(){return this.#a}get maxSize(){return this.#f}get calculatedSize(){return this.#m}get size(){return this.#s}get fetchMethod(){return this.#R}get memoMethod(){return this.#I}get dispose(){return this.#p}get disposeAfter(){return this.#g}constructor(e){const{max:t=0,ttl:n,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:l,updateAgeOnHas:a,allowStale:r,dispose:u,disposeAfter:p,noDisposeOnSet:d,noUpdateTTL:g,maxSize:h=0,maxEntrySize:m=0,sizeCalculation:b,fetchMethod:A,memoMethod:y,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:w,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:N,ignoreFetchAbort:F}=e;if(t!==0&&!_e(t))throw new TypeError("max option must be a nonnegative integer");const O=t?bt(t):Array;if(!O)throw new Error("invalid max value: "+t);if(this.#a=t,this.#f=h,this.maxEntrySize=m||this.#f,this.sizeCalculation=b,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#I=y,A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#R=A,this.#A=!!A,this.#i=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#c=new O(t),this.#h=new O(t),this.#r=0,this.#l=0,this.#b=Fe.create(t),this.#s=0,this.#m=0,typeof u=="function"&&(this.#p=u),typeof p=="function"?(this.#g=p,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#y=!!this.#p,this.#u=!!this.#g,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.#f!==0&&!_e(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!_e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!r,this.noDeleteOnStaleGet=!!w,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!a,this.ttlResolution=_e(s)||s===0?s:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!_e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(this.#a===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#a&&!this.#f){const I="LRU_CACHE_UNBOUNDED";$t(I)&&(pt.add(I),gt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,ot))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#L(){const e=new Ke(this.#a),t=new Ke(this.#a);this.#d=e,this.#v=t,this.#z=(o,l,a=Ae.now())=>{if(t[o]=l!==0?a:0,e[o]=l,l!==0&&this.ttlAutopurge){const r=setTimeout(()=>{this.#_(o)&&this.#T(this.#n[o],"expire")},l+1);r.unref&&r.unref()}},this.#E=o=>{t[o]=e[o]!==0?Ae.now():0},this.#C=(o,l)=>{if(e[l]){const a=e[l],r=t[l];if(!a||!r)return;o.ttl=a,o.start=r,o.now=n||s();const u=o.now-r;o.remainingTTL=a-u}};let n=0;const s=()=>{const o=Ae.now();if(this.ttlResolution>0){n=o;const l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return o};this.getRemainingTTL=o=>{const l=this.#i.get(o);if(l===void 0)return 0;const a=e[l],r=t[l];if(!a||!r)return 1/0;const u=(n||s())-r;return a-u},this.#_=o=>{const l=t[o],a=e[o];return!!a&&!!l&&(n||s())-l>a}}#E=()=>{};#C=()=>{};#z=()=>{};#_=()=>!1;#P(){const e=new Ke(this.#a);this.#m=0,this.#w=e,this.#N=t=>{this.#m-=e[t],e[t]=0},this.#D=(t,n,s,o)=>{if(this.#t(n))return 0;if(!_e(s))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(s=o(n,t),!_e(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#j=(t,n,s)=>{if(e[t]=n,this.#f){const o=this.#f-e[t];for(;this.#m>o;)this.#F(!0)}this.#m+=e[t],s&&(s.entrySize=n,s.totalCalculatedSize=this.#m)}}#N=e=>{};#j=(e,t,n)=>{};#D=(e,t,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#l;!(!this.#U(t)||((e||!this.#_(t))&&(yield t),t===this.#r));)t=this.#h[t]}*#k({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#r;!(!this.#U(t)||((e||!this.#_(t))&&(yield t),t===this.#l));)t=this.#c[t]}#U(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#k())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#S()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(const e of this.#k()){const t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#k())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;if(o!==void 0&&e(o,this.#n[n],this))return this.get(this.#n[n],t)}}forEach(e,t=this){for(const n of this.#S()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}rforEach(e,t=this){for(const n of this.#k()){const s=this.#e[n],o=this.#t(s)?s.__staleWhileFetching:s;o!==void 0&&e.call(t,o,this.#n[n],this)}}purgeStale(){let e=!1;for(const t of this.#k({allowStale:!0}))this.#_(t)&&(this.#T(this.#n[t],"expire"),e=!0);return e}info(e){const t=this.#i.get(e);if(t===void 0)return;const n=this.#e[t],s=this.#t(n)?n.__staleWhileFetching:n;if(s===void 0)return;const o={value:s};if(this.#d&&this.#v){const l=this.#d[t],a=this.#v[t];if(l&&a){const r=l-(Ae.now()-a);o.ttl=r,o.start=Date.now()}}return this.#w&&(o.size=this.#w[t]),o}dump(){const e=[];for(const t of this.#S({allowStale:!0})){const n=this.#n[t],s=this.#e[t],o=this.#t(s)?s.__staleWhileFetching:s;if(o===void 0||n===void 0)continue;const l={value:o};if(this.#d&&this.#v){l.ttl=this.#d[t];const a=Ae.now()-this.#v[t];l.start=Math.floor(Date.now()-a)}this.#w&&(l.size=this.#w[t]),e.unshift([n,l])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const s=Date.now()-n.start;n.start=Ae.now()-s}this.set(t,n.value,n)}}set(e,t,n={}){if(t===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:o,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:r}=n;let{noUpdateTTL:u=this.noUpdateTTL}=n;const p=this.#D(e,t,n.size||0,a);if(this.maxEntrySize&&p>this.maxEntrySize)return r&&(r.set="miss",r.maxEntrySizeExceeded=!0),this.#T(e,"set"),this;let d=this.#s===0?void 0:this.#i.get(e);if(d===void 0)d=this.#s===0?this.#l:this.#b.length!==0?this.#b.pop():this.#s===this.#a?this.#F(!1):this.#s,this.#n[d]=e,this.#e[d]=t,this.#i.set(e,d),this.#c[this.#l]=d,this.#h[d]=this.#l,this.#l=d,this.#s++,this.#j(d,p,r),r&&(r.set="add"),u=!1;else{this.#O(d);const g=this.#e[d];if(t!==g){if(this.#A&&this.#t(g)){g.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:h}=g;h!==void 0&&!l&&(this.#y&&this.#p?.(h,e,"set"),this.#u&&this.#o?.push([h,e,"set"]))}else l||(this.#y&&this.#p?.(g,e,"set"),this.#u&&this.#o?.push([g,e,"set"]));if(this.#N(d),this.#j(d,p,r),this.#e[d]=t,r){r.set="replace";const h=g&&this.#t(g)?g.__staleWhileFetching:g;h!==void 0&&(r.oldValue=h)}}else r&&(r.set="update")}if(s!==0&&!this.#d&&this.#L(),this.#d&&(u||this.#z(d,s,o),r&&this.#C(r,d)),!l&&this.#u&&this.#o){const g=this.#o;let h;for(;h=g?.shift();)this.#g?.(...h)}return this}pop(){try{for(;this.#s;){const e=this.#e[this.#r];if(this.#F(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#o){const e=this.#o;let t;for(;t=e?.shift();)this.#g?.(...t)}}}#F(e){const t=this.#r,n=this.#n[t],s=this.#e[t];return this.#A&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#y||this.#u)&&(this.#y&&this.#p?.(s,n,"evict"),this.#u&&this.#o?.push([s,n,"evict"])),this.#N(t),e&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#b.push(t)),this.#s===1?(this.#r=this.#l=0,this.#b.length=0):this.#r=this.#c[t],this.#i.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=t,o=this.#i.get(e);if(o!==void 0){const l=this.#e[o];if(this.#t(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#_(o))s&&(s.has="stale",this.#C(s,o));else return n&&this.#E(o),s&&(s.has="hit",this.#C(s,o)),!0}else s&&(s.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,s=this.#i.get(e);if(s===void 0||!n&&this.#_(s))return;const o=this.#e[s];return this.#t(o)?o.__staleWhileFetching:o}#W(e,t,n,s){const o=t===void 0?void 0:this.#e[t];if(this.#t(o))return o;const l=new Je,{signal:a}=n;a?.addEventListener("abort",()=>l.abort(a.reason),{signal:l.signal});const r={signal:l.signal,options:n,context:s},u=(b,A=!1)=>{const{aborted:y}=l.signal,k=n.ignoreFetchAbort&&b!==void 0;if(n.status&&(y&&!A?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,k&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!k&&!A)return d(l.signal.reason);const w=h;return this.#e[t]===h&&(b===void 0?w.__staleWhileFetching?this.#e[t]=w.__staleWhileFetching:this.#T(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,b,r.options))),b},p=b=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=b),d(b)),d=b=>{const{aborted:A}=l.signal,y=A&&n.allowStaleOnFetchAbort,k=y||n.allowStaleOnFetchRejection,w=k||n.noDeleteOnFetchRejection,v=h;if(this.#e[t]===h&&(!w||v.__staleWhileFetching===void 0?this.#T(e,"fetch"):y||(this.#e[t]=v.__staleWhileFetching)),k)return n.status&&v.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw b},g=(b,A)=>{const y=this.#R?.(e,o,r);y&&y instanceof Promise&&y.then(k=>b(k===void 0?void 0:k),A),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(b(void 0),n.allowStaleOnFetchAbort&&(b=k=>u(k,!0)))})};n.status&&(n.status.fetchDispatched=!0);const h=new Promise(g).then(u,p),m=Object.assign(h,{__abortController:l,__staleWhileFetching:o,__returned:void 0});return t===void 0?(this.set(e,m,{...r.options,status:void 0}),t=this.#i.get(e)):this.#e[t]=m,m}#t(e){if(!this.#A)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Je}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:r=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:p=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:b,forceRefresh:A=!1,status:y,signal:k}=t;if(!this.#A)return y&&(y.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,status:y});const w={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:o,ttl:l,noDisposeOnSet:a,size:r,sizeCalculation:u,noUpdateTTL:p,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:m,ignoreFetchAbort:h,status:y,signal:k};let v=this.#i.get(e);if(v===void 0){y&&(y.fetch="miss");const N=this.#W(e,v,w,b);return N.__returned=N}else{const N=this.#e[v];if(this.#t(N)){const D=n&&N.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",D&&(y.returnedStale=!0)),D?N.__staleWhileFetching:N.__returned=N}const F=this.#_(v);if(!A&&!F)return y&&(y.fetch="hit"),this.#O(v),s&&this.#E(v),y&&this.#C(y,v),N;const O=this.#W(e,v,w,b),j=O.__staleWhileFetching!==void 0&&n;return y&&(y.fetch=F?"stale":"refresh",j&&F&&(y.returnedStale=!0)),j?O.__staleWhileFetching:O.__returned=O}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#I;if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:o,...l}=t,a=this.get(e,l);if(!o&&a!==void 0)return a;const r=n(e,a,{options:l,context:s});return this.set(e,r,l),r}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:l}=t,a=this.#i.get(e);if(a!==void 0){const r=this.#e[a],u=this.#t(r);return l&&this.#C(l,a),this.#_(a)?(l&&(l.get="stale"),u?(l&&n&&r.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?r.__staleWhileFetching:void 0):(o||this.#T(e,"expire"),l&&n&&(l.returnedStale=!0),n?r:void 0)):(l&&(l.get="hit"),u?r.__staleWhileFetching:(this.#O(a),s&&this.#E(a),r))}else l&&(l.get="miss")}#M(e,t){this.#h[t]=e,this.#c[e]=t}#O(e){e!==this.#l&&(e===this.#r?this.#r=this.#c[e]:this.#M(this.#h[e],this.#c[e]),this.#M(this.#l,e),this.#l=e)}delete(e){return this.#T(e,"delete")}#T(e,t){let n=!1;if(this.#s!==0){const s=this.#i.get(e);if(s!==void 0)if(n=!0,this.#s===1)this.#H(t);else{this.#N(s);const o=this.#e[s];if(this.#t(o)?o.__abortController.abort(new Error("deleted")):(this.#y||this.#u)&&(this.#y&&this.#p?.(o,e,t),this.#u&&this.#o?.push([o,e,t])),this.#i.delete(e),this.#n[s]=void 0,this.#e[s]=void 0,s===this.#l)this.#l=this.#h[s];else if(s===this.#r)this.#r=this.#c[s];else{const l=this.#h[s];this.#c[l]=this.#c[s];const a=this.#c[s];this.#h[a]=this.#h[s]}this.#s--,this.#b.push(s)}}if(this.#u&&this.#o?.length){const s=this.#o;let o;for(;o=s?.shift();)this.#g?.(...o)}return n}clear(){return this.#H("delete")}#H(e){for(const t of this.#k({allowStale:!0})){const n=this.#e[t];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const s=this.#n[t];this.#y&&this.#p?.(n,s,e),this.#u&&this.#o?.push([n,s,e])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#w&&this.#w.fill(0),this.#r=0,this.#l=0,this.#b.length=0,this.#m=0,this.#s=0,this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#g?.(...n)}}}class wt{constructor(e){var t;this.cache=new ot({ttl:(t=e?.ttl)!==null&&t!==void 0?t:1e3*60,ttlAutopurge:!1,allowStale:!1})}get(e){const t=this.cache.get(e);if(t){if(t.expiry>Date.now())return t.data;this.delete(e)}return null}set(e,t,n){const s=Date.now()+n;this.cache.set(e,{data:t,expiry:s},{ttl:n})}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const en=new wt,vt=new _t({cache:en}),tn=async i=>{const e={__mode:"filtered_list",blog_id:i.blogId,columns:"name",datasource:"content_type",items:"[]",limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await vt.fetchWithCache({key:vt.generateCacheKey({prefix:"content_types",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"}),n=t.result.objects.map(s=>{const o=s[1].replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"");return{id:s[0],name:o}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),contentTypes:n}}})};function q(){}function yt(i){return i()}function St(){return Object.create(null)}function X(i){i.forEach(yt)}function tt(i){return typeof i=="function"}function Ee(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function nn(i){return Object.keys(i).length===0}function Le(i){return i&&tt(i.destroy)?i.destroy:q}const sn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(i,e){i.appendChild(e)}function C(i,e,t){i.insertBefore(e,t||null)}function T(i){i.parentNode&&i.parentNode.removeChild(i)}function ze(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function _(i){return document.createElement(i)}function De(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function W(i){return document.createTextNode(i)}function S(){return W(" ")}function ye(){return W("")}function L(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function c(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function kt(i,e,t){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Tt(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function ln(i){return Array.from(i.childNodes)}function Y(i,e){e=""+e,i.data!==e&&(i.data=e)}function se(i,e){i.value=e??""}function Ct(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function At(i,e,t){for(let n=0;n<i.options.length;n+=1){const s=i.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function on(i){const e=i.querySelector(":checked");return e&&e.__value}function Et(i,e,t){i.classList.toggle(e,!!t)}let Ue;function Me(i){Ue=i}function rn(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function nt(i){rn().$$.on_mount.push(i)}const Ne=[],oe=[];let Oe=[];const Nt=[],Ot=Promise.resolve();let it=!1;function Rt(){it||(it=!0,Ot.then(It))}function an(){return Rt(),Ot}function Qe(i){Oe.push(i)}const st=new Set;let Re=0;function It(){if(Re!==0)return;const i=Ue;do{try{for(;Re<Ne.length;){const e=Ne[Re];Re++,Me(e),cn(e.$$)}}catch(e){throw Ne.length=0,Re=0,e}for(Me(null),Ne.length=0,Re=0;oe.length;)oe.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];st.has(t)||(st.add(t),t())}Oe.length=0}while(Ne.length);for(;Nt.length;)Nt.pop()();it=!1,st.clear(),Me(i)}function cn(i){if(i.fragment!==null){i.update(),X(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Qe)}}function un(i){const e=[],t=[];Oe.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Oe=e}const Ze=new Set;let Se;function He(){Se={r:0,c:[],p:Se}}function Pe(){Se.r||X(Se.c),Se=Se.p}function M(i,e){i&&i.i&&(Ze.delete(i),i.i(e))}function G(i,e,t,n){if(i&&i.o){if(Ze.has(i))return;Ze.add(i),Se.c.push(()=>{Ze.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function re(i){return i?.length!==void 0?i:Array.from(i)}function pe(i){i&&i.c()}function ue(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),Qe(()=>{const o=i.$$.on_mount.map(yt).filter(tt);i.$$.on_destroy?i.$$.on_destroy.push(...o):X(o),i.$$.on_mount=[]}),s.forEach(Qe)}function fe(i,e){const t=i.$$;t.fragment!==null&&(un(t.after_update),X(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function fn(i,e){i.$$.dirty[0]===-1&&(Ne.push(i),Rt(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ie(i,e,t,n,s,o,l=null,a=[-1]){const r=Ue;Me(i);const u=i.$$={fragment:null,ctx:[],props:o,update:q,not_equal:s,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:St(),dirty:a,skip_bound:!1,root:e.target||r.$$.root};l&&l(u.root);let p=!1;if(u.ctx=t?t(i,e.props||{},(d,g,...h)=>{const m=h.length?h[0]:g;return u.ctx&&s(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),p&&fn(i,d)),g}):[],u.update(),p=!0,X(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const d=ln(e.target);u.fragment&&u.fragment.l(d),d.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&M(i.$$.fragment),ue(i,e.target,e.anchor),It()}Me(r)}class je{$$=void 0;$$set=void 0;$destroy(){fe(this,1),this.$destroy=q}$on(e,t){if(!tt(t))return q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!nn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hn);function Ge(i,e="body"){let t;async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await an(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(i),i.hidden=!1}function s(){i.parentNode&&i.parentNode.removeChild(i)}return n(e),{update:n,destroy:s}}function lt(i,e){return!i.some(t=>t&&t.contains(e))}function jt(i){let e,t;return{c(){e=De("title"),t=W(i[2])},m(n,s){C(n,e,s),f(e,t)},p(n,s){s&4&&Y(t,n[2])},d(n){n&&T(e)}}}function dn(i){let e,t,n=i[2]&&jt(i);return{c(){e=De("svg"),n&&n.c(),t=De("use"),kt(t,"xlink:href",i[1]),c(e,"role","img"),c(e,"class",i[0])},m(s,o){C(s,e,o),n&&n.m(e,null),f(e,t)},p(s,[o]){s[2]?n?n.p(s,o):(n=jt(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),o&2&&kt(t,"xlink:href",s[1]),o&1&&c(e,"class",s[0])},i:q,o:q,d(s){s&&T(e),n&&n.d()}}}function _n(i,e,t){let{class:n}=e,{href:s}=e,{title:o}=e;return i.$$set=l=>{"class"in l&&t(0,n=l.class),"href"in l&&t(1,s=l.href),"title"in l&&t(2,o=l.title)},[n,s,o]}class ge extends je{constructor(e){super(),Ie(this,e,_n,dn,Ee,{class:0,href:1,title:2})}}function Ft(i,e,t){const n=i.slice();return n[10]=e[t],n}function Wt(i){let e,t,n,s,o,l,a,r,u,p,d,g,h,m=window.trans("New [_1] creation",window.trans("Entry"))+"",b,A,y,k,w=window.trans("New [_1] creation",window.trans("Page"))+"",v,N,F;function O(D,x){return D[0].length>0?gn:pn}let I=O(i),j=I(i);return{c(){e=_("div"),t=_("div"),n=_("button"),n.innerHTML='<span aria-hidden="true" class="svelte-1uh90x8">\xD7</span>',s=S(),o=_("div"),l=_("p"),l.textContent=`${window.trans("Content Data")}`,a=S(),j.c(),r=S(),u=_("p"),u.textContent=`${`${window.trans("Entry")}\u30FB${window.trans("Page")}`}`,p=S(),d=_("ul"),g=_("li"),h=_("a"),b=W(m),A=S(),y=_("li"),k=_("a"),v=W(w),c(n,"type","button"),c(n,"class","close svelte-1uh90x8"),c(n,"data-dismiss","modal"),c(n,"aria-label","Close"),c(t,"class","modal-header svelte-1uh90x8"),c(l,"class","block-title svelte-1uh90x8"),c(u,"class","block-title svelte-1uh90x8"),c(h,"href",`${window.CMSScriptURI}?__mode=edit&_type=entry&blog_id=2`),c(h,"class","svelte-1uh90x8"),c(g,"class","svelte-1uh90x8"),c(k,"href",`${window.CMSScriptURI}?__mode=edit&_type=page&blog_id=2`),c(k,"class","svelte-1uh90x8"),c(y,"class","svelte-1uh90x8"),c(d,"class","create-button-list svelte-1uh90x8"),c(o,"class","modal-body svelte-1uh90x8"),c(e,"class","modal create-button-modal svelte-1uh90x8")},m(D,x){C(D,e,x),f(e,t),f(t,n),f(e,s),f(e,o),f(o,l),f(o,a),j.m(o,null),f(o,r),f(o,u),f(o,p),f(o,d),f(d,g),f(g,h),f(h,b),f(d,A),f(d,y),f(y,k),f(k,v),i[9](e),N||(F=[L(n,"click",i[6]),Le(Ge.call(null,e,"body"))],N=!0)},p(D,x){I===(I=O(D))&&j?j.p(D,x):(j.d(1),j=I(D),j&&(j.c(),j.m(o,r)))},d(D){D&&T(e),j.d(),i[9](null),N=!1,X(F)}}}function pn(i){let e;return{c(){e=_("p"),e.textContent=`${window.trans("No Content Type could be found.")}`},m(t,n){C(t,e,n)},p:q,d(t){t&&T(e)}}}function gn(i){let e,t=re(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Lt(Ft(i,t,s));return{c(){e=_("ul");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","create-button-list svelte-1uh90x8")},m(s,o){C(s,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(s,o){if(o&3){t=re(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Ft(s,t,l);n[l]?n[l].p(a,o):(n[l]=Lt(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&T(e),ze(n,s)}}}function Lt(i){let e,t,n=window.trans("New [_1] creation",i[10].name)+"",s,o,l;return{c(){e=_("li"),t=_("a"),s=W(n),l=S(),c(t,"href",o=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${i[10].id}&type=content_data_${i[10].id}&blog_id=${i[1]}`),c(t,"class","svelte-1uh90x8"),c(e,"class","svelte-1uh90x8")},m(a,r){C(a,e,r),f(e,t),f(t,s),f(e,l)},p(a,r){r&1&&n!==(n=window.trans("New [_1] creation",a[10].name)+"")&&Y(s,n),r&3&&o!==(o=`${window.CMSScriptURI}?__mode=edit&_type=content_data&content_type_id=${a[10].id}&type=content_data_${a[10].id}&blog_id=${a[1]}`)&&c(t,"href",o)},d(a){a&&T(e)}}}function mn(i){let e,t,n,s,o=window.trans("Create New")+"",l,a,r,u,p,d;n=new ge({props:{title:window.trans("Create New"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_create`}});let g=i[2]&&Wt(i);return{c(){e=S(),t=_("a"),pe(n.$$.fragment),s=S(),l=W(o),a=S(),g&&g.c(),r=ye(),c(t,"href","#"),c(t,"class","menu_actions__button create")},m(h,m){C(h,e,m),C(h,t,m),ue(n,t,null),f(t,s),f(t,l),i[8](t),C(h,a,m),g&&g.m(h,m),C(h,r,m),u=!0,p||(d=[L(document.body,"click",i[7]),L(t,"click",i[5])],p=!0)},p(h,[m]){h[2]?g?g.p(h,m):(g=Wt(h),g.c(),g.m(r.parentNode,r)):g&&(g.d(1),g=null)},i(h){u||(M(n.$$.fragment,h),u=!0)},o(h){G(n.$$.fragment,h),u=!1},d(h){h&&(T(e),T(t),T(a),T(r)),fe(n),i[8](null),g&&g.d(h),p=!1,X(d)}}}function bn(i,e,t){let{contentTypes:n=[]}=e,{blog_id:s}=e,o=!1;const l=()=>{t(2,o=!0)},a=()=>{t(2,o=!1)};let r=null,u=null;const p=h=>{const m=h.target;o&&lt([r,u],m)&&a()};function d(h){oe[h?"unshift":"push"](()=>{r=h,t(3,r)})}function g(h){oe[h?"unshift":"push"](()=>{u=h,t(4,u)})}return i.$$set=h=>{"contentTypes"in h&&t(0,n=h.contentTypes),"blog_id"in h&&t(1,s=h.blog_id)},[n,s,o,r,u,l,a,p,d,g]}class wn extends je{constructor(e){super(),Ie(this,e,bn,mn,Ee,{contentTypes:0,blog_id:1})}}const vn=({target:i,props:e})=>{new wn({target:i,props:e})};function yn(i){let e,t,n;return{c(){e=_("div"),c(e,"class","mt-primaryNavigation__toggle_bar")},m(s,o){C(s,e,o),t||(n=[L(e,"click",i[0]),L(e,"mouseover",i[1]),L(e,"mouseout",i[2])],t=!0)},p:q,i:q,o:q,d(s){s&&T(e),t=!1,X(n)}}}const zt="collapsed";function Sn(i){let t=sessionStorage.getItem(zt)==="true",n=!1;const s=(r=null)=>{const u=p=>{const d=document.querySelector(".mt-contentWrapper");p?d.classList.add("collapsed"):d.classList.remove("collapsed")};u(r!==null?r:t)},o=()=>{t=!t,sessionStorage.setItem(zt,t.toString()),s(t)},l=()=>{n=!0,t?(s(!1),setTimeout(()=>{n=!1},1e3)):n=!1},a=()=>{t&&!n&&s(!0)};return nt(()=>{var r,u;window.innerWidth<1e3&&(t=!0),s(),(r=document.querySelector(".mt-primaryNavigation"))===null||r===void 0||r.addEventListener("mouseover",l),(u=document.querySelector(".mt-primaryNavigation"))===null||u===void 0||u.addEventListener("mouseout",a)}),[o,l,a]}class kn extends je{constructor(e){super(),Ie(this,e,Sn,yn,Ee,{})}}function Tn(i){new kn({target:i})}function Dt(i,e,t){const n=i.slice();return n[17]=e[t],n}function Ut(i,e,t){const n=i.slice();return n[20]=e[t],n}function Mt(i){let e,t,n,s,o,l,a,r,u,p,d,g,h,m,b,A,y,k,w,v,N,F,O,I,j,D,x,me=window.trans("Content Data")+"",be,K,J,ee,we,B,R,le,ke,ve;N=new ge({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});function Z(E,P){return E[2].length>0?An:Cn}let te=Z(i),V=te(i),ae=re(i[10].slice(1)),H=[];for(let E=0;E<ae.length;E+=1)H[E]=Pt(Dt(i,ae,E));return le=Tt(i[14][0]),{c(){e=_("div"),t=S(),n=_("div"),s=_("div"),o=_("form"),l=_("input"),a=S(),r=_("input"),p=S(),d=_("input"),g=S(),h=_("input"),m=S(),b=_("input"),A=S(),y=_("div"),k=_("input"),w=S(),v=_("button"),pe(N.$$.fragment),F=S(),O=_("div"),I=_("label"),j=_("input"),x=S(),be=W(me),K=S(),J=_("select"),V.c(),we=S(),B=_("div");for(let E=0;E<H.length;E+=1)H[E].c();c(e,"class","search-button-modal-overlay svelte-wja7gp"),c(l,"type","hidden"),c(l,"name","__mode"),l.value="search_replace",c(r,"type","hidden"),c(r,"name","blog_id"),r.value=u=i[6]!=="blog"?i[0]:"0",c(d,"type","hidden"),c(d,"name","_type"),c(h,"type","hidden"),c(h,"name","do_search"),h.value="1",c(b,"type","hidden"),c(b,"name","magic_token"),b.value=i[1],c(k,"type","text"),c(k,"placeholder",window.trans("Select target and search text")),c(k,"name","search"),c(k,"class","svelte-wja7gp"),c(v,"type","submit"),c(v,"class","svelte-wja7gp"),c(y,"class","search-text-box svelte-wja7gp"),c(j,"type","radio"),c(j,"name","type"),j.__value="content_data",se(j,j.__value),c(j,"id","content_data"),j.disabled=D=i[2].length===0,c(j,"class","svelte-wja7gp"),c(J,"name","content_type_id"),J.disabled=ee=i[6]!=="content_data"||i[2].length===0,c(J,"class","svelte-wja7gp"),Et(J,"disabled",i[6]!=="content_data"),c(I,"class","svelte-wja7gp"),c(O,"class","search-type svelte-wja7gp"),c(B,"class","search-type svelte-wja7gp"),c(o,"class","search-form svelte-wja7gp"),c(o,"method","post"),c(o,"action",window.ScriptURI),c(s,"class","modal-body svelte-wja7gp"),c(n,"class","modal search-button-modal svelte-wja7gp"),le.p(j)},m(E,P){C(E,e,P),C(E,t,P),C(E,n,P),f(n,s),f(s,o),f(o,l),f(o,a),f(o,r),f(o,p),f(o,d),se(d,i[6]),f(o,g),f(o,h),f(o,m),f(o,b),f(o,A),f(o,y),f(y,k),f(y,w),f(y,v),ue(N,v,null),f(o,F),f(o,O),f(O,I),f(I,j),j.checked=j.__value===i[6],f(I,x),f(I,be),f(I,K),f(I,J),V.m(J,null),f(o,we),f(o,B);for(let U=0;U<H.length;U+=1)H[U]&&H[U].m(B,null);i[16](n),R=!0,ke||(ve=[L(e,"click",i[8]),Le(Ge.call(null,e,"body")),L(d,"input",i[12]),L(j,"change",i[13]),Le(Ge.call(null,n,"body"))],ke=!0)},p(E,P){if((!R||P&65&&u!==(u=E[6]!=="blog"?E[0]:"0"))&&(r.value=u),P&64&&se(d,E[6]),(!R||P&2)&&(b.value=E[1]),(!R||P&4&&D!==(D=E[2].length===0))&&(j.disabled=D),P&64&&(j.checked=j.__value===E[6]),te===(te=Z(E))&&V?V.p(E,P):(V.d(1),V=te(E),V&&(V.c(),V.m(J,null))),(!R||P&68&&ee!==(ee=E[6]!=="content_data"||E[2].length===0))&&(J.disabled=ee),(!R||P&64)&&Et(J,"disabled",E[6]!=="content_data"),P&1088){ae=re(E[10].slice(1));let U;for(U=0;U<ae.length;U+=1){const ce=Dt(E,ae,U);H[U]?H[U].p(ce,P):(H[U]=Pt(ce),H[U].c(),H[U].m(B,null))}for(;U<H.length;U+=1)H[U].d(1);H.length=ae.length}},i(E){R||(M(N.$$.fragment,E),R=!0)},o(E){G(N.$$.fragment,E),R=!1},d(E){E&&(T(e),T(t),T(n)),fe(N),V.d(),ze(H,E),i[16](null),le.r(),ke=!1,X(ve)}}}function Cn(i){let e;return{c(){e=_("option"),e.textContent=`${window.trans("No Content Type could be found.")}`,e.__value="",se(e,e.__value)},m(t,n){C(t,e,n)},p:q,d(t){t&&T(e)}}}function An(i){let e,t=re(i[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ht(Ut(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ye()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);C(s,e,o)},p(s,o){if(o&4){t=re(s[2]);let l;for(l=0;l<t.length;l+=1){const a=Ut(s,t,l);n[l]?n[l].p(a,o):(n[l]=Ht(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&T(e),ze(n,s)}}}function Ht(i){let e,t=i[20].name+"",n,s;return{c(){e=_("option"),n=W(t),e.__value=s=i[20].id,se(e,e.__value)},m(o,l){C(o,e,l),f(e,n)},p(o,l){l&4&&t!==(t=o[20].name+"")&&Y(n,t),l&4&&s!==(s=o[20].id)&&(e.__value=s,se(e,e.__value))},d(o){o&&T(e)}}}function Pt(i){let e,t,n,s=i[17].label+"",o,l,a,r,u;return a=Tt(i[14][0]),{c(){e=_("label"),t=_("input"),n=S(),o=W(s),l=S(),c(t,"type","radio"),c(t,"name","type"),t.__value=i[17].value,se(t,t.__value),c(t,"id",i[17].value),c(t,"class","svelte-wja7gp"),c(e,"class","svelte-wja7gp"),a.p(t)},m(p,d){C(p,e,d),f(e,t),t.checked=t.__value===i[6],f(e,n),f(e,o),f(e,l),r||(u=L(t,"change",i[15]),r=!0)},p(p,d){d&64&&(t.checked=t.__value===p[6])},d(p){p&&T(e),a.r(),r=!1,u()}}}function En(i){let e,t,n,s,o=window.trans("Search")+"",l,a,r,u,p,d;n=new ge({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});let g=i[3]&&Mt(i);return{c(){e=S(),t=_("a"),pe(n.$$.fragment),s=S(),l=W(o),a=S(),g&&g.c(),r=ye(),c(t,"href","#"),c(t,"class","action mt-actionSearch")},m(h,m){C(h,e,m),C(h,t,m),ue(n,t,null),f(t,s),f(t,l),i[11](t),C(h,a,m),g&&g.m(h,m),C(h,r,m),u=!0,p||(d=[L(document.body,"click",i[9]),L(t,"click",i[7])],p=!0)},p(h,[m]){h[3]?g?(g.p(h,m),m&8&&M(g,1)):(g=Mt(h),g.c(),M(g,1),g.m(r.parentNode,r)):g&&(He(),G(g,1,1,()=>{g=null}),Pe())},i(h){u||(M(n.$$.fragment,h),M(g),u=!0)},o(h){G(n.$$.fragment,h),G(g),u=!1},d(h){h&&(T(e),T(t),T(a),T(r)),fe(n),i[11](null),g&&g.d(h),p=!1,X(d)}}}function Nn(i,e,t){let{blogId:n}=e,{magicToken:s}=e,{contentTypes:o=[]}=e,l=!1;const a=()=>{t(3,l=!0)},r=()=>{t(3,l=!1)};let u=null,p=null;const d=v=>{const N=v.target;l&&lt([u,p],N)&&r()},g=[{value:"content_data",label:window.trans("Content Data")},{value:"entry",label:window.trans("Entry")},{value:"comment",label:window.trans("Comment")},{value:"page",label:window.trans("Page")},{value:"template",label:window.trans("Template")},{value:"asset",label:window.trans("Asset")},{value:"log",label:window.trans("Log")},{value:"blog",label:window.trans("Child Site")}];let h="entry";nt(async()=>{o.length>0&&t(6,h="content_data")});const m=[[]];function b(v){oe[v?"unshift":"push"](()=>{u=v,t(4,u)})}function A(){h=this.value,t(6,h)}function y(){h=this.__value,t(6,h)}function k(){h=this.__value,t(6,h)}function w(v){oe[v?"unshift":"push"](()=>{p=v,t(5,p)})}return i.$$set=v=>{"blogId"in v&&t(0,n=v.blogId),"magicToken"in v&&t(1,s=v.magicToken),"contentTypes"in v&&t(2,o=v.contentTypes)},[n,s,o,l,u,p,h,a,r,d,g,b,A,y,m,k,w]}class On extends je{constructor(e){super(),Ie(this,e,Nn,En,Ee,{blogId:0,magicToken:1,contentTypes:2})}}function Rn(i,e){new On({target:i,props:e})}const In=new wt,Gt=new _t({cache:In}),jn=async i=>{const e={__mode:"filtered_list",blog_id:"0",columns:"name,site_url,parent_website",datasource:"website",items:JSON.stringify(i.items),limit:i.limit,magic_token:i.magicToken,page:i.page,sort_by:"id",sort_order:"descend"};return await Gt.fetchWithCache({key:Gt.generateCacheKey({prefix:"sites",params:e}),fetcher:async()=>{const t=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:e,dataType:"json"});if(t.error)return console.log("Failed to fetch sites:",t.error),{count:0,page:0,pageMax:0,sites:[],error:t.error};const n=t.result.objects.map(s=>{const o=s[1].replace(/<span[^>]*>.*?<\/span>\s*<a[^>]*>([^<]+)<\/a>/,"$1").trim();return{id:s[0],name:o,siteUrl:s[2],parentSiteName:s[3]}});return{count:Number.parseInt(t.result.count),page:Number.parseInt(t.result.page),pageMax:Number.parseInt(t.result.page_max),sites:n}}})},{document:Fn}=sn;function Bt(i,e,t){const n=i.slice();return n[32]=e[t],n}function Vt(i){let e,t,n,s,o,l,a,r=window.trans("[_1]Site",i[2].toString())+"",u,p,d,g,h,m,b,A,y,k,w,v,N,F,O,I,j,D,x,me,be,K,J,ee,we,B,R,le,ke,ve,Z,te,V,ae,H,E,P,U,ce,rt,Be,he,at,Te,Ye,Ce,Ve,ct,qe,ut,We,$,ne,ie,xe,ft;ce=new ge({props:{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/sprite.svg#ic_search`}});const ht=[Ln,Wn],de=[];function dt(z,Q){return z[7]?0:1}return $=dt(i),ne=de[$]=ht[$](i),{c(){e=_("div"),t=_("div"),n=_("div"),s=_("div"),o=_("div"),l=_("span"),a=W("("),u=W(r),p=W(")"),d=S(),g=_("p"),g.textContent=`${window.trans("Site List")}`,h=S(),m=_("div"),b=_("div"),A=_("button"),y=W("<<"),w=S(),v=_("button"),N=W("<"),O=S(),I=_("span"),j=_("span"),D=W(i[3]),x=W("/"),me=W(i[4]),be=S(),K=_("button"),J=W(">"),we=S(),B=_("button"),R=W(">>"),ke=S(),ve=_("div"),Z=_("select"),te=_("option"),te.textContent=`${window.trans("All Sites")}`,V=_("option"),V.textContent=`${window.trans("Only to child sites within this system")}`,ae=S(),H=_("div"),E=_("input"),P=S(),U=_("button"),pe(ce.$$.fragment),rt=S(),Be=_("div"),he=_("button"),he.innerHTML='<span aria-hidden="true" class="svelte-1wx7n1g">\xD7</span>',at=S(),Te=_("table"),Ye=_("thead"),Ce=_("tr"),Ve=_("th"),Ve.textContent=`${window.trans("Site Name")}`,ct=S(),qe=_("th"),qe.textContent=`${window.trans("Parent Site")}`,ut=S(),We=_("tbody"),ne.c(),c(l,"class","svelte-1wx7n1g"),c(g,"class","svelte-1wx7n1g"),c(o,"class","table-title svelte-1wx7n1g"),c(A,"type","button"),A.disabled=k=i[3]===1,c(A,"class","svelte-1wx7n1g"),c(v,"type","button"),v.disabled=F=i[3]===1,c(v,"class","svelte-1wx7n1g"),c(j,"class","current svelte-1wx7n1g"),c(I,"class","page-num svelte-1wx7n1g"),c(K,"type","button"),K.disabled=ee=i[3]===i[4],c(K,"class","svelte-1wx7n1g"),c(B,"type","button"),B.disabled=le=i[3]===i[4],c(B,"class","svelte-1wx7n1g"),c(b,"class","prev-next svelte-1wx7n1g"),te.__value="",se(te,te.__value),V.__value="blog",se(V,V.__value),c(Z,"class","svelte-1wx7n1g"),i[5]===void 0&&Qe(()=>i[25].call(Z)),c(ve,"class","site-type-filter svelte-1wx7n1g"),c(E,"type","text"),c(E,"placeholder",window.trans("Filter by site name")),c(E,"class","svelte-1wx7n1g"),c(U,"class","svelte-1wx7n1g"),c(H,"class","site-name-filter svelte-1wx7n1g"),c(he,"type","button"),c(he,"class","close svelte-1wx7n1g"),c(he,"data-dismiss","modal"),c(he,"aria-label","Close"),c(Be,"class","close svelte-1wx7n1g"),c(m,"class","table-control svelte-1wx7n1g"),c(s,"class","site-list-table-header svelte-1wx7n1g"),c(Ve,"class","svelte-1wx7n1g"),c(qe,"class","svelte-1wx7n1g"),c(Ce,"class","svelte-1wx7n1g"),c(We,"class","svelte-1wx7n1g"),c(Te,"class","svelte-1wx7n1g"),c(n,"class","site-list-table svelte-1wx7n1g"),c(t,"class","modal-body svelte-1wx7n1g"),c(e,"class","modal site-list-button-modal svelte-1wx7n1g")},m(z,Q){C(z,e,Q),f(e,t),f(t,n),f(n,s),f(s,o),f(o,l),f(l,a),f(l,u),f(l,p),f(o,d),f(o,g),f(s,h),f(s,m),f(m,b),f(b,A),f(A,y),f(b,w),f(b,v),f(v,N),f(b,O),f(b,I),f(I,j),f(j,D),f(I,x),f(I,me),f(b,be),f(b,K),f(K,J),f(b,we),f(b,B),f(B,R),f(m,ke),f(m,ve),f(ve,Z),f(Z,te),f(Z,V),At(Z,i[5],!0),f(m,ae),f(m,H),f(H,E),se(E,i[6]),f(H,P),f(H,U),ue(ce,U,null),f(m,rt),f(m,Be),f(Be,he),f(n,at),f(n,Te),f(Te,Ye),f(Ye,Ce),f(Ce,Ve),f(Ce,ct),f(Ce,qe),f(Te,ut),f(Te,We),de[$].m(We,null),i[28](e),ie=!0,xe||(ft=[L(A,"click",i[15]),L(A,"keydown",i[21]),L(v,"click",i[14]),L(v,"keydown",i[22]),L(K,"click",i[12]),L(K,"keydown",i[23]),L(B,"click",i[13]),L(B,"keydown",i[24]),L(Z,"change",i[25]),L(Z,"change",i[16]),L(E,"input",i[26]),L(E,"keydown",i[27]),L(U,"click",i[16]),L(he,"click",i[11]),Le(Ge.call(null,e,"body"))],xe=!0)},p(z,Q){(!ie||Q[0]&4)&&r!==(r=window.trans("[_1]Site",z[2].toString())+"")&&Y(u,r),(!ie||Q[0]&8&&k!==(k=z[3]===1))&&(A.disabled=k),(!ie||Q[0]&8&&F!==(F=z[3]===1))&&(v.disabled=F),(!ie||Q[0]&8)&&Y(D,z[3]),(!ie||Q[0]&16)&&Y(me,z[4]),(!ie||Q[0]&24&&ee!==(ee=z[3]===z[4]))&&(K.disabled=ee),(!ie||Q[0]&24&&le!==(le=z[3]===z[4]))&&(B.disabled=le),Q[0]&32&&At(Z,z[5]),Q[0]&64&&E.value!==z[6]&&se(E,z[6]);let $e=$;$=dt(z),$===$e?de[$].p(z,Q):(He(),G(de[$e],1,1,()=>{de[$e]=null}),Pe(),ne=de[$],ne?ne.p(z,Q):(ne=de[$]=ht[$](z),ne.c()),M(ne,1),ne.m(We,null))},i(z){ie||(M(ce.$$.fragment,z),M(ne),ie=!0)},o(z){G(ce.$$.fragment,z),G(ne),ie=!1},d(z){z&&T(e),fe(ce),de[$].d(),i[28](null),xe=!1,X(ft)}}}function Wn(i){let e,t,n=re(i[1]),s=[];for(let l=0;l<n.length;l+=1)s[l]=qt(Bt(i,n,l));const o=l=>G(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,a);C(l,e,a),t=!0},p(l,a){if(a[0]&2){n=re(l[1]);let r;for(r=0;r<n.length;r+=1){const u=Bt(l,n,r);s[r]?(s[r].p(u,a),M(s[r],1)):(s[r]=qt(u),s[r].c(),M(s[r],1),s[r].m(e.parentNode,e))}for(He(),r=n.length;r<s.length;r+=1)o(r);Pe()}},i(l){if(!t){for(let a=0;a<n.length;a+=1)M(s[a]);t=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(l){l&&T(e),ze(s,l)}}}function Ln(i){let e,t;return{c(){e=_("tr"),t=_("td"),t.textContent=`${window.trans("Loading...")}`,c(t,"colspan","2"),c(t,"class","loading svelte-1wx7n1g"),c(e,"class","svelte-1wx7n1g")},m(n,s){C(n,e,s),f(e,t)},p:q,i:q,o:q,d(n){n&&T(e)}}}function zn(i){let e;return{c(){e=_("span"),e.textContent="-",c(e,"class","text-center")},m(t,n){C(t,e,n)},p:q,d(t){t&&T(e)}}}function Dn(i){let e=i[32].parentSiteName+"",t;return{c(){t=W(e)},m(n,s){C(n,t,s)},p(n,s){s[0]&2&&e!==(e=n[32].parentSiteName+"")&&Y(t,e)},d(n){n&&T(t)}}}function qt(i){let e,t,n,s,o=i[32].name+"",l,a,r,u,p,d,g,h,m,b;s=new ge({props:{title:window.trans("Site"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_sites`}}),p=new ge({props:{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/sprite.svg#ic_permalink`}});function A(w,v){return w[32].parentSiteName?Dn:zn}let y=A(i),k=y(i);return{c(){e=_("tr"),t=_("td"),n=_("a"),pe(s.$$.fragment),l=W(o),r=S(),u=_("a"),pe(p.$$.fragment),g=S(),h=_("td"),k.c(),m=S(),c(n,"href",a=`${window.ScriptURI}?__mode=dashboard&blog_id=${i[32].id}`),c(n,"class","dashboard-link svelte-1wx7n1g"),c(u,"href",d=i[32].siteUrl),c(u,"class","site-link svelte-1wx7n1g"),c(u,"target","_blank"),c(t,"class","svelte-1wx7n1g"),c(h,"class","svelte-1wx7n1g"),c(e,"class","svelte-1wx7n1g")},m(w,v){C(w,e,v),f(e,t),f(t,n),ue(s,n,null),f(n,l),f(t,r),f(t,u),ue(p,u,null),f(e,g),f(e,h),k.m(h,null),f(e,m),b=!0},p(w,v){(!b||v[0]&2)&&o!==(o=w[32].name+"")&&Y(l,o),(!b||v[0]&2&&a!==(a=`${window.ScriptURI}?__mode=dashboard&blog_id=${w[32].id}`))&&c(n,"href",a),(!b||v[0]&2&&d!==(d=w[32].siteUrl))&&c(u,"href",d),y===(y=A(w))&&k?k.p(w,v):(k.d(1),k=y(w),k&&(k.c(),k.m(h,null)))},i(w){b||(M(s.$$.fragment,w),M(p.$$.fragment,w),b=!0)},o(w){G(s.$$.fragment,w),G(p.$$.fragment,w),b=!1},d(w){w&&T(e),fe(s),fe(p),k.d()}}}function Un(i){let e,t,n,s,o,l=window.trans("Site")+"",a,r,u,p,d,g,h=i[0]&&Vt(i);return{c(){e=S(),t=_("a"),n=De("svg"),s=De("path"),o=S(),a=W(l),r=S(),h&&h.c(),u=ye(),c(s,"d","M11.75 16.25V14H8.75V6.5H7.25V8.75H2V2.75H7.25V5H11.75V2.75H17V8.75H11.75V6.5H10.25V12.5H11.75V10.25H17V16.25H11.75Z"),c(s,"fill","#212529"),c(n,"width","20"),c(n,"height","19"),c(n,"viewBox","0 0 20 19"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(n,"role","img"),c(n,"class","mt-icon"),c(t,"href","#"),c(t,"class","action mt-actionSite")},m(m,b){C(m,e,b),C(m,t,b),f(t,n),f(n,s),f(t,o),f(t,a),i[20](t),C(m,r,b),h&&h.m(m,b),C(m,u,b),p=!0,d||(g=[L(Fn.body,"click",i[17]),L(t,"click",i[10])],d=!0)},p(m,b){m[0]?h?(h.p(m,b),b[0]&1&&M(h,1)):(h=Vt(m),h.c(),M(h,1),h.m(u.parentNode,u)):h&&(He(),G(h,1,1,()=>{h=null}),Pe())},i(m){p||(M(h),p=!0)},o(m){G(h),p=!1},d(m){m&&(T(e),T(t),T(r),T(u)),i[20](null),h&&h.d(m),d=!1,X(g)}}}function Mn(i,e,t){let{magicToken:n}=e,{limit:s=50}=e,o=!1,l;const a=()=>{t(0,o=!0),l=document.body.style.overflow,document.body.style.overflow="hidden"},r=()=>{t(0,o=!1),document.body.style.overflow=l};let u=[],p=0,d=1,g=1,h="",m="",b=[],A=!1,y=null,k=null;const w=()=>{t(3,d++,d),I()},v=()=>{t(3,d=g),I()},N=()=>{t(3,d--,d),I()},F=()=>{t(3,d=1),I()},O=()=>{b=[],h==="blog"&&(b=[{type:"parent_website",args:{value:""}}]),t(6,m=m.trim()),m!==""&&b.push({type:"name",args:{string:m,option:"contains"}}),t(3,d=1),I()},I=async()=>{t(7,A=!0);const R=await jn({magicToken:n,items:b,page:d,limit:s});t(2,p=R.count),t(4,g=R.pageMax),t(3,d=R.page),t(1,u=R.sites),t(7,A=!1)},j=R=>{const le=R.target;o&&lt([y,k],le)&&r()};nt(async()=>{I()});function D(R){oe[R?"unshift":"push"](()=>{y=R,t(8,y)})}const x=R=>R.key==="Enter"&&F(),me=R=>R.key==="Enter"&&N(),be=R=>R.key==="Enter"&&w(),K=R=>R.key==="Enter"&&v();function J(){h=on(this),t(5,h)}function ee(){m=this.value,t(6,m)}const we=R=>R.key==="Enter"&&O();function B(R){oe[R?"unshift":"push"](()=>{k=R,t(9,k)})}return i.$$set=R=>{"magicToken"in R&&t(18,n=R.magicToken),"limit"in R&&t(19,s=R.limit)},[o,u,p,d,g,h,m,A,y,k,a,r,w,v,N,F,O,j,n,s,D,x,me,be,K,J,ee,we,B]}class Hn extends je{constructor(e){super(),Ie(this,e,Mn,Un,Ee,{magicToken:18,limit:19},null,[-1,-1])}}function Pn(i,e){new Hn({target:i,props:e})}function Jt(i,e,t){const n=i.slice();return n[16]=e[t],n}function Kt(i){let e,t,n,s,o,l,a,r,u,p,d,g=window.trans("Dashboard")+"",h,m,b,A,y,k;u=new ge({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_home`,title:window.trans("Dashboard")}});function w(O,I){return O[1]==="system"?Bn:Gn}let v=w(i),N=v(i),F=i[0].length>0&&Zt(i);return{c(){e=_("div"),t=_("div"),n=_("button"),n.innerHTML='<span aria-hidden="true" class="svelte-7jpfgw">\xD7</span>',s=S(),o=_("div"),l=_("ul"),a=_("li"),r=_("span"),pe(u.$$.fragment),p=S(),d=_("a"),h=W(g),m=S(),N.c(),b=S(),F&&F.c(),c(n,"type","button"),c(n,"class","close svelte-7jpfgw"),c(n,"data-dismiss","modal"),c(n,"aria-label","Close"),c(t,"class","modal-header svelte-7jpfgw"),c(r,"class","mt-icon"),c(d,"href",window.ScriptURI+"?__mode=dashboard"),c(d,"title",window.trans("Dashboard")),c(d,"class","svelte-7jpfgw"),c(a,"class","breadcrumb-list-item svelte-7jpfgw"),c(l,"class","breadcrumb-list svelte-7jpfgw"),c(o,"class","modal-body svelte-7jpfgw"),c(e,"class","modal breadcrumbs-modal svelte-7jpfgw"),Ct(e,"--modal-left",i[11]+"px")},m(O,I){C(O,e,I),f(e,t),f(t,n),f(e,s),f(e,o),f(o,l),f(l,a),f(a,r),ue(u,r,null),f(a,p),f(a,d),f(d,h),f(l,m),N.m(l,null),f(l,b),F&&F.m(l,null),i[15](e),A=!0,y||(k=[L(n,"click",i[13]),Le(Ge.call(null,e,"body"))],y=!0)},p(O,I){v===(v=w(O))&&N?N.p(O,I):(N.d(1),N=v(O),N&&(N.c(),N.m(l,b))),O[0].length>0?F?F.p(O,I):(F=Zt(O),F.c(),F.m(l,null)):F&&(F.d(1),F=null),(!A||I&2048)&&Ct(e,"--modal-left",O[11]+"px")},i(O){A||(M(u.$$.fragment,O),A=!0)},o(O){G(u.$$.fragment,O),A=!1},d(O){O&&T(e),fe(u),N.d(),F&&F.d(),i[15](null),y=!1,X(k)}}}function Gn(i){let e,t,n,s,o,l,a,r=i[1]==="blog"&&Qt(i);return{c(){r&&r.c(),e=S(),t=_("li"),n=_("span"),n.textContent="\xA0",s=S(),o=_("a"),l=W(i[7]),c(n,"class","mt-icon icon-circle svelte-7jpfgw"),c(o,"href",a=window.ScriptURI+"?__mode=dashboard&blog_id="+i[6]),c(o,"class","svelte-7jpfgw"),c(t,"class","breadcrumb-list-item svelte-7jpfgw")},m(u,p){r&&r.m(u,p),C(u,e,p),C(u,t,p),f(t,n),f(t,s),f(t,o),f(o,l)},p(u,p){u[1]==="blog"?r?r.p(u,p):(r=Qt(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),p&128&&Y(l,u[7]),p&64&&a!==(a=window.ScriptURI+"?__mode=dashboard&blog_id="+u[6])&&c(o,"href",a)},d(u){u&&(T(e),T(t)),r&&r.d(u)}}}function Bn(i){let e,t,n;function s(a,r){return a[2]?Kn:Jn}let o=s(i),l=o(i);return{c(){e=_("li"),t=_("span"),t.textContent="\xA0",n=S(),l.c(),c(t,"class","mt-icon icon-circle svelte-7jpfgw"),c(e,"class","breadcrumb-list-item svelte-7jpfgw")},m(a,r){C(a,e,r),f(e,t),f(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&T(e),l.d()}}}function Qt(i){let e,t,n;function s(a,r){return a[3]?qn:Vn}let o=s(i),l=o(i);return{c(){e=_("li"),t=_("span"),t.textContent="\xA0",n=S(),l.c(),c(t,"class","mt-icon icon-circle svelte-7jpfgw"),c(e,"class","breadcrumb-list-item svelte-7jpfgw")},m(a,r){C(a,e,r),f(e,t),f(e,n),l.m(e,null)},p(a,r){o===(o=s(a))&&l?l.p(a,r):(l.d(1),l=o(a),l&&(l.c(),l.m(e,null)))},d(a){a&&T(e),l.d()}}}function Vn(i){let e;return{c(){e=W(i[5])},m(t,n){C(t,e,n)},p(t,n){n&32&&Y(e,t[5])},d(t){t&&T(e)}}}function qn(i){let e,t,n;return{c(){e=_("a"),t=W(i[5]),c(e,"href",n=window.ScriptURI+"?__mode=dashboard&blog_id="+i[4]),c(e,"class","svelte-7jpfgw")},m(s,o){C(s,e,o),f(e,t)},p(s,o){o&32&&Y(t,s[5]),o&16&&n!==(n=window.ScriptURI+"?__mode=dashboard&blog_id="+s[4])&&c(e,"href",n)},d(s){s&&T(e)}}}function Jn(i){let e=window.trans("System")+"",t;return{c(){t=W(e)},m(n,s){C(n,t,s)},p:q,d(n){n&&T(t)}}}function Kn(i){let e,t=window.trans("System")+"",n;return{c(){e=_("a"),n=W(t),c(e,"href",window.ScriptURI+"?__mode=dashboard&blog_id=0"),c(e,"class","svelte-7jpfgw")},m(s,o){C(s,e,o),f(e,n)},p:q,d(s){s&&T(e)}}}function Zt(i){let e,t=re(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=xt(Jt(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ye()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);C(s,e,o)},p(s,o){if(o&1){t=re(s[0]);let l;for(l=0;l<t.length;l+=1){const a=Jt(s,t,l);n[l]?n[l].p(a,o):(n[l]=xt(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&T(e),ze(n,s)}}}function Xt(i){let e,t=i[16].bc_name+"",n,s;return{c(){e=_("a"),n=W(t),c(e,"href",s=i[16].bc_uri),c(e,"class","mt-breadcrumb__item svelte-7jpfgw")},m(o,l){C(o,e,l),f(e,n)},p(o,l){l&1&&t!==(t=o[16].bc_name+"")&&Y(n,t),l&1&&s!==(s=o[16].bc_uri)&&c(e,"href",s)},d(o){o&&T(e)}}}function Yt(i){let e,t=i[16].bc_name+"",n;return{c(){e=_("span"),n=W(t),c(e,"class","current svelte-7jpfgw")},m(s,o){C(s,e,o),f(e,n)},p(s,o){o&1&&t!==(t=s[16].bc_name+"")&&Y(n,t)},d(s){s&&T(e)}}}function xt(i){let e,t,n,s,o,l,a=i[16].bc_uri!==null&&Xt(i),r=i[16].is_last&&Yt(i);return{c(){e=S(),t=_("li"),n=_("span"),n.textContent="\xA0",s=S(),a&&a.c(),o=S(),r&&r.c(),l=S(),c(n,"class","mt-icon icon-circle svelte-7jpfgw"),c(t,"class","breadcrumb-list-item svelte-7jpfgw")},m(u,p){C(u,e,p),C(u,t,p),f(t,n),f(t,s),a&&a.m(t,null),f(t,o),r&&r.m(t,null),f(t,l)},p(u,p){u[16].bc_uri!==null?a?a.p(u,p):(a=Xt(u),a.c(),a.m(t,o)):a&&(a.d(1),a=null),u[16].is_last?r?r.p(u,p):(r=Yt(u),r.c(),r.m(t,l)):r&&(r.d(1),r=null)},d(u){u&&(T(e),T(t)),a&&a.d(),r&&r.d()}}}function Qn(i){let e,t,n,s,o,l,a,r;n=new ge({props:{class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_menu`,title:window.trans("menu")}});let u=i[10]&&Kt(i);return{c(){e=_("span"),t=_("button"),pe(n.$$.fragment),s=S(),u&&u.c(),o=ye(),c(t,"type","button"),c(t,"class","mt-breadcrumb-button svelte-7jpfgw"),c(e,"class","mt-breadcrumb-button-wrapper")},m(p,d){C(p,e,d),f(e,t),ue(n,t,null),i[14](t),C(p,s,d),u&&u.m(p,d),C(p,o,d),l=!0,a||(r=L(t,"click",i[12]),a=!0)},p(p,[d]){p[10]?u?(u.p(p,d),d&1024&&M(u,1)):(u=Kt(p),u.c(),M(u,1),u.m(o.parentNode,o)):u&&(He(),G(u,1,1,()=>{u=null}),Pe())},i(p){l||(M(n.$$.fragment,p),M(u),l=!0)},o(p){G(n.$$.fragment,p),G(u),l=!1},d(p){p&&(T(e),T(s),T(o)),fe(n),i[14](null),u&&u.d(p),a=!1,r()}}}function Zn(i,e,t){let{breadcrumbs:n=[]}=e,{scopeType:s=""}=e,{canAccessToSystemDashboard:o=!1}=e,{canCurrentWebSiteLink:l=!1}=e,{currentWebsiteID:a=""}=e,{currentWebsiteName:r=""}=e,{blogID:u=""}=e,{blogName:p=""}=e,d=!1;const g=()=>{t(10,d=!0)},h=()=>{t(10,d=!1)};let m=null,b=null,A=0;console.table(n);function y(w){oe[w?"unshift":"push"](()=>{m=w,t(8,m)})}function k(w){oe[w?"unshift":"push"](()=>{b=w,t(9,b)})}return i.$$set=w=>{"breadcrumbs"in w&&t(0,n=w.breadcrumbs),"scopeType"in w&&t(1,s=w.scopeType),"canAccessToSystemDashboard"in w&&t(2,o=w.canAccessToSystemDashboard),"canCurrentWebSiteLink"in w&&t(3,l=w.canCurrentWebSiteLink),"currentWebsiteID"in w&&t(4,a=w.currentWebsiteID),"currentWebsiteName"in w&&t(5,r=w.currentWebsiteName),"blogID"in w&&t(6,u=w.blogID),"blogName"in w&&t(7,p=w.blogName)},i.$$.update=()=>{if(i.$$.dirty&768&&m&&b){const w=m.getBoundingClientRect();t(11,A=w.left+(w.width-b.offsetWidth)/2)}},[n,s,o,l,a,r,u,p,m,b,d,A,g,h,y,k]}class Xn extends je{constructor(e){super(),Ie(this,e,Zn,Qn,Ee,{breadcrumbs:0,scopeType:1,canAccessToSystemDashboard:2,canCurrentWebSiteLink:3,currentWebsiteID:4,currentWebsiteName:5,blogID:6,blogName:7})}}const Yn=({target:i})=>{const e=i.getAttribute("data-breadcrumbs"),t=i.getAttribute("data-scope-type"),n=i.getAttribute("data-can-access-to-system-dashboard"),s=i.getAttribute("data-curr-website-can-link"),o=i.getAttribute("data-curr-website-id"),l=i.getAttribute("data-curr-website-name"),a=i.getAttribute("data-blog-id"),r=i.getAttribute("data-blog-name"),u={breadcrumbs:e?JSON.parse(e):[],scopeType:t||"",canAccessToSystemDashboard:n==="1",canCurrentWebsiteLink:s==="1",currentWebsiteID:o||"",currentWebsiteName:l||"",blogID:a||"",blogName:r||""};new Xn({target:i,props:u})},Xe=i=>document.querySelector(i)||null;document.addEventListener("DOMContentLoaded",()=>{var i,e;const t=document.querySelector('[data-is="primary-navigation-toggle"]');t!==null&&Tn(t);const n=Xe('[data-is="breadcrumbs"]');n!==null&&Yn({target:n});const s=document.querySelector('[data-script="admin-header"]'),o=(i=s.getAttribute("data-blog-id"))!==null&&i!==void 0?i:"",l=(e=s.getAttribute("data-magic-token"))!==null&&e!==void 0?e:"";if(l===""){console.error("data-magic-token is not set");return}const a=s.getAttribute("data-blog-id")||"50",r=Xe('[data-is="site-list-button"]');r!==null&&Pn(r,{magicToken:l,limit:Number.parseInt(a)});const u=Xe('[data-is="create-button"]'),p=Xe('[data-is="search-button"]');if(u!==null||p!==null){if(o===""){console.error("data-blog-id is not set");return}tn({blogId:o,magicToken:l,page:1,limit:Number.parseInt(a)}).then(d=>{u!==null&&vn({target:u,props:{blog_id:o,contentTypes:d.contentTypes}}),p!==null&&Rn(p,{blogId:o,magicToken:l,contentTypes:d.contentTypes})})}});
