function Ea(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bn={exports:{}},Dr;function Ta(){return Dr||(Dr=1,(function(e,t){(function(n,i){const r=Object.defineProperties,l=Object.entries,o=(m,b)=>(p,d)=>(m.has(p)?m.get(p).add(d):m.set(p,new Set().add(d)),b),s=(m,b,p,d)=>{if(d){const c=m.get(p);c&&(c.delete(d),c.size===0&&m.delete(p))}else m.delete(p)},u=(m,b)=>(p,d)=>(p==="*"&&!d?m.clear():s(m,b,p,d),b),f=(m,b)=>(p,d)=>{function c(..._){b.off(p,c),d.apply(b,_)}return b.on(p,c)},g=(m,b)=>(p,...d)=>{const c=m.get(p);return c&&c.forEach(_=>_.apply(b,d)),m.get("*")&&p!=="*"&&b.trigger("*",p,...d),b},v=function(m){const b=new Map,p={on:o,off:u,one:f,trigger:g};return m=m||{},r(m,l(p).reduce((d,[c,_])=>(d[c]={value:_(b,m),enumerable:!1,writable:!1,configurable:!1},d),{})),m};e.exports=v})()})(Bn)),Bn.exports}var $a=Ta(),Aa=Ea($a),Un=!1,Yn=Array.isArray,Pa=Array.prototype.indexOf,Lt=Array.prototype.includes,pn=Array.from,Rr=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,Ia=Object.getOwnPropertyDescriptors,Na=Object.prototype,Ma=Array.prototype,Fr=Object.getPrototypeOf,qr=Object.isExtensible;const at=()=>{};function La(e){for(var t=0;t<e.length;t++)e[t]()}function Vr(){var e,t,n=new Promise((i,a)=>{e=i,t=a});return{promise:n,resolve:e,reject:t}}const _e=2,gn=4,bn=8,Wn=1<<24,Je=16,qe=32,pt=64,zn=128,Ne=512,ce=1024,me=2048,Ve=4096,Te=8192,Xe=16384,Gn=32768,Ze=65536,jr=1<<17,Qr=1<<18,Dt=1<<19,Oa=1<<20,et=1<<25,gt=32768,Kn=1<<21,Jn=1<<22,lt=1<<23,bt=Symbol("$state"),Da=Symbol("legacy props"),Ra=Symbol(""),Rt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Hr(e){return e===this.v}function Br(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ur(e){return!Br(e,this.v)}function Fa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Va(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ja(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Qa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ha(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ba(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ya(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function za(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ga(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let Ka=!1;const Ja=1,Xa=2,Yr=4,Za=8,el=16,tl=1,nl=4,rl=8,il=16,al=1,ll=2,fe=Symbol(),ol="http://www.w3.org/1999/xhtml",sl="http://www.w3.org/2000/svg",ul="@attach";let $e=null;function Ft(e){$e=e}function W(e,t=!1,n){$e={p:$e,i:!1,c:null,e:null,s:e,x:null,l:null}}function z(e){var t=$e,n=t.e;if(n!==null){t.e=null;for(var i of n)Ti(i)}return t.i=!0,$e=t.p,{}}function Wr(){return!0}let wt=[];function zr(){var e=wt;wt=[],La(e)}function Ye(e){if(wt.length===0&&!Zt){var t=wt;queueMicrotask(()=>{t===wt&&zr()})}wt.push(e)}function dl(){for(;wt.length>0;)zr()}function cl(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function fl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function je(e){if(typeof e!="object"||e===null||bt in e)return e;const t=Fr(e);if(t!==Na&&t!==Ma)return e;var n=new Map,i=Yn(e),a=he(0),r=kt,l=o=>{if(kt===r)return o();var s=H,u=kt;Me(null),yi(r);var f=o();return Me(s),yi(u),f};return i&&n.set("length",he(e.length)),new Proxy(e,{defineProperty(o,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ya();var f=n.get(s);return f===void 0?f=l(()=>{var g=he(u.value);return n.set(s,g),g}):ee(f,u.value,!0),!0},deleteProperty(o,s){var u=n.get(s);if(u===void 0){if(s in o){const f=l(()=>he(fe));n.set(s,f),en(a)}}else ee(u,fe),en(a);return!0},get(o,s,u){if(s===bt)return e;var f=n.get(s),g=s in o;if(f===void 0&&(!g||Ot(o,s)?.writable)&&(f=l(()=>{var m=je(g?o[s]:fe),b=he(m);return b}),n.set(s,f)),f!==void 0){var v=h(f);return v===fe?void 0:v}return Reflect.get(o,s,u)},getOwnPropertyDescriptor(o,s){var u=Reflect.getOwnPropertyDescriptor(o,s);if(u&&"value"in u){var f=n.get(s);f&&(u.value=h(f))}else if(u===void 0){var g=n.get(s),v=g?.v;if(g!==void 0&&v!==fe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(o,s){if(s===bt)return!0;var u=n.get(s),f=u!==void 0&&u.v!==fe||Reflect.has(o,s);if(u!==void 0||U!==null&&(!f||Ot(o,s)?.writable)){u===void 0&&(u=l(()=>{var v=f?je(o[s]):fe,m=he(v);return m}),n.set(s,u));var g=h(u);if(g===fe)return!1}return f},set(o,s,u,f){var g=n.get(s),v=s in o;if(i&&s==="length")for(var m=u;m<g.v;m+=1){var b=n.get(m+"");b!==void 0?ee(b,fe):m in o&&(b=l(()=>he(fe)),n.set(m+"",b))}if(g===void 0)(!v||Ot(o,s)?.writable)&&(g=l(()=>he(void 0)),ee(g,je(u)),n.set(s,g));else{v=g.v!==fe;var p=l(()=>je(u));ee(g,p)}var d=Reflect.getOwnPropertyDescriptor(o,s);if(d?.set&&d.set.call(f,u),!v){if(i&&typeof s=="string"){var c=n.get("length"),_=Number(s);Number.isInteger(_)&&_>=c.v&&ee(c,_+1)}en(a)}return!0},ownKeys(o){h(a);var s=Reflect.ownKeys(o).filter(g=>{var v=n.get(g);return v===void 0||v.v!==fe});for(var[u,f]of n)f.v!==fe&&!(u in o)&&s.push(u);return s},setPrototypeOf(){Wa()}})}function Gr(e){try{if(e!==null&&typeof e=="object"&&bt in e)return e[bt]}catch{}return e}function vl(e,t){return Object.is(Gr(e),Gr(t))}var Kr,Jr,Xr,Zr;function _l(){if(Kr===void 0){Kr=window,Jr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Xr=Ot(t,"firstChild").get,Zr=Ot(t,"nextSibling").get,qr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qr(n)&&(n.__t=void 0)}}function We(e=""){return document.createTextNode(e)}function ze(e){return Xr.call(e)}function Xt(e){return Zr.call(e)}function T(e,t){return ze(e)}function D(e,t=!1){{var n=ze(e);return n instanceof Comment&&n.data===""?Xt(n):n}}function y(e,t=1,n=!1){let i=e;for(;t--;)i=Xt(i);return i}function ml(e){e.textContent=""}function ei(){return!1}function ti(e){var t=U;if(t===null)return H.f|=lt,e;if((t.f&Gn)===0){if((t.f&zn)===0)throw e;t.b.error(e)}else qt(e,t)}function qt(e,t){for(;t!==null;){if((t.f&zn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const hl=-7169;function ae(e,t){e.f=e.f&hl|t}function Xn(e){(e.f&Ne)!==0||e.deps===null?ae(e,ce):ae(e,Ve)}function ni(e){if(e!==null)for(const t of e)(t.f&_e)===0||(t.f&gt)===0||(t.f^=gt,ni(t.deps))}function ri(e,t,n){(e.f&me)!==0?t.add(e):(e.f&Ve)!==0&&n.add(e),ni(e.deps),ae(e,ce)}const wn=new Set;let B=null,yn=null,Qe=null,ke=[],xn=null,Zn=!1,Zt=!1;class vt{committed=!1;current=new Map;previous=new Map;#t=new Set;#o=new Set;#e=0;#a=0;#l=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#s=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var i of n.d)ae(i,me),He(i);for(i of n.m)ae(i,Ve),He(i)}}process(t){ke=[],this.apply();var n=[],i=[];for(const a of t)this.#u(a,n,i);if(this.is_deferred()){this.#d(i),this.#d(n);for(const[a,r]of this.#i)si(a,r)}else{for(const a of this.#t)a();this.#t.clear(),this.#e===0&&this.#c(),yn=this,B=null,ai(i),ai(n),yn=null,this.#l?.resolve()}Qe=null}#u(t,n,i){t.f^=ce;for(var a=t.first,r=null;a!==null;){var l=a.f,o=(l&(qe|pt))!==0,s=o&&(l&ce)!==0,u=s||(l&Te)!==0||this.#i.has(a);if(!u&&a.fn!==null){o?a.f^=ce:r!==null&&(l&(gn|bn|Wn))!==0?r.b.defer_effect(a):(l&gn)!==0?n.push(a):tn(a)&&((l&Je)!==0&&this.#n.add(a),nn(a));var f=a.first;if(f!==null){a=f;continue}}var g=a.parent;for(a=a.next;a===null&&g!==null;)g===r&&(r=null),a=g.next,g=g.parent}}#d(t){for(var n=0;n<t.length;n+=1)ri(t[n],this.#r,this.#n)}capture(t,n){n!==fe&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&lt)===0&&(this.current.set(t,t.v),Qe?.set(t,t.v))}activate(){B=this,this.apply()}deactivate(){B===this&&(B=null,Qe=null)}flush(){if(this.activate(),ke.length>0){if(ii(),B!==null&&B!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#o)t(this);this.#o.clear()}#c(){if(wn.size>1){this.previous.clear();var t=Qe,n=!0;for(const a of wn){if(a===this){n=!1;continue}const r=[];for(const[o,s]of this.current){if(a.current.has(o))if(n&&s!==a.current.get(o))a.current.set(o,s);else continue;r.push(o)}if(r.length===0)continue;const l=[...a.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var i=ke;ke=[];const o=new Set,s=new Map;for(const u of r)li(u,l,o,s);if(ke.length>0){B=a,a.apply();for(const u of ke)a.#u(u,[],[]);a.deactivate()}ke=i}}B=null,Qe=t}this.committed=!0,wn.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#s&&(this.#s=!0,Ye(()=>{this.#s=!1,this.is_deferred()?ke.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),ae(t,me),He(t);for(const t of this.#n)ae(t,Ve),He(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#o.add(t)}settled(){return(this.#l??=Vr()).promise}static ensure(){if(B===null){const t=B=new vt;wn.add(B),Zt||Ye(()=>{B===t&&t.flush()})}return B}apply(){}}function pl(e){var t=Zt;Zt=!0;try{for(var n;;){if(dl(),ke.length===0&&(B?.flush(),ke.length===0))return xn=null,n;ii()}}finally{Zt=t}}function ii(){Zn=!0;var e=null;try{for(var t=0;ke.length>0;){var n=vt.ensure();if(t++>1e3){var i,a;gl()}n.process(ke),ot.clear()}}finally{ke=[],Zn=!1,xn=null}}function gl(){try{Ba()}catch(e){qt(e,xn)}}let tt=null;function ai(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(Xe|Te))===0&&tn(i)&&(tt=new Set,nn(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?Ni(i):i.fn=null),tt?.size>0)){ot.clear();for(const a of tt){if((a.f&(Xe|Te))!==0)continue;const r=[a];let l=a.parent;for(;l!==null;)tt.has(l)&&(tt.delete(l),r.push(l)),l=l.parent;for(let o=r.length-1;o>=0;o--){const s=r[o];(s.f&(Xe|Te))===0&&nn(s)}}tt.clear()}}tt=null}}function li(e,t,n,i){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const r=a.f;(r&_e)!==0?li(a,t,n,i):(r&(Jn|Je))!==0&&(r&me)===0&&oi(a,t,i)&&(ae(a,me),He(a))}}function oi(e,t,n){const i=n.get(e);if(i!==void 0)return i;if(e.deps!==null)for(const a of e.deps){if(Lt.call(t,a))return!0;if((a.f&_e)!==0&&oi(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function He(e){for(var t=xn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Zn&&t===U&&(n&Je)!==0&&(n&Qr)===0)return;if((n&(pt|qe))!==0){if((n&ce)===0)return;t.f^=ce}}ke.push(t)}function si(e,t){if(!((e.f&qe)!==0&&(e.f&ce)!==0)){(e.f&me)!==0?t.d.push(e):(e.f&Ve)!==0&&t.m.push(e),ae(e,ce);for(var n=e.first;n!==null;)si(n,t),n=n.next}}function bl(e){let t=0,n=yt(0),i;return()=>{rr()&&(h(n),ir(()=>(t===0&&(i=Pe(()=>e(()=>en(n)))),t+=1,()=>{Ye(()=>{t-=1,t===0&&(i?.(),i=void 0,en(n))})})))}}var wl=Ze|Dt|zn;function yl(e,t,n){new xl(e,t,n)}class xl{parent;is_pending=!1;#t;#o=null;#e;#a;#l;#r=null;#n=null;#i=null;#s=null;#u=null;#d=0;#c=0;#_=!1;#v=!1;#m=new Set;#h=new Set;#f=null;#y=bl(()=>(this.#f=yt(this.#d),()=>{this.#f=null}));constructor(t,n,i){this.#t=t,this.#e=n,this.#a=i,this.parent=U.b,this.is_pending=!!this.#e.pending,this.#l=jt(()=>{U.b=this;{var a=this.#b();try{this.#r=Ce(()=>i(a))}catch(r){this.error(r)}this.#c>0?this.#g():this.is_pending=!1}return()=>{this.#u?.remove()}},wl)}#x(){try{this.#r=Ce(()=>this.#a(this.#t))}catch(t){this.error(t)}}#k(){const t=this.#e.pending;t&&(this.#n=Ce(()=>t(this.#t)),Ye(()=>{var n=this.#b();this.#r=this.#p(()=>(vt.ensure(),Ce(()=>this.#a(n)))),this.#c>0?this.#g():(St(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#b(){var t=this.#t;return this.is_pending&&(this.#u=We(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){ri(t,this.#m,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#p(t){var n=U,i=H,a=$e;Ge(this.#l),Me(this.#l),Ft(this.#l.ctx);try{return t()}catch(r){return ti(r),null}finally{Ge(n),Me(i),Ft(a)}}#g(){const t=this.#e.pending;this.#r!==null&&(this.#s=document.createDocumentFragment(),this.#s.append(this.#u),Oi(this.#r,this.#s)),this.#n===null&&(this.#n=Ce(()=>t(this.#t)))}#w(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#m)ae(n,me),He(n);for(const n of this.#h)ae(n,Ve),He(n);this.#m.clear(),this.#h.clear(),this.#n&&St(this.#n,()=>{this.#n=null}),this.#s&&(this.#t.before(this.#s),this.#s=null)}}update_pending_count(t){this.#w(t),this.#d+=t,!(!this.#f||this.#_)&&(this.#_=!0,Ye(()=>{this.#_=!1,this.#f&&Vt(this.#f,this.#d)}))}get_effect_pending(){return this.#y(),h(this.#f)}error(t){var n=this.#e.onerror;let i=this.#e.failed;if(this.#v||!n&&!i)throw t;this.#r&&(pe(this.#r),this.#r=null),this.#n&&(pe(this.#n),this.#n=null),this.#i&&(pe(this.#i),this.#i=null);var a=!1,r=!1;const l=()=>{if(a){fl();return}a=!0,r&&Ga(),vt.ensure(),this.#d=0,this.#i!==null&&St(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#p(()=>(this.#v=!1,Ce(()=>this.#a(this.#t)))),this.#c>0?this.#g():this.is_pending=!1};Ye(()=>{try{r=!0,n?.(t,l),r=!1}catch(o){qt(o,this.#l&&this.#l.parent)}i&&(this.#i=this.#p(()=>{vt.ensure(),this.#v=!0;try{return Ce(()=>{i(this.#t,()=>t,()=>l)})}catch(o){return qt(o,this.#l.parent),null}finally{this.#v=!1}}))})}}function ui(e,t,n,i){const a=kn;var r=e.filter(v=>!v.settled);if(n.length===0&&r.length===0){i(t.map(a));return}var l=B,o=U,s=kl(),u=r.length===1?r[0].promise:r.length>1?Promise.all(r.map(v=>v.promise)):null;function f(v){s();try{i(v)}catch(m){(o.f&Xe)===0&&qt(m,o)}l?.deactivate(),er()}if(n.length===0){u.then(()=>f(t.map(a)));return}function g(){s(),Promise.all(n.map(v=>Sl(v))).then(v=>f([...t.map(a),...v])).catch(v=>qt(v,o))}u?u.then(g):g()}function kl(){var e=U,t=H,n=$e,i=B;return function(r=!0){Ge(e),Me(t),Ft(n),r&&i?.activate()}}function er(){Ge(null),Me(null),Ft(null)}function kn(e){var t=_e|me,n=H!==null&&(H.f&_e)!==0?H:null;return U!==null&&(U.f|=Dt),{ctx:$e,deps:null,effects:null,equals:Hr,f:t,fn:e,reactions:null,rv:0,v:fe,wv:0,parent:n??U,ac:null}}function Sl(e,t,n){let i=U;i===null&&qa();var a=i.b,r=void 0,l=yt(fe),o=!H,s=new Map;return Ol(()=>{var u=Vr();r=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{f===B&&f.committed&&f.deactivate(),er()})}catch(m){u.reject(m),er()}var f=B;if(o){var g=a.is_rendered();a.update_pending_count(1),f.increment(g),s.get(f)?.reject(Rt),s.delete(f),s.set(f,u)}const v=(m,b=void 0)=>{if(f.activate(),b)b!==Rt&&(l.f|=lt,Vt(l,b));else{(l.f&lt)!==0&&(l.f^=lt),Vt(l,m);for(const[p,d]of s){if(s.delete(p),p===f)break;d.reject(Rt)}}o&&(a.update_pending_count(-1),f.decrement(g))};u.promise.then(v,m=>v(null,m||"unknown"))}),rn(()=>{for(const u of s.values())u.reject(Rt)}),new Promise(u=>{function f(g){function v(){g===r?u(l):f(r)}g.then(v,v)}f(r)})}function Q(e){const t=kn(e);return bi(t),t}function di(e){const t=kn(e);return t.equals=Ur,t}function ci(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)pe(t[n])}}function Cl(e){for(var t=e.parent;t!==null;){if((t.f&_e)===0)return(t.f&Xe)===0?t:null;t=t.parent}return null}function tr(e){var t,n=U;Ge(Cl(e));try{e.f&=~gt,ci(e),t=Si(e)}finally{Ge(n)}return t}function fi(e){var t=tr(e);if(!e.equals(t)&&(e.wv=xi(),(!B?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){ae(e,ce);return}st||(Qe!==null?(rr()||B?.is_fork)&&Qe.set(e,t):Xn(e))}let nr=new Set;const ot=new Map;let vi=!1;function yt(e,t){var n={f:0,v:e,reactions:null,equals:Hr,rv:0,wv:0};return n}function he(e,t){const n=yt(e);return bi(n),n}function _i(e,t=!1,n=!0){const i=yt(e);return t||(i.equals=Ur),i}function ee(e,t,n=!1){H!==null&&(!Be||(H.f&jr)!==0)&&Wr()&&(H.f&(_e|Je|Jn|jr))!==0&&(Le===null||!Lt.call(Le,e))&&za();let i=n?je(t):t;return Vt(e,i)}function Vt(e,t){if(!e.equals(t)){var n=e.v;st?ot.set(e,t):ot.set(e,n),e.v=t;var i=vt.ensure();if(i.capture(e,n),(e.f&_e)!==0){const a=e;(e.f&me)!==0&&tr(a),Xn(a)}e.wv=xi(),mi(e,me),U!==null&&(U.f&ce)!==0&&(U.f&(qe|pt))===0&&(Oe===null?Al([e]):Oe.push(e)),!i.is_fork&&nr.size>0&&!vi&&El()}return t}function El(){vi=!1;for(const e of nr)(e.f&ce)!==0&&ae(e,Ve),tn(e)&&nn(e);nr.clear()}function en(e){ee(e,e.v+1)}function mi(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,a=0;a<i;a++){var r=n[a],l=r.f,o=(l&me)===0;if(o&&ae(r,t),(l&_e)!==0){var s=r;Qe?.delete(s),(l&gt)===0&&(l&Ne&&(r.f|=gt),mi(s,Ve))}else o&&((l&Je)!==0&&tt!==null&&tt.add(r),He(r))}}function Tl(e,t){if(t){const n=document.body;e.autofocus=!0,Ye(()=>{document.activeElement===n&&e.focus()})}}let hi=!1;function $l(){hi||(hi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Sn(e){var t=H,n=U;Me(null),Ge(null);try{return e()}finally{Me(t),Ge(n)}}function pi(e,t,n,i=n){e.addEventListener(t,()=>Sn(n));const a=e.__on_r;a?e.__on_r=()=>{a(),i(!0)}:e.__on_r=()=>i(!0),$l()}let Cn=!1,st=!1;function gi(e){st=e}let H=null,Be=!1;function Me(e){H=e}let U=null;function Ge(e){U=e}let Le=null;function bi(e){H!==null&&(Le===null?Le=[e]:Le.push(e))}let Se=null,Ae=0,Oe=null;function Al(e){Oe=e}let wi=1,xt=0,kt=xt;function yi(e){kt=e}function xi(){return++wi}function tn(e){var t=e.f;if((t&me)!==0)return!0;if(t&_e&&(e.f&=~gt),(t&Ve)!==0){for(var n=e.deps,i=n.length,a=0;a<i;a++){var r=n[a];if(tn(r)&&fi(r),r.wv>e.wv)return!0}(t&Ne)!==0&&Qe===null&&ae(e,ce)}return!1}function ki(e,t,n=!0){var i=e.reactions;if(i!==null&&!(Le!==null&&Lt.call(Le,e)))for(var a=0;a<i.length;a++){var r=i[a];(r.f&_e)!==0?ki(r,t,!1):t===r&&(n?ae(r,me):(r.f&ce)!==0&&ae(r,Ve),He(r))}}function Si(e){var t=Se,n=Ae,i=Oe,a=H,r=Le,l=$e,o=Be,s=kt,u=e.f;Se=null,Ae=0,Oe=null,H=(u&(qe|pt))===0?e:null,Le=null,Ft(e.ctx),Be=!1,kt=++xt,e.ac!==null&&(Sn(()=>{e.ac.abort(Rt)}),e.ac=null);try{e.f|=Kn;var f=e.fn,g=f(),v=e.deps,m=B?.is_fork;if(Se!==null){var b;if(m||En(e,Ae),v!==null&&Ae>0)for(v.length=Ae+Se.length,b=0;b<Se.length;b++)v[Ae+b]=Se[b];else e.deps=v=Se;if(rr()&&(e.f&Ne)!==0)for(b=Ae;b<v.length;b++)(v[b].reactions??=[]).push(e)}else!m&&v!==null&&Ae<v.length&&(En(e,Ae),v.length=Ae);if(Wr()&&Oe!==null&&!Be&&v!==null&&(e.f&(_e|Ve|me))===0)for(b=0;b<Oe.length;b++)ki(Oe[b],e);if(a!==null&&a!==e){if(xt++,a.deps!==null)for(let p=0;p<n;p+=1)a.deps[p].rv=xt;if(t!==null)for(const p of t)p.rv=xt;Oe!==null&&(i===null?i=Oe:i.push(...Oe))}return(e.f&lt)!==0&&(e.f^=lt),g}catch(p){return ti(p)}finally{e.f^=Kn,Se=t,Ae=n,Oe=i,H=a,Le=r,Ft(l),Be=o,kt=s}}function Pl(e,t){let n=t.reactions;if(n!==null){var i=Pa.call(n,e);if(i!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[i]=n[a],n.pop())}}if(n===null&&(t.f&_e)!==0&&(Se===null||!Lt.call(Se,t))){var r=t;(r.f&Ne)!==0&&(r.f^=Ne,r.f&=~gt),Xn(r),ci(r),En(r,0)}}function En(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Pl(e,n[i])}function nn(e){var t=e.f;if((t&Xe)===0){ae(e,ce);var n=U,i=Cn;U=e,Cn=!0;try{(t&(Je|Wn))!==0?Dl(e):Pi(e),Ai(e);var a=Si(e);e.teardown=typeof a=="function"?a:null,e.wv=wi;var r;Un&&Ka&&(e.f&me)!==0&&e.deps}finally{Cn=i,U=n}}}async function Il(){await Promise.resolve(),pl()}function h(e){var t=e.f,n=(t&_e)!==0;if(H!==null&&!Be){var i=U!==null&&(U.f&Xe)!==0;if(!i&&(Le===null||!Lt.call(Le,e))){var a=H.deps;if((H.f&Kn)!==0)e.rv<xt&&(e.rv=xt,Se===null&&a!==null&&a[Ae]===e?Ae++:Se===null?Se=[e]:Se.push(e));else{(H.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[H]:Lt.call(r,H)||r.push(H)}}}if(st&&ot.has(e))return ot.get(e);if(n){var l=e;if(st){var o=l.v;return((l.f&ce)===0&&l.reactions!==null||Ei(l))&&(o=tr(l)),ot.set(l,o),o}var s=(l.f&Ne)===0&&!Be&&H!==null&&(Cn||(H.f&Ne)!==0),u=l.deps===null;tn(l)&&(s&&(l.f|=Ne),fi(l)),s&&!u&&Ci(l)}if(Qe?.has(e))return Qe.get(e);if((e.f&lt)!==0)throw e.v;return e.v}function Ci(e){if(e.deps!==null){e.f|=Ne;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&_e)!==0&&(t.f&Ne)===0&&Ci(t)}}function Ei(e){if(e.v===fe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ot.has(t)||(t.f&_e)!==0&&Ei(t))return!0;return!1}function Pe(e){var t=Be;try{return Be=!0,e()}finally{Be=t}}function Nl(e){U===null&&(H===null&&Ha(),Qa()),st&&ja()}function Ml(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ke(e,t,n){var i=U;i!==null&&(i.f&Te)!==0&&(e|=Te);var a={ctx:$e,deps:null,nodes:null,f:e|me|Ne,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{nn(a),a.f|=Gn}catch(o){throw pe(a),o}else t!==null&&He(a);var r=a;if(n&&r.deps===null&&r.teardown===null&&r.nodes===null&&r.first===r.last&&(r.f&Dt)===0&&(r=r.first,(e&Je)!==0&&(e&Ze)!==0&&r!==null&&(r.f|=Ze)),r!==null&&(r.parent=i,i!==null&&Ml(r,i),H!==null&&(H.f&_e)!==0&&(e&pt)===0)){var l=H;(l.effects??=[]).push(r)}return a}function rr(){return H!==null&&!Be}function rn(e){const t=Ke(bn,null,!1);return ae(t,ce),t.teardown=e,t}function ve(e){Nl();var t=U.f,n=!H&&(t&qe)!==0&&(t&Gn)===0;if(n){var i=$e;(i.e??=[]).push(e)}else return Ti(e)}function Ti(e){return Ke(gn|Oa,e,!1)}function Ll(e){vt.ensure();const t=Ke(pt|Dt,e,!0);return(n={})=>new Promise(i=>{n.outro?St(t,()=>{pe(t),i(void 0)}):(pe(t),i(void 0))})}function an(e){return Ke(gn,e,!1)}function Ol(e){return Ke(Jn|Dt,e,!0)}function ir(e,t=0){return Ke(bn|t,e,!0)}function le(e,t=[],n=[],i=[]){ui(i,t,n,a=>{Ke(bn,()=>e(...a.map(h)),!0)})}function jt(e,t=0){var n=Ke(Je|t,e,!0);return n}function $i(e,t=0){var n=Ke(Wn|t,e,!0);return n}function Ce(e){return Ke(qe|Dt,e,!0)}function Ai(e){var t=e.teardown;if(t!==null){const n=st,i=H;gi(!0),Me(null);try{t.call(null)}finally{gi(n),Me(i)}}}function Pi(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Sn(()=>{a.abort(Rt)});var i=n.next;(n.f&pt)!==0?n.parent=null:pe(n,t),n=i}}function Dl(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&qe)===0&&pe(t),t=n}}function pe(e,t=!0){var n=!1;(t||(e.f&Qr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ii(e.nodes.start,e.nodes.end),n=!0),Pi(e,t&&!n),En(e,0),ae(e,Xe);var i=e.nodes&&e.nodes.t;if(i!==null)for(const r of i)r.stop();Ai(e);var a=e.parent;a!==null&&a.first!==null&&Ni(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ii(e,t){for(;e!==null;){var n=e===t?null:Xt(e);e.remove(),e=n}}function Ni(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function St(e,t,n=!0){var i=[];Mi(e,i,!0);var a=()=>{n&&pe(e),t&&t()},r=i.length;if(r>0){var l=()=>--r||a();for(var o of i)o.out(l)}else a()}function Mi(e,t,n){if((e.f&Te)===0){e.f^=Te;var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||n)&&t.push(o);for(var a=e.first;a!==null;){var r=a.next,l=(a.f&Ze)!==0||(a.f&qe)!==0&&(e.f&Je)!==0;Mi(a,t,l?n:!1),a=r}}}function ar(e){Li(e,!0)}function Li(e,t){if((e.f&Te)!==0){e.f^=Te,(e.f&ce)===0&&(ae(e,me),He(e));for(var n=e.first;n!==null;){var i=n.next,a=(n.f&Ze)!==0||(n.f&qe)!==0;Li(n,a?t:!1),n=i}var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||t)&&l.in()}}function Oi(e,t){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end;n!==null;){var a=n===i?null:Xt(n);t.append(n),n=a}}function Rl(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Fl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ql(e){return Fl.includes(e)}const Vl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function jl(e){return e=e.toLowerCase(),Vl[e]??e}const Ql=["touchstart","touchmove"];function Hl(e){return Ql.includes(e)}const Di=new Set,lr=new Set;function Ri(e,t,n,i={}){function a(r){if(i.capture||ln.call(t,r),!r.cancelBubble)return Sn(()=>n?.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ye(()=>{t.addEventListener(e,a,i)}):t.addEventListener(e,a,i),a}function Ct(e,t,n,i,a){var r={capture:i,passive:a},l=Ri(e,t,n,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&rn(()=>{t.removeEventListener(e,l,r)})}function Et(e){for(var t=0;t<e.length;t++)Di.add(e[t]);for(var n of lr)n(e)}let Fi=null;function ln(e){var t=this,n=t.ownerDocument,i=e.type,a=e.composedPath?.()||[],r=a[0]||e.target;Fi=e;var l=0,o=Fi===e&&e.__root;if(o){var s=a.indexOf(o);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;s<=u&&(l=s)}if(r=a[l]||e.target,r!==t){Rr(e,"currentTarget",{configurable:!0,get(){return r||n}});var f=H,g=U;Me(null),Ge(null);try{for(var v,m=[];r!==null;){var b=r.assignedSlot||r.parentNode||r.host||null;try{var p=r["__"+i];p!=null&&(!r.disabled||e.target===r)&&p.call(r,e)}catch(d){v?m.push(d):v=d}if(e.cancelBubble||b===t||b===null)break;r=b}if(v){for(let d of m)queueMicrotask(()=>{throw d});throw v}}finally{e.__root=t,delete e.currentTarget,Me(f),Ge(g)}}}function or(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tt(e,t){var n=U;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function C(e,t){var n=(t&al)!==0,i=(t&ll)!==0,a,r=!e.startsWith("<!>");return()=>{a===void 0&&(a=or(r?e:"<!>"+e),n||(a=ze(a)));var l=i||Jr?document.importNode(a,!0):a.cloneNode(!0);if(n){var o=ze(l),s=l.lastChild;Tt(o,s)}else Tt(l,l);return l}}function Bl(e,t,n="svg"){var i=!e.startsWith("<!>"),a=`<${n}>${i?e:"<!>"+e}</${n}>`,r;return()=>{if(!r){var l=or(a),o=ze(l);r=ze(o)}var s=r.cloneNode(!0);return Tt(s,s),s}}function qi(e,t){return Bl(e,t,"svg")}function Vi(e=""){{var t=We(e+"");return Tt(t,t),t}}function ge(){var e=document.createDocumentFragment(),t=document.createComment(""),n=We();return e.append(t,n),Tt(t,n),e}function k(e,t){e!==null&&e.before(t)}function De(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ji(e,t){return Ul(e,t)}const Qt=new Map;function Ul(e,{target:t,anchor:n,props:i={},events:a,context:r,intro:l=!0}){_l();var o=new Set,s=g=>{for(var v=0;v<g.length;v++){var m=g[v];if(!o.has(m)){o.add(m);var b=Hl(m);t.addEventListener(m,ln,{passive:b});var p=Qt.get(m);p===void 0?(document.addEventListener(m,ln,{passive:b}),Qt.set(m,1)):Qt.set(m,p+1)}}};s(pn(Di)),lr.add(s);var u=void 0,f=Ll(()=>{var g=n??t.appendChild(We());return yl(g,{pending:()=>{}},v=>{W({});var m=$e;r&&(m.c=r),a&&(i.$$events=a),u=e(v,i)||{},z()}),()=>{for(var v of o){t.removeEventListener(v,ln);var m=Qt.get(v);--m===0?(document.removeEventListener(v,ln),Qt.delete(v)):Qt.set(v,m)}lr.delete(s),g!==n&&g.parentNode?.removeChild(g)}});return Yl.set(u,f),u}let Yl=new WeakMap;class Tn{anchor;#t=new Map;#o=new Map;#e=new Map;#a=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#r=()=>{var t=B;if(this.#t.has(t)){var n=this.#t.get(t),i=this.#o.get(n);if(i)ar(i),this.#a.delete(n);else{var a=this.#e.get(n);a&&(this.#o.set(n,a.effect),this.#e.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),i=a.effect)}for(const[r,l]of this.#t){if(this.#t.delete(r),r===t)break;const o=this.#e.get(l);o&&(pe(o.effect),this.#e.delete(l))}for(const[r,l]of this.#o){if(r===n||this.#a.has(r))continue;const o=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();Oi(l,u),u.append(We()),this.#e.set(r,{effect:l,fragment:u})}else pe(l);this.#a.delete(r),this.#o.delete(r)};this.#l||!i?(this.#a.add(r),St(l,o,!1)):o()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[i,a]of this.#e)n.includes(i)||(pe(a.effect),this.#e.delete(i))};ensure(t,n){var i=B,a=ei();if(n&&!this.#o.has(t)&&!this.#e.has(t))if(a){var r=document.createDocumentFragment(),l=We();r.append(l),this.#e.set(t,{effect:Ce(()=>n(l)),fragment:r})}else this.#o.set(t,Ce(()=>n(this.anchor)));if(this.#t.set(i,t),a){for(const[o,s]of this.#o)o===t?i.unskip_effect(s):i.skip_effect(s);for(const[o,s]of this.#e)o===t?i.unskip_effect(s.effect):i.skip_effect(s.effect);i.oncommit(this.#r),i.ondiscard(this.#n)}else this.#r()}}function oe(e,t,n=!1){var i=new Tn(e),a=n?Ze:0;function r(l,o){i.ensure(l,o)}jt(()=>{var l=!1;t((o,s=!0)=>{l=!0,r(s,o)}),l||r(!1,null)},a)}function ut(e,t){return t}function Wl(e,t,n){for(var i=[],a=t.length,r,l=t.length,o=0;o<a;o++){let g=t[o];St(g,()=>{if(r){if(r.pending.delete(g),r.done.add(g),r.pending.size===0){var v=e.outrogroups;sr(pn(r.done)),v.delete(r),v.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var s=i.length===0&&n!==null;if(s){var u=n,f=u.parentNode;ml(f),f.append(u),e.items.clear()}sr(t,!s)}else r={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(r)}function sr(e,t=!0){for(var n=0;n<e.length;n++)pe(e[n],t)}var Qi;function dt(e,t,n,i,a,r=null){var l=e,o=new Map,s=(t&Yr)!==0;if(s){var u=e;l=u.appendChild(We())}var f=null,g=di(()=>{var c=n();return Yn(c)?c:c==null?[]:pn(c)}),v,m=!0;function b(){d.fallback=f,zl(d,v,l,t,i),f!==null&&(v.length===0?(f.f&et)===0?ar(f):(f.f^=et,sn(f,null,l)):St(f,()=>{f=null}))}var p=jt(()=>{v=h(g);for(var c=v.length,_=new Set,x=B,w=ei(),S=0;S<c;S+=1){var E=v[S],M=i(E,S),P=m?null:o.get(M);P?(P.v&&Vt(P.v,E),P.i&&Vt(P.i,S),w&&x.unskip_effect(P.e)):(P=Gl(o,m?l:Qi??=We(),E,M,S,a,t,n),m||(P.e.f|=et),o.set(M,P)),_.add(M)}if(c===0&&r&&!f&&(m?f=Ce(()=>r(l)):(f=Ce(()=>r(Qi??=We())),f.f|=et)),c>_.size&&Va(),!m)if(w){for(const[F,V]of o)_.has(F)||x.skip_effect(V.e);x.oncommit(b),x.ondiscard(()=>{})}else b();h(g)}),d={effect:p,items:o,outrogroups:null,fallback:f};m=!1}function on(e){for(;e!==null&&(e.f&qe)===0;)e=e.next;return e}function zl(e,t,n,i,a){var r=(i&Za)!==0,l=t.length,o=e.items,s=on(e.effect.first),u,f=null,g,v=[],m=[],b,p,d,c;if(r)for(c=0;c<l;c+=1)b=t[c],p=a(b,c),d=o.get(p).e,(d.f&et)===0&&(d.nodes?.a?.measure(),(g??=new Set).add(d));for(c=0;c<l;c+=1){if(b=t[c],p=a(b,c),d=o.get(p).e,e.outrogroups!==null)for(const V of e.outrogroups)V.pending.delete(d),V.done.delete(d);if((d.f&et)!==0)if(d.f^=et,d===s)sn(d,null,n);else{var _=f?f.next:s;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),ct(e,f,d),ct(e,d,_),sn(d,_,n),f=d,v=[],m=[],s=on(f.next);continue}if((d.f&Te)!==0&&(ar(d),r&&(d.nodes?.a?.unfix(),(g??=new Set).delete(d))),d!==s){if(u!==void 0&&u.has(d)){if(v.length<m.length){var x=m[0],w;f=x.prev;var S=v[0],E=v[v.length-1];for(w=0;w<v.length;w+=1)sn(v[w],x,n);for(w=0;w<m.length;w+=1)u.delete(m[w]);ct(e,S.prev,E.next),ct(e,f,S),ct(e,E,x),s=x,f=E,c-=1,v=[],m=[]}else u.delete(d),sn(d,s,n),ct(e,d.prev,d.next),ct(e,d,f===null?e.effect.first:f.next),ct(e,f,d),f=d;continue}for(v=[],m=[];s!==null&&s!==d;)(u??=new Set).add(s),m.push(s),s=on(s.next);if(s===null)continue}(d.f&et)===0&&v.push(d),f=d,s=on(d.next)}if(e.outrogroups!==null){for(const V of e.outrogroups)V.pending.size===0&&(sr(pn(V.done)),e.outrogroups?.delete(V));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var M=[];if(u!==void 0)for(d of u)(d.f&Te)===0&&M.push(d);for(;s!==null;)(s.f&Te)===0&&s!==e.fallback&&M.push(s),s=on(s.next);var P=M.length;if(P>0){var F=(i&Yr)!==0&&l===0?n:null;if(r){for(c=0;c<P;c+=1)M[c].nodes?.a?.measure();for(c=0;c<P;c+=1)M[c].nodes?.a?.fix()}Wl(e,M,F)}}r&&Ye(()=>{if(g!==void 0)for(d of g)d.nodes?.a?.apply()})}function Gl(e,t,n,i,a,r,l,o){var s=(l&Ja)!==0?(l&el)===0?_i(n,!1,!1):yt(n):null,u=(l&Xa)!==0?yt(a):null;return{v:s,i:u,e:Ce(()=>(r(t,s??n,u??a,o),()=>{e.delete(i)}))}}function sn(e,t,n){if(e.nodes)for(var i=e.nodes.start,a=e.nodes.end,r=t&&(t.f&et)===0?t.nodes.start:n;i!==null;){var l=Xt(i);if(r.before(i),i===a)return;i=l}}function ct(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function un(e,t,n=!1,i=!1,a=!1){var r=e,l="";le(()=>{var o=U;if(l!==(l=t()??"")&&(o.nodes!==null&&(Ii(o.nodes.start,o.nodes.end),o.nodes=null),l!=="")){var s=l+"";n?s=`<svg>${s}</svg>`:i&&(s=`<math>${s}</math>`);var u=or(s);if((n||i)&&(u=ze(u)),Tt(ze(u),u.lastChild),n||i)for(;ze(u);)r.before(ze(u));else r.before(u)}})}function ur(e,t,...n){var i=new Tn(e);jt(()=>{const a=t()??null;i.ensure(a,a&&(r=>a(r,...n)))},Ze)}function Kl(e,t,n){var i=new Tn(e);jt(()=>{var a=t()??null;i.ensure(a,a&&(r=>n(r,a)))},Ze)}function Jl(e,t,n,i,a,r){var l=null,o=e,s=new Tn(o,!1);jt(()=>{const u=t()||null;var f=u==="svg"?sl:null;if(u===null){s.ensure(null,null);return}return s.ensure(u,g=>{if(u){if(l=f?document.createElementNS(f,u):document.createElement(u),Tt(l,l),i){var v=l.appendChild(We());i(l,v)}U.nodes.end=l,g.before(l)}}),()=>{}},Ze),rn(()=>{})}function Xl(e,t,n){an(()=>{var i=Pe(()=>t(e,n?.())||{});if(i?.destroy)return()=>i.destroy()})}function Zl(e,t){var n=void 0,i;$i(()=>{n!==(n=t())&&(i&&(pe(i),i=null),n&&(i=Ce(()=>{an(()=>n(e))})))})}function Hi(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Hi(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function eo(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Hi(e))&&(i&&(i+=" "),i+=t);return i}function Bi(e){return typeof e=="object"?eo(e):e??""}const Ui=[...` 	
\r\f\xA0\v\uFEFF`];function to(e,t,n){var i=e==null?"":""+e;if(n){for(var a in n)if(n[a])i=i?i+" "+a:a;else if(i.length)for(var r=a.length,l=0;(l=i.indexOf(a,l))>=0;){var o=l+r;(l===0||Ui.includes(i[l-1]))&&(o===i.length||Ui.includes(i[o]))?i=(l===0?"":i.substring(0,l))+i.substring(o+1):l=o}}return i===""?null:i}function Yi(e,t=!1){var n=t?" !important;":";",i="";for(var a in e){var r=e[a];r!=null&&r!==""&&(i+=" "+a+": "+r+n)}return i}function dr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function no(e,t){if(t){var n="",i,a;if(Array.isArray(t)?(i=t[0],a=t[1]):i=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var r=!1,l=0,o=!1,s=[];i&&s.push(...Object.keys(i).map(dr)),a&&s.push(...Object.keys(a).map(dr));var u=0,f=-1;const p=e.length;for(var g=0;g<p;g++){var v=e[g];if(o?v==="/"&&e[g-1]==="*"&&(o=!1):r?r===v&&(r=!1):v==="/"&&e[g+1]==="*"?o=!0:v==='"'||v==="'"?r=v:v==="("?l++:v===")"&&l--,!o&&r===!1&&l===0){if(v===":"&&f===-1)f=g;else if(v===";"||g===p-1){if(f!==-1){var m=dr(e.substring(u,f).trim());if(!s.includes(m)){v!==";"&&g++;var b=e.substring(u,g).trim();n+=" "+b+";"}}u=g+1,f=-1}}}}return i&&(n+=Yi(i)),a&&(n+=Yi(a,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Wi(e,t,n,i,a,r){var l=e.__className;if(l!==n||l===void 0){var o=to(n,i,r);o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o),e.__className=n}else if(r&&a!==r)for(var s in r){var u=!!r[s];(a==null||u!==!!a[s])&&e.classList.toggle(s,u)}return r}function cr(e,t={},n,i){for(var a in n){var r=n[a];t[a]!==r&&(n[a]==null?e.style.removeProperty(a):e.style.setProperty(a,r,i))}}function zi(e,t,n,i){var a=e.__style;if(a!==t){var r=no(t,i);r==null?e.removeAttribute("style"):e.style.cssText=r,e.__style=t}else i&&(Array.isArray(i)?(cr(e,n?.[0],i[0]),cr(e,n?.[1],i[1],"important")):cr(e,n,i));return i}function dn(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Yn(t))return cl();for(var i of e.options)i.selected=t.includes(cn(i));return}for(i of e.options){var a=cn(i);if(vl(a,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function fr(e){var t=new MutationObserver(()=>{dn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rn(()=>{t.disconnect()})}function Gi(e,t,n=t){var i=new WeakSet,a=!0;pi(e,"change",r=>{var l=r?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(l),cn);else{var s=e.querySelector(l)??e.querySelector("option:not([disabled])");o=s&&cn(s)}n(o),B!==null&&i.add(B)}),an(()=>{var r=t();if(e===document.activeElement){var l=yn??B;if(i.has(l))return}if(dn(e,r,a),a&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=cn(o),n(r))}e.__value=r,a=!1}),fr(e)}function cn(e){return"__value"in e?e.__value:e.value}const $t=Symbol("class"),fn=Symbol("style"),Ki=Symbol("is custom element"),Ji=Symbol("is html");function ft(e,t){var n=An(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $n(e,t){var n=An(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ro(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function be(e,t,n,i){var a=An(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ra]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Zi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function At(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function io(e,t,n,i,a=!1,r=!1){var l=An(e),o=l[Ki],s=!l[Ji],u=t||{},f=e.tagName==="OPTION";for(var g in t)g in n||(n[g]=null);n.class?n.class=Bi(n.class):n[$t]&&(n.class=null),n[fn]&&(n.style??=null);var v=Zi(e);for(const w in n){let S=n[w];if(f&&w==="value"&&S==null){e.value=e.__value="",u[w]=S;continue}if(w==="class"){var m=e.namespaceURI==="http://www.w3.org/1999/xhtml";Wi(e,m,S,i,t?.[$t],n[$t]),u[w]=S,u[$t]=n[$t];continue}if(w==="style"){zi(e,S,t?.[fn],n[fn]),u[w]=S,u[fn]=n[fn];continue}var b=u[w];if(!(S===b&&!(S===void 0&&e.hasAttribute(w)))){u[w]=S;var p=w[0]+w[1];if(p!=="$$")if(p==="on"){const E={},M="$$"+w;let P=w.slice(2);var d=ql(P);if(Rl(P)&&(P=P.slice(0,-7),E.capture=!0),!d&&b){if(S!=null)continue;e.removeEventListener(P,u[M],E),u[M]=null}if(S!=null)if(d)e[`__${P}`]=S,Et([P]);else{let F=function(V){u[w].call(this,V)};var x=F;u[M]=Ri(P,e,F,E)}else d&&(e[`__${P}`]=void 0)}else if(w==="style")be(e,w,S);else if(w==="autofocus")Tl(e,!!S);else if(!o&&(w==="__value"||w==="value"&&S!=null))e.value=e.__value=S;else if(w==="selected"&&f)ro(e,S);else{var c=w;s||(c=jl(c));var _=c==="defaultValue"||c==="defaultChecked";if(S==null&&!o&&!_)if(l[w]=null,c==="value"||c==="checked"){let E=e;const M=t===void 0;if(c==="value"){let P=E.defaultValue;E.removeAttribute(c),E.defaultValue=P,E.value=E.__value=M?P:null}else{let P=E.defaultChecked;E.removeAttribute(c),E.defaultChecked=P,E.checked=M?P:!1}}else e.removeAttribute(w);else _||v.includes(c)&&(o||typeof S!="string")?(e[c]=S,c in l&&(l[c]=fe)):typeof S!="function"&&be(e,c,S)}}}return u}function N(e,t,n=[],i=[],a=[],r,l=!1,o=!1){ui(a,n,i,s=>{var u=void 0,f={},g=e.nodeName==="SELECT",v=!1;if($i(()=>{var b=t(...s.map(h)),p=io(e,u,b,r,l,o);v&&g&&"value"in b&&dn(e,b.value);for(let c of Object.getOwnPropertySymbols(f))b[c]||pe(f[c]);for(let c of Object.getOwnPropertySymbols(b)){var d=b[c];c.description===ul&&(!u||d!==u[c])&&(f[c]&&pe(f[c]),f[c]=Ce(()=>Zl(e,()=>d))),p[c]=d}u=p}),g){var m=e;an(()=>{dn(m,u.value,!0),fr(m)})}v=!0})}function An(e){return e.__attributes??={[Ki]:e.nodeName.includes("-"),[Ji]:e.namespaceURI===ol}}var Xi=new Map;function Zi(e){var t=e.getAttribute("is")||e.nodeName,n=Xi.get(t);if(n)return n;Xi.set(t,n=[]);for(var i,a=e,r=Element.prototype;r!==a;){i=Ia(a);for(var l in i)i[l].set&&n.push(l);a=Fr(a)}return n}function Ht(e,t,n=t){var i=new WeakSet;pi(e,"input",async a=>{var r=a?e.defaultValue:e.value;if(r=vr(e)?_r(r):r,n(r),B!==null&&i.add(B),await Il(),r!==(r=t())){var l=e.selectionStart,o=e.selectionEnd,s=e.value.length;if(e.value=r??"",o!==null){var u=e.value.length;l===o&&o===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=l,e.selectionEnd=Math.min(o,u))}}}),Pe(t)==null&&e.value&&(n(vr(e)?_r(e.value):e.value),B!==null&&i.add(B)),ir(()=>{var a=t();if(e===document.activeElement){var r=yn??B;if(i.has(r))return}vr(e)&&a===_r(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function vr(e){var t=e.type;return t==="number"||t==="range"}function _r(e){return e===""?null:+e}function ea(e,t){return e===t||e?.[bt]===t}function Bt(e={},t,n,i){return an(()=>{var a,r;return ir(()=>{a=r,r=i?.()||[],Pe(()=>{e!==n(...r)&&(t(e,...r),a&&ea(n(...a),e)&&t(null,...a))})}),()=>{Ye(()=>{r&&ea(n(...r),e)&&t(null,...r)})}}),e}let Pn=!1,mr=Symbol();function In(e,t,n){const i=n[t]??={store:null,source:_i(void 0),unsubscribe:at};if(i.store!==e&&!(mr in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=at;else{var a=!0;i.unsubscribe=ta(e,r=>{a?i.source.v=r:ee(i.source,r)}),a=!1}return e&&mr in n?uo(e):h(i.source)}function Nn(){const e={};function t(){rn(()=>{for(var n in e)e[n].unsubscribe();Rr(e,mr,{enumerable:!1,value:!0})})}return[e,t]}function ao(e,t,n){return e.set(n),t}function lo(e){var t=Pn;try{return Pn=!1,[e(),Pn]}finally{Pn=t}}function A(e,t,n,i){var a=(n&rl)!==0,r=(n&il)!==0,l=i,o=!0,s=()=>(o&&(o=!1,l=r?Pe(i):i),l),u;if(a){var f=bt in e||Da in e;u=Ot(e,t)?.set??(f&&t in e?_=>e[t]=_:void 0)}var g,v=!1;a?[g,v]=lo(()=>e[t]):g=e[t],g===void 0&&i!==void 0&&(g=s(),u&&(Ua(),u(g)));var m;if(m=()=>{var _=e[t];return _===void 0?s():(o=!0,_)},(n&nl)===0)return m;if(u){var b=e.$$legacy;return(function(_,x){return arguments.length>0?((!x||b||v)&&u(x?m():_),_):m()})}var p=!1,d=((n&tl)!==0?kn:di)(()=>(p=!1,m()));a&&h(d);var c=U;return(function(_,x){if(arguments.length>0){const w=x?h(d):a?je(_):_;return ee(d,w),p=!0,l!==void 0&&(l=w),_}return st&&p||(c.f&Xe)!==0?d.v:h(d)})}function oo(e){$e===null&&Fa(),ve(()=>{const t=Pe(e);if(typeof t=="function")return t})}function ta(e,t,n){if(e==null)return t(void 0),at;const i=Pe(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const Ut=[];function so(e,t=at){let n=null;const i=new Set;function a(o){if(Br(e,o)&&(e=o,n)){const s=!Ut.length;for(const u of i)u[1](),Ut.push(u,e);if(s){for(let u=0;u<Ut.length;u+=2)Ut[u][0](Ut[u+1]);Ut.length=0}}}function r(o){a(o(e))}function l(o,s=at){const u=[o,s];return i.add(u),i.size===1&&(n=t(a,r)||at),o(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:a,update:r,subscribe:l}}function uo(e){let t;return ta(e,n=>t=n)(),t}const co="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(co);var fo=C('<span class="badge badge-danger"></span>'),vo=C("<label> <!></label>"),_o=C('<small class="form-text text-muted"> </small>'),mo=C("<div><!> <!> <!></div>");function L(e,t){W(t,!0);let n=A(t,"attr",3,""),i=A(t,"attrShow",3,null),a=A(t,"hint",3,""),r=A(t,"label",3,""),l=A(t,"required",3,0),o=A(t,"showHint",3,0),s=A(t,"showLabel",3,1),u=Q(()=>n()?{attr:n()}:{}),f=he(je({}));ve(()=>{i()!==null&&(i()?ee(f,{style:""},!0):ee(f,{hidden:"",style:"display: none;"},!0))});var g=mo();N(g,()=>({id:`${t.id??""}-field`,class:"form-group",...h(u),...h(f),[$t]:{required:l()}}));var v=T(g);{var m=c=>{var _=vo(),x=T(_),w=y(x);{var S=E=>{var M=fo();M.textContent=window.trans("Required"),k(E,M)};oe(w,E=>{l()&&E(S)})}le(()=>{be(_,"for",t.id),De(x,`${r()??""} `)}),k(c,_)};oe(v,c=>{r()&&s()&&c(m)})}var b=y(v,2);ur(b,()=>t.children??at);var p=y(b,2);{var d=c=>{var _=_o(),x=T(_);le(()=>{be(_,"id",`${t.id??""}-field-help`),De(x,a())}),k(c,_)};oe(p,c=>{a()&&o()&&c(d)})}k(e,g),z()}function Yt(e){const t=e.getElementsByClassName("mt-contentfield");let n=0;for(let i=0;i<t.length;i++)n+=t[i].offsetHeight;n>=e.clientHeight||n>=400?jQuery(e).height(n+100):jQuery(e).height(392)}var ho=C("<input/>"),po=C("<input/>"),go=C("<input/> <label></label>",1),bo=C("<select><option></option><option></option><option></option><option></option></select>"),wo=C('<input/> <!> <!> <!> <!> <!> <div class="form-group-button"><button type="button" class="btn btn-default"></button></div>',1);function re(e,t){W(t,!0);let n=A(t,"field",15),i=A(t,"options",15);ve(()=>{i().display||i(i().display="default",!0)}),ve(()=>{const p=r();if(!p)return;const d=p.querySelectorAll("*");Array.prototype.slice.call(d).forEach(function(c){c.hasAttribute("id")&&!c.classList.contains("mt-custom-contentfield")&&c.setAttribute("id",c.getAttribute("id")+"-"+t.id),c.tagName.toLowerCase()==="label"&&c.hasAttribute("for")&&c.setAttribute("for",c.getAttribute("for")+"-"+t.id)})});const a=()=>{const p=r();if(!p)return;let d=p.className;p.className=d.replace(/\s*show\s*/,"");const c=document.getElementsByClassName("mt-draggable__area")[0];Yt(c),jQuery("a[aria-controls='field-options-"+n().id+"']").attr("aria-expanded","false")},r=()=>document.querySelector("#field-options-"+n().id);var l=wo(),o=D(l);N(o,()=>({type:"hidden",ref:"id",name:"id",id:`${t.type??""}-id`,class:"form-control",value:n().isNew?`id:${n().id}`:n().id}),void 0,void 0,void 0,void 0,!0);var s=y(o,2);L(s,{get id(){return`${t.type??""}-label`},label:window.trans("Label"),required:1,children:(p,d)=>{var c=ho(),_=x=>{n(n().label=x.currentTarget.value,!0)};N(c,()=>({type:"text",ref:"label",name:"label",id:`${t.type??""}-label`,class:"form-control html5-form",value:n().label,oninput:_,required:!0,"data-mt-content-field-unique":!0}),void 0,void 0,void 0,void 0,!0),k(p,c)},$$slots:{default:!0}});var u=y(s,2);L(u,{get id(){return`${t.type??""}-description`},label:window.trans("Description"),showHint:1,hint:window.trans("The entered message is displayed as a input field hint."),children:(p,d)=>{var c=po(),_=x=>{i(i().description=x.currentTarget.value,!0)};N(c,()=>({type:"text",ref:"description",name:"description",id:`${t.type??""}-description`,class:"form-control","aria-describedby":`${t.type??""}-description-field-help`,value:i().description,oninput:_}),void 0,void 0,void 0,void 0,!0),k(p,c)},$$slots:{default:!0}});var f=y(u,2);L(f,{get id(){return`${t.type??""}-required`},label:window.trans("Is this field required?"),children:(p,d)=>{var c=go(),_=D(c),x=S=>{i(i().required=S.currentTarget.checked,!0)};N(_,()=>({ref:"required",type:"checkbox",class:"mt-switch form-control",id:`${t.type??""}-required`,name:"required",checked:i().required,onchange:x}),void 0,void 0,void 0,void 0,!0);var w=y(_,2);w.textContent=window.trans("Is this field required?"),le(()=>be(w,"for",`${t.type??""}-required`)),k(p,c)},$$slots:{default:!0}});var g=y(f,2);L(g,{get id(){return`${t.type??""}-display`},label:window.trans("Display Options"),required:1,showHint:1,hint:window.trans("Choose the display options for this content field in the listing screen."),children:(p,d)=>{var c=bo(),_=M=>{i(i().display=M.currentTarget.value,!0)};N(c,()=>({ref:"display",name:"display",id:`${t.type??""}-display`,class:"custom-select form-control form-select",value:i().display,onchange:_}));var x=T(c);x.textContent=window.trans("Force"),x.value=x.__value="force";var w=y(x);w.textContent=window.trans("Default"),w.value=w.__value="default";var S=y(w);S.textContent=window.trans("Optional"),S.value=S.__value="optional";var E=y(S);E.textContent=window.trans("None"),E.value=E.__value="none",k(p,c)},$$slots:{default:!0}});var v=y(g,2);ur(v,()=>t.children??at);var m=y(v,2),b=T(m);b.__click=a,b.textContent=window.trans("Close"),k(e,l),z()}Et(["click"]);var yo=C('<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),xo=C("<div><!> <!> <!></div>");function ko(e,t){W(t,!0);let n=A(t,"blogId",3,""),i=A(t,"class",3,""),a=A(t,"didReplace",3,0),r=A(t,"dynamicAll",3,0),l=A(t,"hidden",3,""),o=A(t,"id",3,""),s=A(t,"noLink",3,""),u=A(t,"rebuild",3,""),f=Q(()=>{const x={};return o()&&(x.id=o()),i()?x.class="alert alert-"+i():x.class="alert alert-info",t.canClose&&(x["alert-dismissible"]=""),l()&&(x.style="display: none;"),i().match(/\bwarning|\bdanger/)&&(x.role="alert"),x});var g=xo();N(g,()=>({...h(f)}));var v=T(g);{var m=x=>{var w=yo();k(x,w)};oe(v,x=>{t.canClose&&x(m)})}var b=y(v,2);{var p=x=>{var w=ge(),S=D(w);ur(S,()=>t.msg),k(x,w)};oe(b,x=>{t.msg&&x(p)})}var d=y(b,2);{var c=x=>{var w=ge(),S=D(w);{var E=M=>{var P=ge(),F=D(P);un(F,()=>window.trans("[_1]Publish[_2] your [_3] to see these changes take effect.",`<a href="${window.CMSScriptURI}?__mode=rebuild_confirm&blog_id=${n()}&prompt=index" class="mt-rebuild alert-link">`,"</a>",u()==="blog"?window.trans("blog(s)"):window.trans("website(s)"))),k(M,P)};oe(S,M=>{s()||M(E)})}k(x,w)},_=x=>{var w=ge(),S=D(w);{var E=M=>{var P=ge(),F=D(P);{var V=X=>{var ue=ge(),se=D(ue);un(se,()=>window.trans("[_1]Publish[_2] your site to see these changes take effect, even when publishing profile is dynamic publishing.",`<a href="${window.CMSScriptURI}?__mode=rebuild_confirm&blog_id=${n()}" class="mt-rebuild alert-link">`,"</a>")),k(X,ue)},te=X=>{var ue=ge(),se=D(ue);{var we=de=>{var j=ge(),G=D(j);{var Z=ie=>{var ne=ge(),K=D(ne);un(K,()=>window.trans("[_1]Publish[_2] your site to see these changes take effect.",`<a href="${window.CMSScriptURI}?__mode=rebuild_confirm&blog_id=${n()}" class="mt-rebuild alert-link">`,"</a>")),k(ie,ne)};oe(G,ie=>{r()||ie(Z)})}k(de,j)},Ee=de=>{var j=ge(),G=D(j);{var Z=ne=>{var K=ge(),ye=D(K);{var Ie=xe=>{var Re=ge(),rt=D(Re);un(rt,()=>window.trans("[_1]Publish[_2] your site to see these changes take effect.",`<a href="${window.CMSScriptURI}?__mode=rebuild_confirm&blog_id=${n()}&prompt=index" class="mt-rebuild alert-link">`,"</a>")),k(xe,Re)};oe(ye,xe=>{r()||xe(Ie)})}k(ne,K)},ie=ne=>{var K=ge(),ye=D(K);un(ye,u),k(ne,K)};oe(G,ne=>{u()==="index"?ne(Z):ne(ie,!1)},!0)}k(de,j)};oe(se,de=>{u()==="all"?de(we):de(Ee,!1)},!0)}k(X,ue)};oe(F,X=>{u()==="cfg_prefs"?X(V):X(te,!1)})}k(M,P)};oe(S,M=>{t.canRebuild&&M(E)},!0)}k(x,w)};oe(d,x=>{a()?x(c):x(_,!1)})}k(e,g),z()}function na(e,t){W(t,!0);let n=A(t,"blogId",3,""),i=A(t,"canClose",7),a=A(t,"class",7,"info"),r=A(t,"id",3,""),l=A(t,"hidden",3,""),o=A(t,"noLink",3,""),s=A(t,"rebuild",3,"");ve(()=>{a()||a("info"),a(a().replace(/\balert\b/,"warning")),a(a().replace(/\berror\b/,"danger"))}),ve(()=>{r()&&(i()||i()===null)&&i(1)});{let u=Q(()=>l()??""),f=Q(()=>o()??"");ko(e,{get blogId(){return n()},get canClose(){return i()},canRebuild:0,get class(){return a()},didReplace:0,dynamicAll:0,get hidden(){return h(u)},get id(){return r()},get msg(){return t.msg},get noLink(){return h(f)},get rebuild(){return s()}})}z()}var So=C('<input/><label for="content_type-multiple" class="form-label"></label>',1),Co=C("<input/>"),Eo=C("<input/>"),To=C("<option> </option>"),$o=C("<select></select>"),Ao=C("<!> <!> <!> <!>",1);function Po(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15);const l=t.optionsHtmlParams.content_type.content_types;let o=Q(()=>({...r(),multiple:r().multiple===1||r().multiple==="1"||r().multiple===!0,can_add:r().can_add===1||r().can_add==="1"||r().can_add===!0,min:(n=r().min)!==null&&n!==void 0?n:"",max:(i=r().max)!==null&&i!==void 0?i:""}));re(e,{type:"content-type",get id(){return t.id},get field(){return a()},set field(s){a(s)},get options(){return r()},set options(s){r(s)},children:(s,u)=>{var f=Ao(),g=D(f);L(g,{id:"content_type-multiple",label:window.trans("Allow users to select multiple values?"),children:(p,d)=>{var c=So(),_=D(c),x=S=>{r(r().multiple=S.currentTarget.checked?1:0,!0)};N(_,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"content_type-multiple",name:"multiple",checked:h(o).multiple,onchange:x}),void 0,void 0,void 0,void 0,!0);var w=y(_);w.textContent=window.trans("Allow users to select multiple values?"),k(p,c)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"content_type-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(o).multiple},children:(p,d)=>{var c=Co(),_=x=>{r(r().min=x.currentTarget.value,!0)};N(c,()=>({ref:"min",type:"number",name:"min",id:"content_type-min",class:"form-control w-25",min:"0",value:h(o).min,onchange:_}),void 0,void 0,void 0,void 0,!0),k(p,c)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"content_type-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(o).multiple},children:(p,d)=>{var c=Eo(),_=x=>{r(r().max=x.currentTarget.value,!0)};N(c,()=>({ref:"max",type:"number",name:"max",id:"content_type-max",class:"form-control w-25",min:"1",value:h(o).max,onchange:_}),void 0,void 0,void 0,void 0,!0),k(p,c)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"content_type-source",required:1,label:window.trans("Source Content Type"),children:(p,d)=>{var c=ge(),_=D(c);{var x=S=>{var E=$o();N(E,()=>({ref:"source",name:"source",id:"content_type-source",class:"custom-select form-control html5-form form-select"})),dt(E,21,()=>l,ut,(M,P)=>{var F=To(),V=T(F),te={};le(()=>{De(V,h(P).name),te!==(te=h(P).id)&&(F.value=(F.__value=h(P).id)??"")}),k(M,F)}),Gi(E,()=>r().source,M=>r(r().source=M,!0)),k(S,E)},w=S=>{const E=M=>{var P=Vi();P.nodeValue=window.trans("There is no content type that can be selected. Please create a content type if you use the Content Type field type."),k(M,P)};na(S,{id:"no-content-type",class:"warning",canClose:0,get msg(){return E}})};oe(_,S=>{l.length>0?S(x):S(w,!1)})}k(p,c)},$$slots:{default:!0}}),k(s,f)},$$slots:{default:!0}}),z()}var Io=C("<input/>"),No=C("<input/>"),Mo=C("<input/>"),Lo=C("<!> <!> <!>",1);function Oo(e,t){W(t,!0);var n,i,a;let r=A(t,"field",15),l=A(t,"options",15),o=Q(()=>({...l(),min_length:(n=l().min_length)!==null&&n!==void 0?n:0,max_length:(i=l().max_length)!==null&&i!==void 0?i:255,initial_value:(a=l().initial_value)!==null&&a!==void 0?a:""}));re(e,{type:"single-line-text",get id(){return t.id},get field(){return r()},set field(s){r(s)},get options(){return l()},set options(s){l(s)},children:(s,u)=>{var f=Lo(),g=D(f);L(g,{id:"single_line_text-min_length",label:window.trans("Min Length"),children:(b,p)=>{var d=Io(),c=_=>{l(l().min_length=_.currentTarget.value,!0)};N(d,()=>({ref:"min_length",type:"number",name:"min_length",id:"single_line_text-min_length",class:"form-control w-25",min:"0",value:h(o).min_length,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"single_line_text-max_length",label:window.trans("Max Length"),children:(b,p)=>{var d=No(),c=_=>{l(l().max_length=_.currentTarget.value,!0)};N(d,()=>({ref:"max_length",type:"number",name:"max_length",id:"single_line_text-max_length",class:"form-control w-25",min:"1",value:h(o).max_length,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"single_line_text-initial_value",label:window.trans("Initial Value"),children:(b,p)=>{var d=Mo(),c=_=>{l(l().initial_value=_.currentTarget.value,!0)};N(d,()=>({ref:"initial_value",type:"text",name:"initial_value",id:"single_line_text-initial_value",class:"form-control",value:h(o).initial_value,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}}),k(s,f)},$$slots:{default:!0}}),z()}var Do=C("<textarea></textarea>"),Ro=C("<option> </option>"),Fo=C("<select></select>"),qo=C('<input/><label for="multi_line_text-full_rich_text" class="form-label"></label>',1),Vo=C("<!> <!> <!>",1);function jo(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15);const r=t.optionsHtmlParams.multi_line_text.text_filters;let l=Q(()=>({...a(),initial_value:(n=a().initial_value)!==null&&n!==void 0?n:"",full_rich_text:i().isNew?!0:a().full_rich_text===1||a().full_rich_text==="1"||a().full_rich_text===!0}));re(e,{type:"multi-line-text",get id(){return t.id},get field(){return i()},set field(o){i(o)},get options(){return a()},set options(o){a(o)},children:(o,s)=>{var u=Vo(),f=D(u);L(f,{id:"multi_line_text-initial_value",label:window.trans("Initial Value"),children:(m,b)=>{var p=Do(),d=c=>{a(a().initial_value=c.currentTarget.value,!0)};N(p,()=>({ref:"initial_value",name:"initial_value",id:"multi_line_text-initial_value",class:"form-control",value:h(l).initial_value,onchange:d})),k(m,p)},$$slots:{default:!0}});var g=y(f,2);L(g,{id:"multi_line_text-input_format",label:window.trans("Input format"),children:(m,b)=>{var p=Fo();N(p,()=>({ref:"input_format",name:"input_format",id:"multi_line_text-input_format",class:"custom-select form-control form-select"})),dt(p,21,()=>r,ut,(d,c)=>{var _=Ro(),x=T(_),w={};le(()=>{De(x,h(c).filter_label),w!==(w=h(c).filter_key)&&(_.value=(_.__value=h(c).filter_key)??"")}),k(d,_)}),Gi(p,()=>a().input_format,d=>a(a().input_format=d,!0)),k(m,p)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"multi_line_text-full_rich_text",label:window.trans("Use all rich text decoration buttons"),children:(m,b)=>{var p=qo(),d=D(p),c=x=>{a(a().full_rich_text=x.currentTarget.checked?1:0,!0)};N(d,()=>({ref:"full_rich_text",type:"checkbox",class:"mt-switch form-control",id:"multi_line_text-full_rich_text",name:"full_rich_text",checked:h(l).full_rich_text,onchange:c}),void 0,void 0,void 0,void 0,!0);var _=y(d);_.textContent=window.trans("Use all rich text decoration buttons"),k(m,p)},$$slots:{default:!0}}),k(o,u)},$$slots:{default:!0}}),z()}var Qo=C("<input/>"),Ho=C("<input/>"),Bo=C("<input/>"),Uo=C("<input/>"),Yo=C("<!> <!> <!> <!>",1);function Wo(e,t){W(t,!0);var n,i,a,r;let l=A(t,"field",15),o=A(t,"options",15),s=Q(()=>({...o(),min_value:(n=o().min_value)!==null&&n!==void 0?n:t.config.NumberFieldMinValue,max_value:(i=o().max_value)!==null&&i!==void 0?i:t.config.NumberFieldMaxValue,decimal_places:(a=o().decimal_places)!==null&&a!==void 0?a:0,initial_value:(r=o().initial_value)!==null&&r!==void 0?r:""}));jQuery(function(){jQuery(document).on("keyup","input[id^=number-min_value-field-options-], input[id^=number-max_value-field-options-]",function(){const f=this.id.match(/[^-]+$/);if(!f)return;const v="#number-initial_value-field-options-"+f[0],m=jQuery(v);m.data("mtValidator")&&m.mtValid({focus:!1})})}),re(e,{type:"number",get id(){return t.id},get field(){return l()},set field(u){l(u)},get options(){return o()},set options(u){o(u)},children:(u,f)=>{var g=Yo(),v=D(g);L(v,{id:"number-min_value",label:window.trans("Min Value"),children:(d,c)=>{var _=Qo(),x=w=>o(o().min_value=w.currentTarget.value,!0);N(_,()=>({ref:"min_value",type:"number",name:"min_value",id:"number-min_value",class:"form-control html5-form w-25",value:h(s).min_value,min:t.config.NumberFieldMinValue,max:t.config.NumberFieldMaxValue,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"number-max_value",label:window.trans("Max Value"),children:(d,c)=>{var _=Ho(),x=w=>o(o().max_value=w.currentTarget.value,!0);N(_,()=>({ref:"max_value",type:"number",name:"max_value",id:"number-max_value",class:"form-control html5-form w-25",value:h(s).max_value,min:t.config.NumberFieldMinValue,max:t.config.NumberFieldMaxValue,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"number-decimal_places",label:window.trans("Number of decimal places"),children:(d,c)=>{var _=Bo(),x=w=>{o(o().decimal_places=w.currentTarget.value,!0)};N(_,()=>({ref:"decimal_places",type:"number",name:"decimal_places",id:"number-decimal_places",class:"form-control html5-form w-25",min:"0",max:t.config.NumberFieldDecimalPlaces,value:h(s).decimal_places,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var p=y(b,2);L(p,{id:"number-initial_value",label:window.trans("Initial Value"),children:(d,c)=>{var _=Uo(),x=w=>{o(o().initial_value=w.currentTarget.value,!0)};N(_,()=>({ref:"initial_value",type:"number",name:"initial_value",id:"number-initial_value",class:"form-control html5-form w-25",value:h(s).initial_value,min:h(s).min_value,max:h(s).max_value,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}}),k(u,g)},$$slots:{default:!0}}),z()}var zo=C("<input/>");function Go(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15),r=Q(()=>({...a(),initial_value:(n=a().initial_value)!==null&&n!==void 0?n:""}));re(e,{type:"url",get id(){return t.id},get field(){return i()},set field(l){i(l)},get options(){return a()},set options(l){a(l)},children:(l,o)=>{L(l,{id:"url-initial_value",label:window.trans("Initial Value"),children:(s,u)=>{var f=zo(),g=v=>{a(a().initial_value=v.currentTarget.value,!0)};N(f,()=>({ref:"initial_value",type:"text",name:"initial_value",id:"url-initial_value",class:"form-control",value:h(r).initial_value,onchange:g}),void 0,void 0,void 0,void 0,!0),k(s,f)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}var Ko=C("<input/>"),Jo=C("<input/>"),Xo=C("<!> <!>",1);function Zo(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15),l=Q(()=>({...r(),initial_date:(n=r().initial_date)!==null&&n!==void 0?n:"",initial_time:(i=r().initial_time)!==null&&i!==void 0?i:""}));re(e,{type:"date-and-time",get id(){return t.id},get field(){return a()},set field(o){a(o)},get options(){return r()},set options(o){r(o)},children:(o,s)=>{var u=Xo(),f=D(u);L(f,{id:"date_and_time-initial-date_value",label:window.trans("Initial Value (Date)"),children:(v,m)=>{var b=Ko(),p=d=>{r(r().initial_date=d.currentTarget.value,!0)};N(b,()=>({ref:"initial_date",type:"text",name:"initial_date",id:"date_and_time-initial_date",class:"form-control date-field w-25",value:h(l).initial_date,onchange:p,placeholder:"YYYY-MM-DD"}),void 0,void 0,void 0,void 0,!0),k(v,b)},$$slots:{default:!0}});var g=y(f,2);L(g,{id:"date_and_time-initial-timevalue",label:window.trans("Initial Value (Time)"),children:(v,m)=>{var b=Jo(),p=d=>{r(r().initial_time=d.currentTarget.value,!0)};N(b,()=>({ref:"initial_time",type:"text",name:"initial_time",id:"date_and_time-initial_time",class:"form-control time-field w-25",value:h(l).initial_time,onchange:p,placeholder:"HH:mm:ss"}),void 0,void 0,void 0,void 0,!0),k(v,b)},$$slots:{default:!0}}),k(o,u)},$$slots:{default:!0}}),z()}var es=C("<input/>");function ts(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15),r=Q(()=>({...a(),initial_value:(n=a().initial_value)!==null&&n!==void 0?n:""}));re(e,{type:"date-only",get id(){return t.id},get field(){return i()},set field(l){i(l)},get options(){return a()},set options(l){a(l)},children:(l,o)=>{L(l,{id:"date_only-initial-date_value",label:window.trans("Initial Value"),children:(s,u)=>{var f=es(),g=v=>{a(a().initial_value=v.currentTarget.value,!0)};N(f,()=>({ref:"initial_value",type:"text",name:"initial_value",id:"initial_value",class:"form-control date-field w-25",value:h(r).initial_value,onchange:g,placeholder:"YYYY-MM-DD"}),void 0,void 0,void 0,void 0,!0),k(s,f)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}var ns=C("<input/>");function rs(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15),r=Q(()=>({...a(),initial_value:(n=a().initial_value)!==null&&n!==void 0?n:""}));re(e,{type:"time-only",get id(){return t.id},get field(){return i()},set field(l){i(l)},get options(){return a()},set options(l){a(l)},children:(l,o)=>{L(l,{id:"time_only-initial-value",label:window.trans("Initial Value"),children:(s,u)=>{var f=ns(),g=v=>{a(a().initial_value=v.currentTarget.value,!0)};N(f,()=>({ref:"initial_value",type:"text",name:"initial_value",id:"time_only-initial-value",class:"form-control time-field w-25",placeholder:"HH:mm:ss",value:h(r).initial_value,onchange:g}),void 0,void 0,void 0,void 0,!0),k(s,f)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}const hr=e=>(e.push({checked:"",label:"",value:""}),e),pr=(e,t)=>{if(e.splice(t,1),e.length===0)e=[{checked:"checked",label:"",value:""}];else{let n=!1;e.forEach(function(i){i.checked==="checked"&&(n=!0)}),n||(e[0].checked="checked")}return e},gr=e=>{const t=jQuery(e);if(t.data("mtValidator")){const n=t.find("input[type=text]:not(.is-invalid)");n.length>0?n.mtValidate("simple"):t.mtValid({focus:!1})}};var is=C('<input/><label for="select_box-multiple" class="form-label"></label>',1),as=C("<input/>"),ls=C("<input/>"),os=C('<tr class="text-center align-middle"><td><input type="checkbox" class="form-check-input mt-3"/></td><td><input type="text" class="form-control required" name="label"/></td><td><input type="text" class="form-control required" name="value"/></td><td><button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button></td></tr>'),ss=C('<div class="mt-table--outline mb-3"><table><thead><tr><th scope="col"></th><th scope="col"></th><th scope="col"></th><th scope="col"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button>',1),us=C("<!> <!> <!> <!>",1);function ds(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"gather",15),l=A(t,"options",15),o=Q(()=>({...l(),multiple:l().multiple===1||l().multiple==="1"||l().multiple===!0,can_add:l().can_add===1||l().can_add==="1"||l().can_add===!0,min:(n=l().min)!==null&&n!==void 0?n:"",max:(i=l().max)!==null&&i!==void 0?i:""})),s;ve(()=>{l().values||l(l().values=[{checked:"",label:"",value:""}],!0)}),ve(()=>{s&&gr(s)}),r(()=>({values:l().values}));const u=(p,d)=>{const _=p.target.checked,x=jQuery(p.target).parents(".mt-contentfield");(!l().multiple||l().multiple===0||l().multiple===!1)&&m(x),p.target.checked=_,l(l().values[d].checked=_?"checked":"",!0),(l().multiple||l().multiple===1)&&v(x),b()},f=p=>{const d=p.target,c=jQuery(d).parents(".mt-contentfield");l(l().multiple=d.checked,!0),!l().multiple&&c.find(".values-option-table").find('input[type="checkbox"]:checked').length>1&&m(c),b()},g=p=>{const d=jQuery(p.target).parents(".mt-contentfield");v(d)},v=p=>{const d=Number(p.find('input[name="max"]').val()),c=p.find(".values-option-table").find('input[type="checkbox"]:checked').length;if(d===0||c<d){const _=p.find(".values-option-table").find('input[type="checkbox"]');jQuery.each(_,function(x){jQuery(_[x]).prop("disabled",!1)})}else{const _=p.find(".values-option-table").find('input[type="checkbox"]:not(:checked)');jQuery.each(_,function(x){jQuery(_[x]).prop("disabled",!0)})}},m=p=>{const d=p.find(".values-option-table").find('input[type="checkbox"]');d.length>1&&jQuery.each(d,function(c){const _=jQuery(d[c]);_.prop("checked",!1),_.prop("disabled",!1)}),l().values.forEach(function(c){c.checked=""})},b=()=>{l({...l()})};re(e,{type:"select-box",get id(){return t.id},get field(){return a()},set field(p){a(p)},get options(){return l()},set options(p){l(p)},children:(p,d)=>{var c=us(),_=D(c);L(_,{id:"select_box-multiple",label:window.trans("Allow users to select multiple values?"),children:(E,M)=>{var P=is(),F=D(P);N(F,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control form-check-input",id:"select_box-multiple",name:"multiple",checked:h(o).multiple,onclick:f}),void 0,void 0,void 0,void 0,!0);var V=y(F);V.textContent=window.trans("Allow users to select multiple values?"),k(E,P)},$$slots:{default:!0}});var x=y(_,2);{let E=Q(()=>!!h(o).multiple);L(x,{id:"select_box-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(E)},children:(M,P)=>{var F=as(),V=te=>{l(l().min=te.currentTarget.value,!0)};N(F,()=>({ref:"min",type:"number",name:"min",id:"select_box-min",class:"form-control w-25",min:"0",value:h(o).min,onchange:V}),void 0,void 0,void 0,void 0,!0),k(M,F)},$$slots:{default:!0}})}var w=y(x,2);{let E=Q(()=>!!h(o).multiple);L(w,{id:"select_box-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(E)},children:(M,P)=>{var F=ls();N(F,()=>({ref:"max",type:"number",name:"max",id:"select_box-max",class:"form-control w-25",min:"1",value:h(o).max,onchange:g}),void 0,void 0,void 0,void 0,!0),k(M,F)},$$slots:{default:!0}})}var S=y(w,2);L(S,{id:"select_box-values",required:1,label:window.trans("Values"),children:(E,M)=>{var P=ss(),F=D(P),V=T(F);N(V,()=>({class:"table mt-table values-option-table",ref:"table"}));var te=T(V),X=T(te),ue=T(X);ue.textContent=window.trans("Selected");var se=y(ue);se.textContent=window.trans("Label");var we=y(se);we.textContent=window.trans("Value");var Ee=y(te);dt(Ee,21,()=>l().values,ut,(ne,K,ye)=>{var Ie=os(),xe=T(Ie),Re=T(xe);Re.__change=it=>{u(it,ye)};var rt=y(xe),zt=T(rt),_t=y(rt),It=T(_t),Nt=y(_t),mt=T(Nt);mt.__click=()=>{l(l().values=pr(l().values,ye),!0)};var Mt=T(mt),Fe=T(Mt);Fe.textContent=window.trans("delete");var _n=y(Fe);At(_n,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_trash`);var Gt=y(Mt,1,!0);Gt.nodeValue=window.trans("delete"),le(()=>$n(Re,h(K).checked)),Ht(zt,()=>h(K).label,it=>h(K).label=it),Ht(It,()=>h(K).value,it=>h(K).value=it),k(ne,Ie)}),Bt(V,ne=>s=ne,()=>s);var de=y(F,2);de.__click=()=>{l(l().values=hr(l().values),!0)};var j=T(de),G=T(j);G.textContent=window.trans("add");var Z=y(G);At(Z,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_add`);var ie=y(j,1,!0);ie.nodeValue=window.trans("add"),k(E,P)},$$slots:{default:!0}}),k(p,c)},$$slots:{default:!0}}),z()}Et(["change","click"]);var cs=C('<tr class="text-center align-middle"><td><input type="radio" class="form-check-input mt-3"/></td><td><input type="text" class="form-control required" name="label"/></td><td><input type="text" class="form-control required" name="value"/></td><td><button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button></td></tr>'),fs=C('<div class="mt-table--outline mb-3"><table><thead><tr><th scope="col"></th><th scope="col"></th><th scope="col"></th><th scope="col"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button>',1);function vs(e,t){W(t,!0);let n=A(t,"field",15),i=A(t,"gather",15),a=A(t,"options",15),r;ve(()=>{a().values||a(a().values=[{checked:"",label:"",value:""}],!0)}),ve(()=>{r&&gr(r)}),i(()=>({values:a().values}));const l=s=>{a().values.forEach(function(u){u.checked=""}),a(a().values[s].checked="checked",!0),o()},o=()=>{a({...a()})};re(e,{type:"radio-button",get id(){return t.id},get field(){return n()},set field(s){n(s)},get options(){return a()},set options(s){a(s)},children:(s,u)=>{L(s,{id:"radio_button-values",required:1,label:window.trans("Values"),children:(f,g)=>{var v=fs(),m=D(v),b=T(m);N(b,()=>({class:"table mt-table values-option-table",ref:"table"}));var p=T(b),d=T(p),c=T(d);c.textContent=window.trans("Selected");var _=y(c);_.textContent=window.trans("Label");var x=y(_);x.textContent=window.trans("Value");var w=y(p);dt(w,21,()=>a().values,ut,(V,te,X)=>{var ue=cs(),se=T(ue),we=T(se);we.__change=()=>{l(X)};var Ee=y(se),de=T(Ee),j=y(Ee),G=T(j),Z=y(j),ie=T(Z);ie.__click=()=>{a(a().values=pr(a().values,X),!0)};var ne=T(ie),K=T(ne);K.textContent=window.trans("delete");var ye=y(K);At(ye,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_trash`);var Ie=y(ne,1,!0);Ie.nodeValue=window.trans("delete"),le(()=>{be(we,"name",t.id+"-initial"),$n(we,!!h(te).checked)}),Ht(de,()=>h(te).label,xe=>h(te).label=xe),Ht(G,()=>h(te).value,xe=>h(te).value=xe),k(V,ue)}),Bt(b,V=>r=V,()=>r);var S=y(m,2);S.__click=()=>{a(a().values=hr(a().values),!0)};var E=T(S),M=T(E);M.textContent=window.trans("add");var P=y(M);At(P,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_add`);var F=y(E,1,!0);F.nodeValue=window.trans("add"),k(f,v)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}Et(["change","click"]);var _s=C("<input/>"),ms=C("<input/>"),hs=C('<tr class="text-center align-middle"><td><input type="checkbox" class="form-check-input mt-3"/></td><td><input type="text" class="form-control required" name="label"/></td><td><input type="text" class="form-control required" name="value"/></td><td><button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button></td></tr>'),ps=C('<div class="mt-table--outline mb-3"><table><thead><tr><th scope="col"></th><th scope="col"></th><th scope="col"></th><th scope="col"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="btn btn-default btn-sm"><svg role="img" class="mt-icon mt-icon--sm"><title></title><use></use></svg> </button>',1),gs=C("<!> <!> <!>",1);function bs(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"gather",15),l=A(t,"options",15),o=Q(()=>({...l(),multiple:l().multiple===1||l().multiple==="1"||l().multiple===!0,can_add:l().can_add===1||l().can_add==="1"||l().can_add===!0,min:(n=l().min)!==null&&n!==void 0?n:"",max:(i=l().max)!==null&&i!==void 0?i:""})),s;ve(()=>{l().values||l(l().values=[{checked:"",label:"",value:""}],!0)}),ve(()=>{s&&gr(s)}),r(()=>({values:l().values}));const u=(m,b)=>{const d=m.target.checked,c=jQuery(m.target).parents(".mt-contentfield");m.target.checked=d,l(l().values[b].checked=d?"checked":"",!0),g(c),v()},f=m=>{const b=jQuery(m.target).parents(".mt-contentfield");g(b)},g=m=>{const b=Number(m.find('input[name="max"]').val()),p=m.find(".values-option-table").find('input[type="checkbox"]:checked').length;if(b===0||p<b){const d=m.find(".values-option-table").find('input[type="checkbox"]');jQuery.each(d,function(c){jQuery(d[c]).prop("disabled",!1)})}else{const d=m.find(".values-option-table").find('input[type="checkbox"]:not(:checked)');jQuery.each(d,function(c){jQuery(d[c]).prop("disabled",!0)})}},v=()=>{l({...l()})};re(e,{type:"checkboxes",get id(){return t.id},get field(){return a()},set field(m){a(m)},get options(){return l()},set options(m){l(m)},children:(m,b)=>{var p=gs(),d=D(p);L(d,{id:"checkboxes-min",label:window.trans("Minimum number of selections"),children:(x,w)=>{var S=_s(),E=M=>{l(l().min=M.currentTarget.value,!0)};N(S,()=>({ref:"min",type:"number",name:"min",id:"checkboxes-min",class:"form-control w-25",min:"0",value:h(o).min,onchange:E}),void 0,void 0,void 0,void 0,!0),k(x,S)},$$slots:{default:!0}});var c=y(d,2);L(c,{id:"checkboxes-max",label:window.trans("Maximum number of selections"),children:(x,w)=>{var S=ms();N(S,()=>({ref:"max",type:"number",name:"max",id:"checkboxes-max",class:"form-control w-25",min:"1",value:h(o).max,onchange:f}),void 0,void 0,void 0,void 0,!0),k(x,S)},$$slots:{default:!0}});var _=y(c,2);L(_,{id:"checkboxes-values",required:1,label:window.trans("Values"),children:(x,w)=>{var S=ps(),E=D(S),M=T(E);N(M,()=>({class:"table mt-table values-option-table",ref:"table"}));var P=T(M),F=T(P),V=T(F);V.textContent=window.trans("Selected");var te=y(V);te.textContent=window.trans("Label");var X=y(te);X.textContent=window.trans("Value");var ue=y(P);dt(ue,21,()=>l().values,ut,(G,Z,ie)=>{var ne=hs(),K=T(ne),ye=T(K);ye.__change=Fe=>{u(Fe,ie)};var Ie=y(K),xe=T(Ie),Re=y(Ie),rt=T(Re),zt=y(Re),_t=T(zt);_t.__click=()=>{l(l().values=pr(l().values,ie),!0)};var It=T(_t),Nt=T(It);Nt.textContent=window.trans("delete");var mt=y(Nt);At(mt,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_trash`);var Mt=y(It);Mt.nodeValue=` ${window.trans("delete")??""}`,le(()=>$n(ye,!!h(Z).checked)),Ht(xe,()=>h(Z).label,Fe=>h(Z).label=Fe),Ht(rt,()=>h(Z).value,Fe=>h(Z).value=Fe),k(G,ne)}),Bt(M,G=>s=G,()=>s);var se=y(E,2);se.__click=()=>{l(l().values=hr(l().values),!0)};var we=T(se),Ee=T(we);Ee.textContent=window.trans("add");var de=y(Ee);At(de,"xlink:href",`${window.StaticURI??""}images/sprite.svg#ic_add`);var j=y(we);j.nodeValue=` ${window.trans("add")??""}`,k(x,S)},$$slots:{default:!0}}),k(m,p)},$$slots:{default:!0}}),z()}Et(["change","click"]);var ws=C('<input/><label for="asset-multiple" class="form-label"></label>',1),ys=C("<input/>"),xs=C("<input/>"),ks=C('<input/><label for="asset-allow_upload" class="form-label"></label>',1),Ss=C("<!> <!> <!> <!>",1);function Cs(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15),l=Q(()=>({...r(),multiple:r().multiple===1||r().multiple==="1"||r().multiple===!0,allow_upload:r().allow_upload===1||r().allow_upload==="1"||r().allow_upload===!0,min:(n=r().min)!==null&&n!==void 0?n:"",max:(i=r().max)!==null&&i!==void 0?i:""}));re(e,{type:"asset",get id(){return t.id},get field(){return a()},set field(o){a(o)},get options(){return r()},set options(o){r(o)},children:(o,s)=>{var u=Ss(),f=D(u);L(f,{id:"asset-multiple",label:window.trans("Allow users to select multiple assets?"),children:(b,p)=>{var d=ws(),c=D(d),_=w=>{r(r().multiple=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"asset-multiple",name:"multiple",checked:h(l).multiple,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to select multiple assets?"),k(b,d)},$$slots:{default:!0}});var g=y(f,2);L(g,{id:"asset-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=ys(),c=_=>{r(r().min=_.currentTarget.value,!0)};N(d,()=>({ref:"min",type:"number",name:"min",id:"asset-min",class:"form-control w-25",min:"0",value:h(l).min,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"asset-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=xs(),c=_=>{r(r().max=_.currentTarget.value,!0)};N(d,()=>({ref:"max",type:"number",name:"max",id:"asset-max",class:"form-control w-25",min:"1",value:h(l).max,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"asset-allow_upload",label:window.trans("Allow users to upload a new asset?"),children:(b,p)=>{var d=ks(),c=D(d),_=w=>{r(r().allow_upload=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"allow_upload",type:"checkbox",class:"mt-switch form-control",id:"asset-allow_upload",name:"allow_upload",checked:h(l).allow_upload,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to upload a new asset?"),k(b,d)},$$slots:{default:!0}}),k(o,u)},$$slots:{default:!0}}),z()}var Es=C('<input/><label for="asset_audio-multiple" class="form-label"></label>',1),Ts=C("<input/>"),$s=C("<input/>"),As=C('<input/><label for="asset_audio-allow_upload" class="form-label"></label>',1),Ps=C("<!> <!> <!> <!>",1);function Is(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15),l=Q(()=>({...r(),multiple:r().multiple===1||r().multiple==="1"||r().multiple===!0,allow_upload:r().allow_upload===1||r().allow_upload==="1"||r().allow_upload===!0,min:(n=r().min)!==null&&n!==void 0?n:"",max:(i=r().max)!==null&&i!==void 0?i:""}));re(e,{type:"asset-audio",get id(){return t.id},get field(){return a()},set field(o){a(o)},get options(){return r()},set options(o){r(o)},children:(o,s)=>{var u=Ps(),f=D(u);L(f,{id:"asset_audio-multiple",label:window.trans("Allow users to select multiple assets?"),children:(b,p)=>{var d=Es(),c=D(d),_=w=>{r(r().multiple=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"asset_audio-multiple",name:"multiple",checked:h(l).multiple,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to select multiple assets?"),k(b,d)},$$slots:{default:!0}});var g=y(f,2);L(g,{id:"asset_audio-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=Ts(),c=_=>{r(r().min=_.currentTarget.value,!0)};N(d,()=>({ref:"min",type:"number",name:"min",id:"asset_audio-min",class:"form-control w-25",min:"0",value:h(l).min,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"asset_audio-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=$s(),c=_=>{r(r().max=_.currentTarget.value,!0)};N(d,()=>({ref:"max",type:"number",name:"max",id:"asset_audio-max",class:"form-control w-25",min:"1",value:h(l).max,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"asset_audio-allow_upload",label:window.trans("Allow users to upload a new audio asset?"),children:(b,p)=>{var d=As(),c=D(d),_=w=>{r(r().allow_upload=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"allow_upload",type:"checkbox",class:"mt-switch form-control",id:"asset_audio-allow_upload",name:"allow_upload",checked:h(l).allow_upload,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to upload a new audio asset?"),k(b,d)},$$slots:{default:!0}}),k(o,u)},$$slots:{default:!0}}),z()}var Ns=C('<input/><label for="asset_video-multiple" class="form-label"></label>',1),Ms=C("<input/>"),Ls=C("<input/>"),Os=C('<input/><label for="asset_video-allow_upload" class="form-label"></label>',1),Ds=C("<!> <!> <!> <!>",1);function Rs(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15),l=Q(()=>({...r(),multiple:r().multiple===1||r().multiple==="1"||r().multiple===!0,allow_upload:r().allow_upload===1||r().allow_upload==="1"||r().allow_upload===!0,min:(n=r().min)!==null&&n!==void 0?n:"",max:(i=r().max)!==null&&i!==void 0?i:""}));re(e,{type:"asset-video",get id(){return t.id},get field(){return a()},set field(o){a(o)},get options(){return r()},set options(o){r(o)},children:(o,s)=>{var u=Ds(),f=D(u);L(f,{id:"asset_video-multiple",label:window.trans("Allow users to select multiple video assets?"),children:(b,p)=>{var d=Ns(),c=D(d),_=w=>{r(r().multiple=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"asset_video-multiple",name:"multiple",checked:h(l).multiple,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to select multiple video assets?"),k(b,d)},$$slots:{default:!0}});var g=y(f,2);L(g,{id:"asset_video-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=Ms(),c=_=>{r(r().min=_.currentTarget.value,!0)};N(d,()=>({ref:"min",type:"number",name:"min",id:"asset_video-min",class:"form-control w-25",min:"0",value:h(l).min,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"asset_video-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(l).multiple},children:(b,p)=>{var d=Ls(),c=_=>{r(r().max=_.currentTarget.value,!0)};N(d,()=>({ref:"max",type:"number",name:"max",id:"asset_video-max",class:"form-control w-25",min:"1",value:h(l).max,onchange:c}),void 0,void 0,void 0,void 0,!0),k(b,d)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"asset_video-allow_upload",label:window.trans("Allow users to upload a new video asset?"),children:(b,p)=>{var d=Os(),c=D(d),_=w=>{r(r().allow_upload=w.currentTarget.checked?1:0,!0)};N(c,()=>({ref:"allow_upload",type:"checkbox",class:"mt-switch form-control",id:"asset_video-allow_upload",name:"allow_upload",checked:h(l).allow_upload,onchange:_}),void 0,void 0,void 0,void 0,!0);var x=y(c);x.textContent=window.trans("Allow users to upload a new video asset?"),k(b,d)},$$slots:{default:!0}}),k(o,u)},$$slots:{default:!0}}),z()}var Fs=C('<input/><label for="asset_image-multiple" class="form-label"></label>',1),qs=C("<input/>"),Vs=C("<input/>"),js=C('<input/><label for="asset_image-allow_upload" class="form-label"></label>',1),Qs=C("<input/>"),Hs=C("<input/>"),Bs=C("<!> <!> <!> <!> <!> <!>",1);function Us(e,t){W(t,!0);var n,i,a,r;let l=A(t,"field",15),o=A(t,"options",15),s=Q(()=>({...o(),multiple:o().multiple===1||o().multiple==="1"||o().multiple===!0,allow_upload:o().allow_upload===1||o().allow_upload==="1"||o().allow_upload===!0,min:(n=o().min)!==null&&n!==void 0?n:"",max:(i=o().max)!==null&&i!==void 0?i:"",preview_width:(a=o().preview_width)!==null&&a!==void 0?a:80,preview_height:(r=o().preview_height)!==null&&r!==void 0?r:80}));re(e,{type:"asset-image",get id(){return t.id},get field(){return l()},set field(u){l(u)},get options(){return o()},set options(u){o(u)},children:(u,f)=>{var g=Bs(),v=D(g);L(v,{id:"asset_image-multiple",label:window.trans("Allow users to select multiple image assets?"),children:(_,x)=>{var w=Fs(),S=D(w),E=P=>{o(o().multiple=P.currentTarget.checked?1:0,!0)};N(S,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"asset_image-multiple",name:"multiple",checked:h(s).multiple,onchange:E}),void 0,void 0,void 0,void 0,!0);var M=y(S);M.textContent=window.trans("Allow users to select multiple image assets?"),k(_,w)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"asset_image-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(s).multiple},children:(_,x)=>{var w=qs(),S=E=>{o(o().min=E.currentTarget.value,!0)};N(w,()=>({ref:"min",type:"number",name:"min",id:"asset_image-min",class:"form-control w-25",min:"0",value:h(s).min,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"asset_image-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(s).multiple},children:(_,x)=>{var w=Vs(),S=E=>{o(o().max=E.currentTarget.value,!0)};N(w,()=>({ref:"max",type:"number",name:"max",id:"asset_image-max",class:"form-control w-25",min:"1",value:h(s).max,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var p=y(b,2);L(p,{id:"asset_image-allow_upload",label:window.trans("Allow users to upload a new image asset?"),children:(_,x)=>{var w=js(),S=D(w);N(S,()=>({ref:"allow_upload",type:"checkbox",class:"mt-switch form-control",id:"asset_image-allow_upload",name:"allow_upload",checked:h(s).allow_upload}),void 0,void 0,void 0,void 0,!0);var E=y(S);E.textContent=window.trans("Allow users to upload a new image asset?"),k(_,w)},$$slots:{default:!0}});var d=y(p,2);L(d,{id:"asset_image-preview_width",label:window.trans("Thumbnail width"),children:(_,x)=>{var w=Qs(),S=E=>{o(o().preview_width=E.currentTarget.value,!0)};N(w,()=>({ref:"preview_width",type:"number",class:"form-control w-25",id:"asset_image-preview_width",name:"preview_width",value:h(s).preview_width,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var c=y(d,2);L(c,{id:"asset_image-preview_height",label:window.trans("Thumbnail height"),children:(_,x)=>{var w=Hs(),S=E=>{o(o().preview_height=E.currentTarget.value,!0)};N(w,()=>({ref:"preview_height",type:"number",class:"form-control w-25",id:"asset_image-preview_height",name:"preview_height",value:h(s).preview_height,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}}),k(u,g)},$$slots:{default:!0}}),z()}var Ys=C("<textarea></textarea>");function Ws(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15),r=Q(()=>({...a(),initial_value:(n=a().initial_value)!==null&&n!==void 0?n:""}));re(e,{type:"embedded-text",get id(){return t.id},get field(){return i()},set field(l){i(l)},get options(){return a()},set options(l){a(l)},children:(l,o)=>{L(l,{id:"embedded_text-initial_value",label:window.trans("Initial Value"),children:(s,u)=>{var f=Ys(),g=v=>{a(a().initial_value=v.currentTarget.value,!0)};N(f,()=>({ref:"initial_value",name:"initial_value",id:"embeddedded_text-initial_value",class:"form-control",value:h(r).initial_value,onchange:g})),k(s,f)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}var zs=C('<input/><label for="categories-multiple" class="form-label"></label>',1),Gs=C("<input/>"),Ks=C("<input/>"),Js=C('<input/><label for="categories-can_add" class="form-label"></label>',1),Xs=C("<option> </option>"),Zs=C("<select></select>"),eu=C("<!> <!> <!> <!> <!>",1);function tu(e,t){W(t,!0);var n,i;let a=A(t,"field",15),r=A(t,"options",15);const l=t.optionsHtmlParams.categories.category_sets;let o=Q(()=>({...r(),multiple:r().multiple===1||r().multiple==="1"||r().multiple===!0,can_add:r().can_add===1||r().can_add==="1"||r().can_add===!0,min:(n=r().min)!==null&&n!==void 0?n:"",max:(i=r().max)!==null&&i!==void 0?i:""}));re(e,{type:"categories",get id(){return t.id},get field(){return a()},set field(s){a(s)},get options(){return r()},set options(s){r(s)},children:(s,u)=>{var f=eu(),g=D(f);L(g,{id:"categories-multiple",label:window.trans("Allow users to select multiple categories?"),children:(d,c)=>{var _=zs(),x=D(_),w=E=>{r(r().multiple=E.currentTarget.checked?1:0,!0)};N(x,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"categories-multiple",name:"multiple",checked:h(o).multiple,onchange:w}),void 0,void 0,void 0,void 0,!0);var S=y(x);S.textContent=window.trans("Allow users to select multiple categories?"),k(d,_)},$$slots:{default:!0}});var v=y(g,2);L(v,{id:"categories-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(o).multiple},children:(d,c)=>{var _=Gs(),x=w=>{r(r().min=w.currentTarget.value,!0)};N(_,()=>({ref:"min",type:"number",name:"min",id:"categories-min",class:"form-control w-25",min:"0",value:h(o).min,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"categories-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(o).multiple},children:(d,c)=>{var _=Ks(),x=w=>{r(r().max=w.currentTarget.value,!0)};N(_,()=>({ref:"max",type:"number",name:"max",id:"categories-max",class:"form-control w-25",min:"1",value:h(o).max,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"categories-can_add",label:window.trans("Allow users to create new categories?"),children:(d,c)=>{var _=Js(),x=D(_),w=E=>{r(r().can_add=E.currentTarget.checked?1:0,!0)};N(x,()=>({ref:"can_add",type:"checkbox",class:"mt-switch form-control",id:"categories-can_add",name:"can_add",checked:h(o).can_add,onchange:w}),void 0,void 0,void 0,void 0,!0);var S=y(x);S.textContent=window.trans("Allow users to create new categories?"),k(d,_)},$$slots:{default:!0}});var p=y(b,2);L(p,{id:"categories-category_set",label:window.trans("Source Category Set"),required:1,children:(d,c)=>{var _=ge(),x=D(_);{var w=E=>{var M=Zs();N(M,()=>({ref:"category_sets",name:"category_set",id:"categories-category_set",class:"custom-select form-control html5-form form-select",value:r().category_set})),dt(M,21,()=>l,ut,(P,F)=>{var V=Xs(),te=T(V),X={};le(()=>{De(te,h(F).name),X!==(X=h(F).id)&&(V.value=(V.__value=h(F).id)??"")}),k(P,V)}),k(E,M)},S=E=>{const M=P=>{var F=Vi();F.nodeValue=window.trans("There is no category set that can be selected. Please create a category set if you use the Categories field type."),k(P,F)};na(E,{id:"no-category-set",class:"warning",canClose:0,get msg(){return M}})};oe(x,E=>{l&&l.length>0?E(w):E(S,!1)})}k(d,_)},$$slots:{default:!0}}),k(s,f)},$$slots:{default:!0}}),z()}var nu=C('<input/><label for="tags-multiple" class="form-label"></label>',1),ru=C("<input/>"),iu=C("<input/>"),au=C("<input/>"),lu=C('<input/><label for="tags-can_add" class="form-label"></label>',1),ou=C("<!> <!> <!> <!> <!>",1);function su(e,t){W(t,!0);var n,i,a,r,l;let o=A(t,"field",15),s=A(t,"options",15),u=Q(()=>({...s(),multiple:(n=s().multiple)!==null&&n!==void 0?n:!1,can_add:(i=s().can_add)!==null&&i!==void 0?i:!1,min:(a=s().min)!==null&&a!==void 0?a:"",max:(r=s().max)!==null&&r!==void 0?r:"",initial_value:(l=s().initial_value)!==null&&l!==void 0?l:""}));re(e,{type:"tags",get id(){return t.id},get field(){return o()},set field(f){o(f)},get options(){return s()},set options(f){s(f)},children:(f,g)=>{var v=ou(),m=D(v);L(m,{id:"tags-multiple",label:window.trans("Allow users to input multiple values?"),children:(_,x)=>{var w=nu(),S=D(w),E=P=>{s(s().multiple=P.currentTarget.checked,!0)};N(S,()=>({ref:"multiple",type:"checkbox",class:"mt-switch form-control",id:"tags-multiple",name:"multiple",checked:h(u).multiple,onchange:E}),void 0,void 0,void 0,void 0,!0);var M=y(S);M.textContent=window.trans("Allow users to select multiple values?"),k(_,w)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"tags-min",label:window.trans("Minimum number of selections"),get attrShow(){return h(u).multiple},children:(_,x)=>{var w=ru();N(w,()=>({ref:"min",type:"number",name:"min",id:"tags-min",class:"form-control w-25",min:"0",value:h(u).min}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var p=y(b,2);L(p,{id:"tags-max",label:window.trans("Maximum number of selections"),get attrShow(){return h(u).multiple},children:(_,x)=>{var w=iu(),S=E=>{s(s().max=E.currentTarget.value,!0)};N(w,()=>({ref:"max",type:"number",name:"max",id:"tags-max",class:"form-control w-25",min:"1",value:h(u).max,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var d=y(p,2);L(d,{id:"tags-initial_value",label:window.trans("Initial Value"),children:(_,x)=>{var w=au(),S=E=>{s(s().initial_value=E.currentTarget.value,!0)};N(w,()=>({ref:"initial_value",type:"text",name:"initial_value",id:"tags-initial_value",class:"form-control",value:h(u).initial_value,onchange:S}),void 0,void 0,void 0,void 0,!0),k(_,w)},$$slots:{default:!0}});var c=y(d,2);L(c,{id:"tags-can_add",label:window.trans("Allow users to create new tags?"),children:(_,x)=>{var w=lu(),S=D(w),E=P=>{s(s().can_add=P.currentTarget.checked,!0)};N(S,()=>({ref:"can_add",type:"checkbox",class:"mt-switch form-control",id:"tags-can_add",name:"can_add",checked:h(u).can_add,onchange:E}),void 0,void 0,void 0,void 0,!0);var M=y(S);M.textContent=window.trans("Allow users to create new tags?"),k(_,w)},$$slots:{default:!0}}),k(f,v)},$$slots:{default:!0}}),z()}function uu(e,t){W(t,!0);let n=A(t,"field",15),i=A(t,"options",15);re(e,{type:"list",get id(){return t.id},get field(){return n()},set field(a){n(a)},get options(){return i()},set options(a){i(a)}}),z()}var du=C("<input/>"),cu=C("<input/>"),fu=C('<input/><label for="tables-can_increase_decrease_rows" class="form-label"></label>',1),vu=C('<input/><label for="tables-can_increase_decrease_cols" class="form-label"></label>',1),_u=C("<!> <!> <!> <!>",1);function mu(e,t){W(t,!0);var n,i,a,r;let l=A(t,"field",15),o=A(t,"options",15),s=Q(()=>({...o(),increase_decrease_rows:(n=o().increase_decrease_rows)!==null&&n!==void 0?n:!1,increase_decrease_cols:(i=o().increase_decrease_cols)!==null&&i!==void 0?i:!1,initial_rows:(a=o().initial_rows)!==null&&a!==void 0?a:1,initial_cols:(r=o().initial_cols)!==null&&r!==void 0?r:1}));re(e,{type:"table",get id(){return t.id},get field(){return l()},set field(u){l(u)},get options(){return o()},set options(u){o(u)},children:(u,f)=>{var g=_u(),v=D(g);L(v,{id:"tables-initial_rows",label:window.trans("Initial Rows"),children:(d,c)=>{var _=du(),x=w=>{o(o().initial_rows=w.currentTarget.value,!0)};N(_,()=>({ref:"initial_rows",type:"number",name:"initial_rows",id:"tables-initial_rows",class:"form-control w-25",min:"1",value:h(s).initial_rows,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var m=y(v,2);L(m,{id:"tables-initial_cols",label:window.trans("Initial Cols"),children:(d,c)=>{var _=cu(),x=w=>{o(o().initial_cols=w.currentTarget.value,!0)};N(_,()=>({ref:"initial_cols",type:"number",name:"initial_cols",id:"tables-initial_cols",class:"form-control w-25",min:"1",value:h(s).initial_cols,onchange:x}),void 0,void 0,void 0,void 0,!0),k(d,_)},$$slots:{default:!0}});var b=y(m,2);L(b,{id:"tables-can_increase_decrease_rows",label:window.trans("Allow users to increase/decrease rows?"),children:(d,c)=>{var _=fu(),x=D(_),w=E=>{o(o().increase_decrease_rows=E.currentTarget.checked,!0)};N(x,()=>({ref:"increase_decrease_rows",type:"checkbox",class:"mt-switch form-control",id:"tables-can_increase_decrease_rows",name:"increase_decrease_rows",checked:h(s).increase_decrease_rows,onchange:w}),void 0,void 0,void 0,void 0,!0);var S=y(x);S.textContent=window.trans("Allow users to increase/decrease rows?"),k(d,_)},$$slots:{default:!0}});var p=y(b,2);L(p,{id:"tables-can_increase_decrease_cols",label:window.trans("Allow users to increase/decrease cols?"),children:(d,c)=>{var _=vu(),x=D(_),w=E=>{o(o().increase_decrease_cols=E.currentTarget.checked,!0)};N(x,()=>({ref:"increase_decrease_cols",type:"checkbox",class:"mt-switch form-control",id:"tables-can_increase_decrease_cols",name:"increase_decrease_cols",checked:h(s).increase_decrease_cols,onchange:w}),void 0,void 0,void 0,void 0,!0);var S=y(x);S.textContent=window.trans("Allow users to increase/decrease cols?"),k(d,_)},$$slots:{default:!0}}),k(u,g)},$$slots:{default:!0}}),z()}var hu=C("<textarea></textarea>");function pu(e,t){W(t,!0);var n;let i=A(t,"field",15),a=A(t,"options",15),r=Q(()=>({...a(),text:(n=a().text)!==null&&n!==void 0?n:""}));ve(()=>{document.getElementById("text-label-description-field-"+t.id).style.display="none",document.getElementById("text-label-required-field-"+t.id).style.display="none",document.getElementById("text-label-display-field-"+t.id).style.display="none"}),re(e,{type:"text-label",get id(){return t.id},get field(){return i()},set field(l){i(l)},get options(){return a()},set options(l){a(l)},children:(l,o)=>{L(l,{id:"text_label-text",label:window.trans("__TEXT_LABEL_TEXT"),hint:window.trans("This block is only visible in the administration screen for comments."),showHint:1,children:(s,u)=>{var f=hu(),g=v=>{a(a().text=v.currentTarget.value,!0)};N(f,()=>({ref:"text",name:"text",id:"text_label-text",class:"form-control",value:h(r).text,onchange:g})),k(s,f)},$$slots:{default:!0}})},$$slots:{default:!0}}),z()}class Wt{static getCoreType(t){return!this.customTypes[t]&&this.coreTypes[t]}static getCustomType(t){return this.customTypes[t]}static registerCustomType(t,n){this.customTypes[t]=n}}Wt.coreTypes={"content-type":Po,"single-line-text":Oo,"multi-line-text":jo,number:Wo,url:Go,"date-and-time":Zo,"date-only":ts,"time-only":rs,"select-box":ds,"radio-button":vs,checkboxes:bs,asset:Cs,"asset-audio":Is,"asset-video":Rs,"asset-image":Us,"embedded-text":Ws,categories:tu,tags:su,list:uu,tables:mu,"text-label":pu},Wt.customTypes={};var gu=C('<div class="mt-custom-contentfield"></div>');function bu(e,t){W(t,!0);const n=()=>In(t.fieldsStore,"$fieldsStore",i),[i,a]=Nn();let r=A(t,"gather",15),l=he(null),o=he(null),s=he(null),u=Q(()=>n()[t.fieldIndex]),f=Q(()=>Wt.getCustomType(h(u).type));ve(()=>{const v=h(u).type,m=Pe(()=>h(s)),b=Pe(()=>h(l));return v!==m&&b&&(b.destroy(),ee(l,null),r(null)),!Pe(()=>h(l))&&h(f)&&h(o)&&(ee(l,h(f)({config:t.config,fieldIndex:t.fieldIndex,fieldsStore:t.fieldsStore,optionsHtmlParams:t.optionsHtmlParams},h(o)),!0),r(h(l)===null||h(l)===void 0?void 0:h(l).gather)),ee(s,v,!0),()=>{Pe(()=>h(l))&&(r(null),h(l)===null||h(l)===void 0||h(l).destroy(),ee(l,null)),ee(s,null)}});var g=gu();Bt(g,v=>ee(o,v),()=>h(o)),le(()=>be(g,"id",`custom-content-field-block-${h(u).id??""}`)),k(e,g),z(),a()}var wu=qi("<title> </title>"),yu=qi('<svg role="img"><!><use></use></svg>');function Pt(e,t){let n=A(t,"style",3,void 0);var i=yu(),a=T(i);{var r=o=>{var s=wu(),u=T(s);le(()=>De(u,t.title)),k(o,s)};oe(a,o=>{t.title&&o(r)})}var l=y(a);le(()=>{Wi(i,0,Bi(t.class)),zi(i,n()),At(l,"xlink:href",t.href)}),k(e,i)}var xu=C("<span> </span>"),ku=C('<div class="mt-collapse__container"><div class="col-auto p-0"><!></div> <div class="col text-wrap p-0"><!> <!></div> <div class="col-auto p-0"><a href="javascript:void(0)" class="d-inline-block duplicate-content-field"><!></a> <a href="javascript:void(0)" class="d-inline-block delete-content-field"><!></a> <a data-bs-toggle="collapse" class="d-inline-block"><!></a></div></div> <div><!> <!></div>',1);function Su(e,t){W(t,!0);const n=()=>In(t.fieldsStore,"$fieldsStore",i),[i,a]=Nn();let r=A(t,"field",15),l=A(t,"parent",7),o=A(t,"gather",15),s=Q(()=>`field-options-${r().id}`);ve(()=>{r().isNew===null&&r(r().isNew=!1,!0),r().isShow===null&&r(r().isShow="",!0),r().realId===null&&r(r().realId="",!0),r().options===null&&r(r().options={},!0)});let u=he(void 0),f=he(void 0);ve(()=>{Wt.getCoreType(r().type)?o(h(u)):o(h(f))});const g=()=>{const j=r().label?r().label:window.trans("No Name");if(!confirm(window.trans("Do you want to delete [_1]([_2])?",j,r().typeLabel)))return;t.fieldsStore.update(Z=>Z.slice(0,t.fieldIndex).concat(Z.slice(t.fieldIndex+1)));const G=document.getElementsByClassName("mt-draggable__area")[0];Yt(G)},v=()=>{const j=jQuery.extend({},r());j.options=t.gatheringData(l(),t.fieldIndex),j.id=Math.random().toString(36).slice(-8);let G=r().label;G||(G=jQuery("#content-field-block-"+r().id).find('[name="label"]').val(),G===""&&(G=window.trans("No Name"))),j.label=window.trans("Duplicate")+"-"+G,j.options.label=j.label,j.order=n().length+1,j.isNew=!0,j.isShow="show",t.fieldsStore.update(ie=>[...ie,j]);const Z=document.getElementsByClassName("mt-draggable__area")[0];Yt(Z)};let m=Q(()=>Wt.getCoreType(r().type));var b=ku(),p=D(b),d=T(p),c=T(d);Pt(c,{title:window.trans("Move"),class:"mt-icon",href:`${window.StaticURI??""}/images/sprite.svg#ic_move`});var _=y(d,2),x=T(_);Pt(x,{title:window.trans("ContentField"),class:"mt-icon--secondary",href:`${window.StaticURI??""}images/sprite.svg#ic_contentstype`});var w=y(x),S=y(w);{var E=j=>{var G=xu(),Z=T(G);le(()=>De(Z,`(ID: ${r().realId??""})`)),k(j,G)};oe(S,j=>{r().realId&&j(E)})}var M=y(_,2),P=T(M);P.__click=v;var F=T(P);Pt(F,{title:window.trans("Duplicate"),class:"mt-icon--secondary",href:`${window.StaticURI??""}images/sprite.svg#ic_duplicate`});var V=y(P,2);V.__click=g;var te=T(V);Pt(te,{title:window.trans("Delete"),class:"mt-icon--secondary",href:`${window.StaticURI??""}images/sprite.svg#ic_trash`});var X=y(V,2),ue=T(X);Pt(ue,{title:window.trans("Edit"),class:"mt-icon--secondary",href:`${window.StaticURI??""}images/sprite.svg#ic_collapse`});var se=y(p,2);N(se,()=>({"data-is":r().type,class:"collapse mt-collapse__content",id:h(s),fieldid:r().id,isnew:r().isNew,[$t]:{show:r().isShow==="show"}}));var we=T(se);{var Ee=j=>{var G=ge(),Z=D(G);Kl(Z,()=>h(m),(ie,ne)=>{ne(ie,{get config(){return t.config},get id(){return h(s)},get optionsHtmlParams(){return t.optionsHtmlParams},get field(){return r()},set field(K){r(K)},get gather(){return h(u)},set gather(K){ee(u,K,!0)},get options(){return r().options},set options(K){r(r().options=K,!0)}})}),k(j,G)};oe(we,j=>{h(m)&&j(Ee)})}var de=y(we,2);bu(de,{get config(){return t.config},get fieldIndex(){return t.fieldIndex},get fieldsStore(){return t.fieldsStore},get optionsHtmlParams(){return t.optionsHtmlParams},get gather(){return h(f)},set gather(j){ee(f,j,!0)}}),Bt(se,j=>l(j),()=>l()),le(()=>{De(w,` ${r().label??""??""} (${r().typeLabel??""}) `),be(X,"href",`#field-options-${r().id??""}`),be(X,"aria-expanded",r().isShow==="show"?"true":"false"),be(X,"aria-controls",`field-options-${r().id??""}`)}),k(e,b),z(),a()}Et(["click"]);var Cu=C("<option> </option>"),Eu=C('<div id="name-field" class="form-group"><h3> <button type="button" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#editDetail"></button></h3> <div id="editDetail" class="modal" data-role="dialog" aria-labelledby="editDetail" aria-hidden="true"><div class="modal-dialog modal-lg" data-role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title"></h4> <button type="button" class="close btn-close" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><div class="col"><div id="name-field" class="form-group"><label for="name" class="form-control-label"> <span class="badge badge-danger"></span></label> <input type="text" name="name" id="name" class="form-control html5-form" required=""/></div></div> <div class="col"><div id="description-field" class="form-group"><label for="description" class="form-control-label"></label> <textarea name="description" id="description" class="form-control"></textarea></div></div> <div class="col"><div id="label-field" class="form-group"><label for="label_field" class="form-control-label"></label> <select id="label_field" name="label_field" class="custom-select form-control html5-form form-select"><option></option><!></select></div></div> <div class="col"><div id="unique_id-field" class="form-group"><label for="unique_id" class="form-control-label"></label> <input type="text" class="form-control-plaintext w-50" id="unieuq_id" readonly=""/></div></div> <div class="col"><div id="user_disp_option-field" class="form-group"><label for="user_disp_option"></label> <input type="checkbox" class="mt-switch form-control" id="user_disp_option" name="user_disp_option"/> <label for="user_disp_option" class="last-child"></label></div></div></div> <div class="modal-footer"><button type="button" class="btn btn-default" data-bs-dismiss="modal"></button></div></div></div></div></div>'),Tu=C('<div id="name-field" class="form-group"><label for="name" class="form-control-label"> <span class="badge badge-danger"></span></label> <input type="text" name="name" id="name" class="form-control html5-form" required=""/></div>'),$u=C('<div class="mt-draggable__empty"><img width="240" height="120"/> <p></p></div>'),Au=C('<div class="mt-contentfield" draggable="true" aria-grabbed="false" data-is="content-field" style="width: 100%;"><!></div>'),Pu=C('<form name="content-type-form" method="POST"><input type="hidden" name="__mode" value="save"/> <input type="hidden" name="blog_id"/> <input type="hidden" name="magic_token"/> <input type="hidden" name="return_args"/> <input type="hidden" name="_type" value="content_type"/> <input type="hidden" name="id"/> <div class="row"><div class="col"><!></div></div></form> <form><fieldset id="content-fields" class="form-group"><legend class="h3"></legend> <div class="mt-collapse__all"><a data-bs-toggle="collapse" href=".mt-collapse__content" class="d-inline-block"> <!></a></div> <div class="mt-draggable__area" style="height:400px;"><!> <!></div> <div class="mt-collapse__all"><a data-bs-toggle="collapse" href=".mt-collapse__content" class="d-inline-block"> <!></a></div></fieldset></form> <button type="button" class="btn btn-primary"></button>',1);function Iu(e,t){W(t,!0);const n=()=>In(t.fieldsStore,"$fieldsStore",i),[i,a]=Nn();let r=A(t,"opts",7),l=he(je(n()));ve(()=>t.fieldsStore.subscribe(O=>{ee(l,O,!0)}));let o=Q(()=>!(n().length>0)),s="",u=!1;const f=r().observer;let g=null,v=null;const m=document.createElement("div");m.className="placeholder";let b=!1,p=he(je([])),d=r().labelField,c=he(!1),_=je({}),x=je([]);ve(()=>{const I=t.root.querySelector("#label_field");I&&jQuery(I).find("option").each(function(O,$){if($.attributes.getNamedItem("selected"))return I.selectedIndex=O,!1})}),oo(()=>{f.on("mtDragStart",function(){u=!0}),f.on("mtDragEnd",function(){u=!1,P()}),jQuery(document).on("show.bs.modal","#editDetail",function(){X()}),jQuery(document).on("hide.bs.modal","#editDetail",function(){var I;if(jQuery("#name-field > input").mtValidate("simple"))r().name=((I=jQuery("#name-field > input").val())===null||I===void 0?void 0:I.toString())||"",window.setDirty(!0);else return!1}),jQuery(document).on("shown.bs.collapse",".mt-collapse__content",function(){const I=document.getElementsByClassName("mt-draggable__area")[0];Yt(I),j(),se()}),jQuery(document).on("hidden.bs.collapse",".mt-collapse__content",function(){const I=document.getElementsByClassName("mt-draggable__area")[0];Yt(I),j(),se()}),jQuery(document).on("focus",".mt-draggable__area input, .mt-draggable__area textarea",function(){jQuery(this).closest(".mt-contentfield").attr("draggable","false")}),jQuery(document).on("blur",".mt-draggable__area input, .mt-draggable__area textarea",function(){jQuery(this).closest(".mt-contentfield").attr("draggable","true")})});const w=I=>{if(u){const O=I.currentTarget,$=I.target;if($.className!=="mt-draggable__area"&&$.className!=="mt-draggable"&&$.className!=="mt-contentfield"){I.preventDefault();return}if(b||(O.classList.add("mt-draggable__area--dragover"),b=!0),g){if($.className==="mt-contentfield"){const R=$.getBoundingClientRect(),q=$.parentNode;(I.clientY-R.top)/R.height>.5?q.insertBefore(m,$.nextElementSibling):q.insertBefore(m,$)}if($.className==="mt-draggable__area"){const R=$.getElementsByClassName("mt-contentfield");(R.length===0||R.length===1&&R[0]===g)&&$.appendChild(m)}}else O.appendChild(m);I.preventDefault()}},S=I=>{var O;const $=I.currentTarget;if(g){let R=0,q=null;if(m.parentNode&&(q=m.parentNode.children),!q){$.classList.remove("mt-draggable__area--dragover"),I.preventDefault();return}for(let Y=0;Y<q.length&&q[Y]!==m;Y++)q[Y]!==g&&q[Y].classList.contains("mt-contentfield")&&R++;v&&we(v,R),window.setDirty(!0)}else{const R=((O=I.dataTransfer)===null||O===void 0?void 0:O.getData("text"))||"",q=jQuery("[data-field-type='"+R+"']"),Y=q.data("field-label"),J=q.data("can-data-label"),Ue=Math.random().toString(36).slice(-8),ht={type:R,typeLabel:Y,id:Ue,isNew:!0,isShow:"show",canDataLabel:J,options:{}};t.fieldsStore.update(Qn=>[...Qn,ht]),window.setDirty(!0),Yt(document.getElementsByClassName("mt-draggable__area")[0])}X(),$.classList.remove("mt-draggable__area--dragover"),I.preventDefault()},E=I=>{b&&(I.currentTarget.classList.remove("mt-draggable__area--dragover"),b=!1)},M=(I,O)=>{g=I.target,v=O,I.dataTransfer.setData("text",O.id||""),u=!0},P=()=>{m.parentNode&&m.parentNode.removeChild(m),u=!1,g=null,v=null,b=!1},F=I=>I.key==="Enter"?(I.preventDefault(),!1):!0,V=()=>n().length===0?!0:n().filter(function(O){return r().invalid_types[O.type]}).length===0,te=()=>{if(!V()||!Ee())return;X(),window.setDirty(!1);const I=[];if(n()){for(let O=0;O<n().length;O++){const $=x[O],R=de($,O),q={};q.type=n()[O].type,q.options=R,!n()[O].isNew&&R.id.match(/^\d+$/)&&(q.id=R.id);const Y=n().filter(function(J){return J.id===q.id});Y.length&&Y[0].order?q.order=Y[0].order:q.order=O+1,I.push(q)}s=JSON.stringify(I)}else s="";G(),document.forms["content-type-form"].submit()},X=()=>{var I;const O=[];for(let $=0;$<n().length;$++)if(jQuery("#content-field-block-"+n()[$].id).find('[name="required"]').prop("checked")&&n()[$].canDataLabel===1){let q=n()[$].label,Y=n()[$].unique_id;q||(q=((I=jQuery("#content-field-block-"+n()[$].id).find('[name="label"]').val())===null||I===void 0?void 0:I.toString())||"",q===""&&(q=window.trans("No Name"))),Y||(Y="id:"+n()[$].id),O.push({value:Y,label:q})}ee(p,O,!0)},ue=()=>{ee(c,!h(c));const I=h(c)?"show":"";t.fieldsStore.update(O=>O.map($=>($.isShow=I,$)))},se=()=>{const I=document.querySelectorAll(".mt-collapse__content");let O=!0;I.forEach($=>{$.classList.contains("show")?O=!0:O=!1}),ee(c,!!O,!0)},we=(I,O)=>{t.fieldsStore.update($=>{for(let R=0;R<$.length;R++)if($[R].id===I.id){$.splice(R,1);break}$.splice(O,0,I);for(let R=0;R<$.length;R++)$[R].order=R+1;return $})},Ee=()=>{const I=jQuery(".html5-form").mtValidate("simple"),O=jQuery(".values-option-table input[type=text]").mtValidate("simple"),$=jQuery(".values-option-table").mtValidate("selection-field-values-option"),R=jQuery(".content-field-block").mtValidate("content-field-block"),q=jQuery("input[data-mt-content-field-unique]").mtValidate("simple"),Y=I&&O&&$&&R&&q;return Y||jQuery(".mt-contentfield").each(function(J,Ue){const ht=jQuery(Ue);ht.find(".form-control.is-invalid").length>0&&ht.find(".collapse").collapse("show")}),Y},de=(I,O)=>{const $={},R=I.querySelectorAll("[data-is] [ref]");Object.keys(R).forEach(function(Y){const J=R[Y];if(J.type==="checkbox"){const Ue=J.checked?1:0;J.name in $?Array.isArray($[J.name])&&$[J.name].push(Ue):$[J.name]=Ue}else $[J.name]=J.value});const q=n()[O].id;if(q){const Y=_[q];if(Y){const J=Y();jQuery.extend($,J)}}return $},j=()=>{const I=document.querySelectorAll(".mt-collapse__content");t.fieldsStore.update(O=>O.map(($,R)=>($={...h(l)[R]},I[R].classList.contains("show")?$.isShow="show":$.isShow="",$)))},G=()=>{const I=document.forms.namedItem("content-type-form"),O=I.querySelector('input[name="id"]'),$=document.createElement("input");$.setAttribute("type","hidden"),$.setAttribute("name","data"),$.setAttribute("value",s),I.insertBefore($,O.nextElementSibling)};var Z=Pu(),ie=D(Z);be(ie,"action",window.CMSScriptURI);var ne=T(ie),K=y(ne,2),ye=y(K,2),Ie=y(ye,2),xe=y(Ie,2),Re=y(xe,2),rt=y(Re,2),zt=T(rt),_t=T(zt);{var It=I=>{var O=Eu(),$=T(O),R=T($),q=y(R);q.textContent=window.trans("Edit");var Y=y($,2),J=T(Y),Ue=T(J),ht=T(Ue),Qn=T(ht);Qn.textContent=window.trans("Content Type");var yr=y(ht,2),xr=T(yr),ca=T(xr),kr=T(ca),Sr=T(kr);Sr.nodeValue=`${window.trans("Content Type Name")??""} `;var fa=y(Sr);fa.textContent=window.trans("Required");var Cr=y(kr,2),Er=y(xr,2),va=T(Er),Tr=T(va);Tr.textContent=window.trans("Description");var _a=y(Tr,2),$r=y(Er,2),ma=T($r),Ar=T(ma);Ar.textContent=window.trans("Data Label Field");var Jt=y(Ar,2),mn=T(Jt);mn.textContent=window.trans("Show input field to enter data label"),mn.value=mn.__value="";var ha=y(mn);dt(ha,17,()=>h(p),ut,(Sa,Hn)=>{var hn=Cu(),Ca=T(hn),Or={};le(()=>{De(Ca,h(Hn).label),Or!==(Or=h(Hn).value)&&(hn.value=(hn.__value=h(Hn).value)??"")}),k(Sa,hn)});var Pr;fr(Jt);var Ir=y($r,2),pa=T(Ir),Nr=T(pa);Nr.textContent=window.trans("Unique ID");var ga=y(Nr,2),ba=y(Ir,2),wa=T(ba),Mr=T(wa);Mr.textContent=window.trans("Allow users to change the display and sort of fields by display option");var Lr=y(Mr,2),ya=y(Lr,2);ya.textContent=window.trans("Allow users to change the display and sort of fields by display option");var xa=y(yr,2),ka=T(xa);ka.textContent=window.trans("close"),le(()=>{De(R,`${r().name??""} `),ft(Cr,r().name),ft(_a,r().description),Pr!==(Pr=d)&&(Jt.value=(Jt.__value=d)??"",dn(Jt,d)),ft(ga,r().unique_id),$n(Lr,!!r().user_disp_option)}),Ct("keypress",Cr,F),k(I,O)},Nt=I=>{var O=Tu(),$=T(O),R=T($);R.nodeValue=`${window.trans("Name")??""} `;var q=y(R);q.textContent=window.trans("Required");var Y=y($,2);le(()=>ft(Y,r().name)),Ct("keypress",Y,F),k(I,O)};oe(_t,I=>{r().id?I(It):I(Nt,!1)})}var mt=y(ie,2),Mt=T(mt),Fe=T(Mt);Fe.textContent=window.trans("Content Fields");var _n=y(Fe,2),Gt=T(_n);Gt.__click=ue;var it=T(Gt),la=y(it);Pt(la,{title:window.trans("Edit"),class:"mt-icon--secondary expand-all-icon",href:`${window.StaticURI??""}images/sprite.svg#ic_collapse`});var Kt=y(_n,2),br=T(Kt);{var oa=I=>{var O=$u(),$=T(O);be($,"src",`${window.StaticURI??""}images/dragdrop.gif`),be($,"alt",window.trans("Drag and drop area"));var R=y($,2);R.textContent=window.trans("Please add a content field."),k(I,O)};oe(br,I=>{h(o)&&I(oa)})}var sa=y(br,2);dt(sa,17,()=>h(l),ut,(I,O,$)=>{const R=Q(()=>h(O).id??"");var q=Au(),Y=T(q);Su(Y,{get config(){return t.config},fieldIndex:$,get fieldsStore(){return t.fieldsStore},gatheringData:de,get parent(){return x[$]},get optionsHtmlParams(){return t.optionsHtmlParams},get field(){return h(l)[$]},set field(J){h(l)[$]=J},get gather(){return _[h(R)]},set gather(J){_[h(R)]=J}}),Bt(q,(J,Ue)=>x[Ue]=J,J=>x?.[J],()=>[$]),le(()=>be(q,"id",`content-field-block-${h(R)??""}`)),Ct("dragstart",q,J=>{M(J,h(O))}),Ct("dragend",q,P),k(I,q)});var ua=y(Kt,2),Vn=T(ua);Vn.__click=ue;var wr=T(Vn),da=y(wr);Pt(da,{title:window.trans("Edit"),class:"mt-icon--secondary expand-all-icon",href:`${window.StaticURI??""}images/sprite.svg#ic_collapse`});var jn=y(mt,2);jn.__click=te,jn.textContent=window.trans("Save"),le((I,O,$)=>{ft(K,r().blog_id),ft(ye,r().magic_token),ft(Ie,r().return_args),ft(Re,r().id),be(Gt,"aria-expanded",h(c)?"true":"false"),De(it,`${I??""} `),be(Vn,"aria-expanded",h(c)?"true":"false"),De(wr,`${O??""} `),jn.disabled=$},[()=>h(c)?window.trans("Close all"):window.trans("Edit all"),()=>h(c)?window.trans("Close all"):window.trans("Edit all"),()=>!V()]),Ct("drop",Kt,S),Ct("dragover",Kt,w),Ct("dragleave",Kt,E),k(e,Z),z(),a()}Et(["click"]);function Nu(e,t){W(t,!0);const n=()=>In(t.fieldsStore,"$fieldsStore",i),[i,a]=Nn();let r=Q(()=>n()[t.fieldIndex]),l=Q(()=>h(r).options||{}),o=Q(()=>`field-options-${h(r).id}`);const s=u=>{const f=u.options;u.options=new Proxy(f,{set(g,v,m){return f[v]=m,ao(t.fieldsStore,Pe(n)[t.fieldIndex].options[v]=m,Pe(n)),t.updateOptions(f),m}})};re(e,{get type(){return t.type},get id(){return h(o)},get field(){return h(r)},set field(u){ee(r,u)},get options(){return h(l)},set options(u){ee(l,u)},children:(u,f)=>{var g=ge(),v=D(g);Jl(v,()=>t.customElement,!1,(m,b)=>{Xl(m,p=>s?.(p)),N(m,p=>({"data-options":p}),[()=>JSON.stringify(h(l))])}),k(u,g)},$$slots:{default:!0}}),z(),a()}customElements.define("mt-content-field-option",class extends HTMLElement{connectedCallback(){const e=this.getAttribute("id")||"",t=this.getAttribute("attr")||"",n=this.getAttribute("attr-show"),i=this.getAttribute("hint")||"",a=this.getAttribute("label")||"",r=this.getAttribute("required")==="1",l=this.getAttribute("show-hint")==="1",o=this.getAttribute("show-label")!=="0";if(!e){console.error("ContentFieldOption: 'id' attribute missing");return}const s=document.createElement("div");if(s.id=`${e}-field`,s.className="form-group",r&&s.classList.add("required"),t&&s.setAttribute("attr",t),n!==null&&(n==="true"?s.style.display="":(s.hidden=!0,s.style.display="none")),a&&o){const u=document.createElement("label");if(u.setAttribute("for",e),u.textContent=a,r){const f=document.createElement("span");f.className="badge badge-danger",f.textContent=window.trans("Required"),u.appendChild(f)}s.appendChild(u)}for(;this.firstChild;)s.appendChild(this.firstChild);if(i&&l){const u=document.createElement("small");u.id=`${e}-field-help`,u.className="form-text text-muted",u.textContent=i,s.appendChild(u)}this.appendChild(s)}});var ra=e=>{throw TypeError(e)},ia=(e,t,n)=>t.has(e)||ra("Cannot "+n),Mn=(e,t,n)=>(ia(e,t,"read from private field"),n?n.call(e):t.get(e)),Ln=(e,t,n)=>t.has(e)?ra("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),On=(e,t,n,i)=>(ia(e,t,"write to private field"),t.set(e,n),n),Dn,Rn,Fn,qn;class aa extends HTMLElement{constructor(){super(...arguments),this.options={}}connectedCallback(){this.options=JSON.parse(this.getAttribute("data-options")||"{}")}disconnectedCallback(){}}let nt=class{static get config(){return Mn(this,Dn)}static set config(t){On(this,Dn,t)}static get fieldsStore(){return Mn(this,Rn)}static set fieldsStore(t){On(this,Rn,t)}static get optionsHtmlParams(){return Mn(this,Fn)}static set optionsHtmlParams(t){On(this,Fn,t)}static get opts(){return Mn(this,qn)}static set opts(t){On(this,qn,t)}static registerCustomType(t,n){if(n.prototype instanceof aa){const i=`mt-content-type-custom-type-${t}`;customElements.define(i,n),n=(a,r)=>{let l;const o=ji(Nu,{props:{...a,type:t,customElement:i,updateOptions:s=>{l=s}},target:r});return{component:o,gather:()=>l,destroy:()=>{o.$destroy()}}}}this.types.registerCustomType(t,n)}static mount(t,n){const i=this.getContentFieldsTarget(t);this.fieldsStore=so(n.fields),this.opts=n,ji(Iu,{props:{config:this.config,fieldsStore:this.fieldsStore,optionsHtmlParams:this.optionsHtmlParams,opts:this.opts,root:i},target:i})}static getContentFieldsTarget(t){const n=document.querySelector(`[data-is="${t}"]`);if(!n)throw new Error("Target element is not found: "+t);return n}};Dn=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,qn=new WeakMap,Ln(nt,Dn,{}),Ln(nt,Rn),Ln(nt,Fn,{}),Ln(nt,qn),nt.types=Wt,nt.CustomElementFieldBase=aa;const Mu=e=>{const t=e.substring(6);return t.substring(0,1).toUpperCase()+t.substring(1)};window.riot||(window.riot={}),window.riot.observable=Aa,window.ContentTypeEditor=nt;const vn=document.getElementById("script-contenttype");if(vn){for(const e in vn.dataset){if(!e.startsWith("config"))continue;const t=Mu(e);t!==""&&(nt.config[t]=vn.dataset[e])}if("optionsHtmlParams"in vn.dataset){let e={};try{e=JSON.parse(vn.dataset.optionsHtmlParams||"{}")}catch(t){console.log(t)}nt.optionsHtmlParams=e}}
