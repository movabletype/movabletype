const da="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(da);const va=1,_a=2,mr=4,ha=8,pa=16,ga=1,ma=2,ba=4,ya=8,wa=16,Sa=1,ka=2,Z=Symbol(),Ea="http://www.w3.org/1999/xhtml";var hn=!1,pn=Array.isArray,Ta=Array.prototype.indexOf,at=Array.prototype.includes,Wt=Array.from,xa=Object.defineProperty,st=Object.getOwnPropertyDescriptor,br=Object.getOwnPropertyDescriptors,Ra=Object.prototype,Ca=Array.prototype,gn=Object.getPrototypeOf,yr=Object.isExtensible;function Aa(e){for(var t=0;t<e.length;t++)e[t]()}function wr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const $=2,zt=4,Yt=8,Sr=1<<24,Pe=16,Se=32,Xe=64,mn=128,_e=512,Q=1024,ee=2048,ke=4096,ue=8192,Oe=16384,bn=32768,ot=65536,kr=1<<17,Er=1<<18,lt=1<<19,Ia=1<<20,Fe=1<<25,Ze=32768,yn=1<<21,wn=1<<22,He=1<<23,De=Symbol("$state"),La=Symbol("legacy props"),Na=Symbol(""),ut=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ma(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Pa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Oa(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Fa(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Da(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ja(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ba(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ha(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wa(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function za(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ya(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Tr(e){return e===this.v}function xr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rr(e){return!xr(e,this.v)}let ft=!1,Ga=!1;function Ja(){ft=!0}let G=null;function ct(e){G=e}function dt(e,t=!1,n){G={p:G,i:!1,c:null,e:null,s:e,x:null,l:ft&&!t?{s:null,u:null,$:[]}:null}}function vt(e){var t=G,n=t.e;if(n!==null){t.e=null;for(var r of n)Qr(r)}return e!==void 0&&(t.x=e),t.i=!0,G=t.p,e??{}}function St(){return!ft||G!==null&&G.l===null}let $e=[];function Cr(){var e=$e;$e=[],Aa(e)}function Ee(e){if($e.length===0&&!kt){var t=$e;queueMicrotask(()=>{t===$e&&Cr()})}$e.push(e)}function Ka(){for(;$e.length>0;)Cr()}function Ar(e){var t=N;if(t===null)return R.f|=He,e;if(t.f&bn)_t(e,t);else{if(!(t.f&mn))throw e;t.b.error(e)}}function _t(e,t){for(;t!==null;){if(t.f&mn)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Qa=-7169;function Y(e,t){e.f=e.f&Qa|t}function Sn(e){e.f&_e||e.deps===null?Y(e,Q):Y(e,ke)}function Ir(e){if(e!==null)for(const t of e)!(t.f&$)||!(t.f&Ze)||(t.f^=Ze,Ir(t.deps))}function Lr(e,t,n){e.f&ee?t.add(e):e.f&ke&&n.add(e),Ir(e.deps),Y(e,Q)}const Gt=new Set;let L=null,Jt=null,Te=null,ae=[],Kt=null,kn=!1,kt=!1;class Qe{committed=!1;current=new Map;previous=new Map;#t=new Set;#o=new Set;#e=0;#a=0;#s=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)Y(r,ee),xe(r);for(r of n.m)Y(r,ke),xe(r)}}process(t){ae=[],this.apply();var n=[],r=[];for(const i of t)this.#u(i,n,r);if(this.is_deferred()){this.#f(r),this.#f(n);for(const[i,a]of this.#i)Fr(i,a)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#c(),Jt=this,L=null,Mr(r),Mr(n),Jt=null,this.#s?.resolve()}Te=null}#u(t,n,r){t.f^=Q;for(var i=t.first,a=null;i!==null;){var s=i.f,o=(s&(Se|Xe))!==0,l=o&&(s&Q)!==0,f=l||(s&ue)!==0||this.#i.has(i);if(!f&&i.fn!==null){o?i.f^=Q:a!==null&&s&(zt|Yt|Sr)?a.b.defer_effect(i):s&zt?n.push(i):Rt(i)&&(s&Pe&&this.#n.add(i),Ct(i));var c=i.first;if(c!==null){i=c;continue}}var _=i.parent;for(i=i.next;i===null&&_!==null;)_===a&&(a=null),i=_.next,_=_.parent}}#f(t){for(var n=0;n<t.length;n+=1)Lr(t[n],this.#r,this.#n)}capture(t,n){n!==Z&&!this.previous.has(t)&&this.previous.set(t,n),t.f&He||(this.current.set(t,t.v),Te?.set(t,t.v))}activate(){L=this,this.apply()}deactivate(){L===this&&(L=null,Te=null)}flush(){if(this.activate(),ae.length>0){if(Nr(),L!==null&&L!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#o)t(this);this.#o.clear()}#c(){if(Gt.size>1){this.previous.clear();var t=Te,n=!0;for(const i of Gt){if(i===this){n=!1;continue}const a=[];for(const[o,l]of this.current){if(i.current.has(o))if(n&&l!==i.current.get(o))i.current.set(o,l);else continue;a.push(o)}if(a.length===0)continue;const s=[...i.current.keys()].filter(o=>!this.current.has(o));if(s.length>0){var r=ae;ae=[];const o=new Set,l=new Map;for(const f of a)Pr(f,s,o,l);if(ae.length>0){L=i,i.apply();for(const f of ae)i.#u(f,[],[]);i.deactivate()}ae=r}}L=null,Te=t}this.committed=!0,Gt.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#l&&(this.#l=!0,Ee(()=>{this.#l=!1,this.is_deferred()?ae.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),Y(t,ee),xe(t);for(const t of this.#n)Y(t,ke),xe(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#o.add(t)}settled(){return(this.#s??=wr()).promise}static ensure(){if(L===null){const t=L=new Qe;Gt.add(L),kt||Ee(()=>{L===t&&t.flush()})}return L}apply(){}}function Xa(e){var t=kt;kt=!0;try{for(var n;;){if(Ka(),ae.length===0&&(L?.flush(),ae.length===0))return Kt=null,n;Nr()}}finally{kt=t}}function Nr(){kn=!0;var e=null;try{for(var t=0;ae.length>0;){var n=Qe.ensure();if(t++>1e3){var r,i;Za()}n.process(ae),Ve.clear()}}finally{ae=[],kn=!1,Kt=null}}function Za(){try{qa()}catch(e){_t(e,Kt)}}let je=null;function Mr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Oe|ue))&&Rt(r)&&(je=new Set,Ct(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?ei(r):r.fn=null),je?.size>0)){Ve.clear();for(const i of je){if(i.f&(Oe|ue))continue;const a=[i];let s=i.parent;for(;s!==null;)je.has(s)&&(je.delete(s),a.push(s)),s=s.parent;for(let o=a.length-1;o>=0;o--){const l=a[o];l.f&(Oe|ue)||Ct(l)}}je.clear()}}je=null}}function Pr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;a&$?Pr(i,t,n,r):a&(wn|Pe)&&!(a&ee)&&Or(i,t,r)&&(Y(i,ee),xe(i))}}function Or(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(at.call(t,i))return!0;if(i.f&$&&Or(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function xe(e){for(var t=Kt=e;t.parent!==null;){t=t.parent;var n=t.f;if(kn&&t===N&&n&Pe&&!(n&Er))return;if(n&(Xe|Se)){if(!(n&Q))return;t.f^=Q}}ae.push(t)}function Fr(e,t){if(!(e.f&Se&&e.f&Q)){e.f&ee?t.d.push(e):e.f&ke&&t.m.push(e),Y(e,Q);for(var n=e.first;n!==null;)Fr(n,t),n=n.next}}function $a(e){let t=0,n=et(0),r;return()=>{An()&&(u(n),xt(()=>(t===0&&(r=pt(()=>e(()=>Et(n)))),t+=1,()=>{Ee(()=>{t-=1,t===0&&(r?.(),r=void 0,Et(n))})})))}}var es=ot|lt|mn;function ts(e,t,n){new ns(e,t,n)}class ns{parent;is_pending=!1;#t;#o=null;#e;#a;#s;#r=null;#n=null;#i=null;#l=null;#u=null;#f=0;#c=0;#_=!1;#v=!1;#h=new Set;#p=new Set;#d=null;#w=$a(()=>(this.#d=et(this.#f),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#a=r,this.parent=N.b,this.is_pending=!!this.#e.pending,this.#s=Ln(()=>{N.b=this;{var i=this.#b();try{this.#r=he(()=>r(i))}catch(a){this.error(a)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},es)}#S(){try{this.#r=he(()=>this.#a(this.#t))}catch(t){this.error(t)}}#k(){const t=this.#e.pending;t&&(this.#n=he(()=>t(this.#t)),Ee(()=>{var n=this.#b();this.#r=this.#g(()=>(Qe.ensure(),he(()=>this.#a(n)))),this.#c>0?this.#m():(tt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#b(){var t=this.#t;return this.is_pending&&(this.#u=We(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){Lr(t,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var n=N,r=R,i=G;Le(this.#s),pe(this.#s),ct(this.#s.ctx);try{return t()}catch(a){return Ar(a),null}finally{Le(n),pe(r),ct(i)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),ri(this.#r,this.#l)),this.#n===null&&(this.#n=he(()=>t(this.#t)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#h)Y(n,ee),xe(n);for(const n of this.#p)Y(n,ke),xe(n);this.#h.clear(),this.#p.clear(),this.#n&&tt(this.#n,()=>{this.#n=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#y(t),this.#f+=t,!(!this.#d||this.#_)&&(this.#_=!0,Ee(()=>{this.#_=!1,this.#d&&ht(this.#d,this.#f)}))}get_effect_pending(){return this.#w(),u(this.#d)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#v||!n&&!r)throw t;this.#r&&(oe(this.#r),this.#r=null),this.#n&&(oe(this.#n),this.#n=null),this.#i&&(oe(this.#i),this.#i=null);var i=!1,a=!1;const s=()=>{if(i){Ya();return}i=!0,a&&Wa(),Qe.ensure(),this.#f=0,this.#i!==null&&tt(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#v=!1,he(()=>this.#a(this.#t)))),this.#c>0?this.#m():this.is_pending=!1};Ee(()=>{try{a=!0,n?.(t,s),a=!1}catch(o){_t(o,this.#s&&this.#s.parent)}r&&(this.#i=this.#g(()=>{Qe.ensure(),this.#v=!0;try{return he(()=>{r(this.#t,()=>t,()=>s)})}catch(o){return _t(o,this.#s.parent),null}finally{this.#v=!1}}))})}}function rs(e,t,n,r){const i=St()?Qt:Tn;var a=e.filter(d=>!d.settled);if(n.length===0&&a.length===0){r(t.map(i));return}var s=L,o=N,l=is(),f=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(d=>d.promise)):null;function c(d){l();try{r(d)}catch(v){o.f&Oe||_t(v,o)}s?.deactivate(),En()}if(n.length===0){f.then(()=>c(t.map(i)));return}function _(){l(),Promise.all(n.map(d=>as(d))).then(d=>c([...t.map(i),...d])).catch(d=>_t(d,o))}f?f.then(_):_()}function is(){var e=N,t=R,n=G,r=L;return function(a=!0){Le(e),pe(t),ct(n),a&&r?.activate()}}function En(){Le(null),pe(null),ct(null)}function Qt(e){var t=$|ee,n=R!==null&&R.f&$?R:null;return N!==null&&(N.f|=lt),{ctx:G,deps:null,effects:null,equals:Tr,f:t,fn:e,reactions:null,rv:0,v:Z,wv:0,parent:n??N,ac:null}}function as(e,t,n){let r=N;r===null&&Pa();var i=r.b,a=void 0,s=et(Z),o=!R,l=new Map;return hs(()=>{var f=wr();a=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{c===L&&c.committed&&c.deactivate(),En()})}catch(v){f.reject(v),En()}var c=L;if(o){var _=i.is_rendered();i.update_pending_count(1),c.increment(_),l.get(c)?.reject(ut),l.delete(c),l.set(c,f)}const d=(v,p=void 0)=>{if(c.activate(),p)p!==ut&&(s.f|=He,ht(s,p));else{s.f&He&&(s.f^=He),ht(s,v);for(const[b,h]of l){if(l.delete(b),b===c)break;h.reject(ut)}}o&&(i.update_pending_count(-1),c.decrement(_))};f.promise.then(d,v=>d(null,v||"unknown"))}),en(()=>{for(const f of l.values())f.reject(ut)}),new Promise(f=>{function c(_){function d(){_===a?f(s):c(a)}_.then(d,d)}c(a)})}function Xt(e){const t=Qt(e);return ai(t),t}function Tn(e){const t=Qt(e);return t.equals=Rr,t}function Dr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)oe(t[n])}}function ss(e){for(var t=e.parent;t!==null;){if(!(t.f&$))return t.f&Oe?null:t;t=t.parent}return null}function xn(e){var t,n=N;Le(ss(e));try{e.f&=~Ze,Dr(e),t=fi(e)}finally{Le(n)}return t}function jr(e){var t=xn(e);if(!e.equals(t)&&(e.wv=li(),(!L?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){Y(e,Q);return}Ye||(Te!==null?(An()||L?.is_fork)&&Te.set(e,t):Sn(e))}let Rn=new Set;const Ve=new Map;let qr=!1;function et(e,t){var n={f:0,v:e,reactions:null,equals:Tr,rv:0,wv:0};return n}function q(e,t){const n=et(e);return ai(n),n}function os(e,t=!1,n=!0){const r=et(e);return t||(r.equals=Rr),ft&&n&&G!==null&&G.l!==null&&(G.l.s??=[]).push(r),r}function w(e,t,n=!1){R!==null&&(!Ce||R.f&kr)&&St()&&R.f&($|Pe|wn|kr)&&(ge===null||!at.call(ge,e))&&Va();let r=n?se(t):t;return ht(e,r)}function ht(e,t){if(!e.equals(t)){var n=e.v;Ye?Ve.set(e,t):Ve.set(e,n),e.v=t;var r=Qe.ensure();if(r.capture(e,n),e.f&$){const i=e;e.f&ee&&xn(i),Sn(i)}e.wv=li(),Br(e,ee),St()&&N!==null&&N.f&Q&&!(N.f&(Se|Xe))&&(me===null?gs([e]):me.push(e)),!r.is_fork&&Rn.size>0&&!qr&&ls()}return t}function ls(){qr=!1;for(const e of Rn)e.f&Q&&Y(e,ke),Rt(e)&&Ct(e);Rn.clear()}function Ur(e,t=1){var n=u(e),r=t===1?n++:n--;return w(e,n),r}function Et(e){w(e,e.v+1)}function Br(e,t){var n=e.reactions;if(n!==null)for(var r=St(),i=n.length,a=0;a<i;a++){var s=n[a],o=s.f;if(!(!r&&s===N)){var l=(o&ee)===0;if(l&&Y(s,t),o&$){var f=s;Te?.delete(f),o&Ze||(o&_e&&(s.f|=Ze),Br(f,ke))}else l&&(o&Pe&&je!==null&&je.add(s),xe(s))}}}function se(e){if(typeof e!="object"||e===null||De in e)return e;const t=gn(e);if(t!==Ra&&t!==Ca)return e;var n=new Map,r=pn(e),i=q(0),a=rt,s=o=>{if(rt===a)return o();var l=R,f=rt;pe(null),oi(a);var c=o();return pe(l),oi(f),c};return r&&n.set("length",q(e.length)),new Proxy(e,{defineProperty(o,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ba();var c=n.get(l);return c===void 0?c=s(()=>{var _=q(f.value);return n.set(l,_),_}):w(c,f.value,!0),!0},deleteProperty(o,l){var f=n.get(l);if(f===void 0){if(l in o){const c=s(()=>q(Z));n.set(l,c),Et(i)}}else w(f,Z),Et(i);return!0},get(o,l,f){if(l===De)return e;var c=n.get(l),_=l in o;if(c===void 0&&(!_||st(o,l)?.writable)&&(c=s(()=>{var v=se(_?o[l]:Z),p=q(v);return p}),n.set(l,c)),c!==void 0){var d=u(c);return d===Z?void 0:d}return Reflect.get(o,l,f)},getOwnPropertyDescriptor(o,l){var f=Reflect.getOwnPropertyDescriptor(o,l);if(f&&"value"in f){var c=n.get(l);c&&(f.value=u(c))}else if(f===void 0){var _=n.get(l),d=_?.v;if(_!==void 0&&d!==Z)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(o,l){if(l===De)return!0;var f=n.get(l),c=f!==void 0&&f.v!==Z||Reflect.has(o,l);if(f!==void 0||N!==null&&(!c||st(o,l)?.writable)){f===void 0&&(f=s(()=>{var d=c?se(o[l]):Z,v=q(d);return v}),n.set(l,f));var _=u(f);if(_===Z)return!1}return c},set(o,l,f,c){var _=n.get(l),d=l in o;if(r&&l==="length")for(var v=f;v<_.v;v+=1){var p=n.get(v+"");p!==void 0?w(p,Z):v in o&&(p=s(()=>q(Z)),n.set(v+"",p))}if(_===void 0)(!d||st(o,l)?.writable)&&(_=s(()=>q(void 0)),w(_,se(f)),n.set(l,_));else{d=_.v!==Z;var b=s(()=>se(f));w(_,b)}var h=Reflect.getOwnPropertyDescriptor(o,l);if(h?.set&&h.set.call(c,f),!d){if(r&&typeof l=="string"){var S=n.get("length"),D=Number(l);Number.isInteger(D)&&D>=S.v&&w(S,D+1)}Et(i)}return!0},ownKeys(o){u(i);var l=Reflect.ownKeys(o).filter(_=>{var d=n.get(_);return d===void 0||d.v!==Z});for(var[f,c]of n)c.v!==Z&&!(f in o)&&l.push(f);return l},setPrototypeOf(){Ha()}})}function Hr(e){try{if(e!==null&&typeof e=="object"&&De in e)return e[De]}catch{}return e}function Vr(e,t){return Object.is(Hr(e),Hr(t))}var Wr,Zt,zr,Yr,Gr;function us(){if(Wr===void 0){Wr=window,Zt=document,zr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yr=st(t,"firstChild").get,Gr=st(t,"nextSibling").get,yr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),yr(n)&&(n.__t=void 0)}}function We(e=""){return document.createTextNode(e)}function Ie(e){return Yr.call(e)}function Tt(e){return Gr.call(e)}function m(e,t){return Ie(e)}function qe(e,t=!1){{var n=Ie(e);return n instanceof Comment&&n.data===""?Tt(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Tt(r);return r}function fs(e){e.textContent=""}function Jr(){return!1}let Kr=!1;function cs(){Kr||(Kr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function $t(e){var t=R,n=N;pe(null),Le(null);try{return e()}finally{pe(t),Le(n)}}function Cn(e,t,n,r=n){e.addEventListener(t,()=>$t(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),cs()}function ds(e){N===null&&(R===null&&ja(),Da()),Ye&&Fa()}function vs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ue(e,t,n){var r=N;r!==null&&r.f&ue&&(e|=ue);var i={ctx:G,deps:null,nodes:null,f:e|ee|_e,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ct(i),i.f|=bn}catch(o){throw oe(i),o}else t!==null&&xe(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&!(a.f&lt)&&(a=a.first,e&Pe&&e&ot&&a!==null&&(a.f|=ot)),a!==null&&(a.parent=r,r!==null&&vs(a,r),R!==null&&R.f&$&&!(e&Xe))){var s=R;(s.effects??=[]).push(a)}return i}function An(){return R!==null&&!Ce}function en(e){const t=Ue(Yt,null,!1);return Y(t,Q),t.teardown=e,t}function ze(e){ds();var t=N.f,n=!R&&(t&Se)!==0&&(t&bn)===0;if(n){var r=G;(r.e??=[]).push(e)}else return Qr(e)}function Qr(e){return Ue(zt|Ia,e,!1)}function _s(e){Qe.ensure();const t=Ue(Xe|lt,e,!0);return(n={})=>new Promise(r=>{n.outro?tt(t,()=>{oe(t),r(void 0)}):(oe(t),r(void 0))})}function In(e){return Ue(zt,e,!1)}function hs(e){return Ue(wn|lt,e,!0)}function xt(e,t=0){return Ue(Yt|t,e,!0)}function Re(e,t=[],n=[],r=[]){rs(r,t,n,i=>{Ue(Yt,()=>e(...i.map(u)),!0)})}function Ln(e,t=0){var n=Ue(Pe|t,e,!0);return n}function he(e){return Ue(Se|lt,e,!0)}function Xr(e){var t=e.teardown;if(t!==null){const n=Ye,r=R;ii(!0),pe(null);try{t.call(null)}finally{ii(n),pe(r)}}}function Zr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&$t(()=>{i.abort(ut)});var r=n.next;n.f&Xe?n.parent=null:oe(n,t),n=r}}function ps(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Se||oe(t),t=n}}function oe(e,t=!0){var n=!1;(t||e.f&Er)&&e.nodes!==null&&e.nodes.end!==null&&($r(e.nodes.start,e.nodes.end),n=!0),Zr(e,t&&!n),nn(e,0),Y(e,Oe);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();Xr(e);var i=e.parent;i!==null&&i.first!==null&&ei(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function $r(e,t){for(;e!==null;){var n=e===t?null:Tt(e);e.remove(),e=n}}function ei(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function tt(e,t,n=!0){var r=[];ti(e,r,!0);var i=()=>{n&&oe(e),t&&t()},a=r.length;if(a>0){var s=()=>--a||i();for(var o of r)o.out(s)}else i()}function ti(e,t,n){if(!(e.f&ue)){e.f^=ue;var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var a=i.next,s=(i.f&ot)!==0||(i.f&Se)!==0&&(e.f&Pe)!==0;ti(i,t,s?n:!1),i=a}}}function Nn(e){ni(e,!0)}function ni(e,t){if(e.f&ue){e.f^=ue,e.f&Q||(Y(e,ee),xe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&ot)!==0||(n.f&Se)!==0;ni(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const s of a)(s.is_global||t)&&s.in()}}function ri(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Tt(n);t.append(n),n=i}}let tn=!1,Ye=!1;function ii(e){Ye=e}let R=null,Ce=!1;function pe(e){R=e}let N=null;function Le(e){N=e}let ge=null;function ai(e){R!==null&&(ge===null?ge=[e]:ge.push(e))}let le=null,fe=0,me=null;function gs(e){me=e}let si=1,nt=0,rt=nt;function oi(e){rt=e}function li(){return++si}function Rt(e){var t=e.f;if(t&ee)return!0;if(t&$&&(e.f&=~Ze),t&ke){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(Rt(a)&&jr(a),a.wv>e.wv)return!0}t&_e&&Te===null&&Y(e,Q)}return!1}function ui(e,t,n=!0){var r=e.reactions;if(r!==null&&!(ge!==null&&at.call(ge,e)))for(var i=0;i<r.length;i++){var a=r[i];a.f&$?ui(a,t,!1):t===a&&(n?Y(a,ee):a.f&Q&&Y(a,ke),xe(a))}}function fi(e){var t=le,n=fe,r=me,i=R,a=ge,s=G,o=Ce,l=rt,f=e.f;le=null,fe=0,me=null,R=f&(Se|Xe)?null:e,ge=null,ct(e.ctx),Ce=!1,rt=++nt,e.ac!==null&&($t(()=>{e.ac.abort(ut)}),e.ac=null);try{e.f|=yn;var c=e.fn,_=c(),d=e.deps,v=L?.is_fork;if(le!==null){var p;if(v||nn(e,fe),d!==null&&fe>0)for(d.length=fe+le.length,p=0;p<le.length;p++)d[fe+p]=le[p];else e.deps=d=le;if(An()&&e.f&_e)for(p=fe;p<d.length;p++)(d[p].reactions??=[]).push(e)}else!v&&d!==null&&fe<d.length&&(nn(e,fe),d.length=fe);if(St()&&me!==null&&!Ce&&d!==null&&!(e.f&($|ke|ee)))for(p=0;p<me.length;p++)ui(me[p],e);if(i!==null&&i!==e){if(nt++,i.deps!==null)for(let b=0;b<n;b+=1)i.deps[b].rv=nt;if(t!==null)for(const b of t)b.rv=nt;me!==null&&(r===null?r=me:r.push(...me))}return e.f&He&&(e.f^=He),_}catch(b){return Ar(b)}finally{e.f^=yn,le=t,fe=n,me=r,R=i,ge=a,ct(s),Ce=o,rt=l}}function ms(e,t){let n=t.reactions;if(n!==null){var r=Ta.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&$&&(le===null||!at.call(le,t))){var a=t;a.f&_e&&(a.f^=_e,a.f&=~Ze),Sn(a),Dr(a),nn(a,0)}}function nn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ms(e,n[r])}function Ct(e){var t=e.f;if(!(t&Oe)){Y(e,Q);var n=N,r=tn;N=e,tn=!0;try{t&(Pe|Sr)?ps(e):Zr(e),Xr(e);var i=fi(e);e.teardown=typeof i=="function"?i:null,e.wv=si;var a;hn&&Ga&&e.f&ee&&e.deps}finally{tn=r,N=n}}}async function Mn(){await Promise.resolve(),Xa()}function u(e){var t=e.f,n=(t&$)!==0;if(R!==null&&!Ce){var r=N!==null&&(N.f&Oe)!==0;if(!r&&(ge===null||!at.call(ge,e))){var i=R.deps;if(R.f&yn)e.rv<nt&&(e.rv=nt,le===null&&i!==null&&i[fe]===e?fe++:le===null?le=[e]:le.push(e));else{(R.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[R]:at.call(a,R)||a.push(R)}}}if(Ye&&Ve.has(e))return Ve.get(e);if(n){var s=e;if(Ye){var o=s.v;return(!(s.f&Q)&&s.reactions!==null||di(s))&&(o=xn(s)),Ve.set(s,o),o}var l=(s.f&_e)===0&&!Ce&&R!==null&&(tn||(R.f&_e)!==0),f=s.deps===null;Rt(s)&&(l&&(s.f|=_e),jr(s)),l&&!f&&ci(s)}if(Te?.has(e))return Te.get(e);if(e.f&He)throw e.v;return e.v}function ci(e){if(e.deps!==null){e.f|=_e;for(const t of e.deps)(t.reactions??=[]).push(e),t.f&$&&!(t.f&_e)&&ci(t)}}function di(e){if(e.v===Z)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ve.has(t)||t.f&$&&di(t))return!0;return!1}function pt(e){var t=Ce;try{return Ce=!0,e()}finally{Ce=t}}function bs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(De in e)Pn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&De in n&&Pn(n)}}}function Pn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Pn(e[r],t)}catch{}const n=gn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=br(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const vi=new Set,On=new Set;function ys(e,t,n,r={}){function i(a){if(r.capture||At.call(t,a),!a.cancelBubble)return $t(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ee(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function rn(e,t,n,r,i){var a={capture:r,passive:i},s=ys(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&en(()=>{t.removeEventListener(e,s,a)})}function an(e){for(var t=0;t<e.length;t++)vi.add(e[t]);for(var n of On)n(e)}let _i=null;function At(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;_i=e;var s=0,o=_i===e&&e.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;l<=f&&(s=l)}if(a=i[s]||e.target,a!==t){xa(e,"currentTarget",{configurable:!0,get(){return a||n}});var c=R,_=N;pe(null),Le(null);try{for(var d,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+r];b!=null&&(!a.disabled||e.target===a)&&b.call(a,e)}catch(h){d?v.push(h):d=h}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let h of v)queueMicrotask(()=>{throw h});throw d}}finally{e.__root=t,delete e.currentTarget,pe(c),Le(_)}}}function Fn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function It(e,t){var n=N;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function W(e,t){var n=(t&Sa)!==0,r=(t&ka)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=Fn(a?e:"<!>"+e),n||(i=Ie(i)));var s=r||zr?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Ie(s),l=s.lastChild;It(o,l)}else It(s,s);return s}}function ws(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=Fn(i),o=Ie(s);a=Ie(o)}var l=a.cloneNode(!0);return It(l,l),l}}function hi(e,t){return ws(e,t,"svg")}function gt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=We();return e.append(t,n),It(t,n),e}function P(e,t){e!==null&&e.before(t)}const Ss=["touchstart","touchmove"];function ks(e){return Ss.includes(e)}function Ge(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Lt(e,t){return Es(e,t)}const mt=new Map;function Es(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:s=!0}){us();var o=new Set,l=_=>{for(var d=0;d<_.length;d++){var v=_[d];if(!o.has(v)){o.add(v);var p=ks(v);t.addEventListener(v,At,{passive:p});var b=mt.get(v);b===void 0?(document.addEventListener(v,At,{passive:p}),mt.set(v,1)):mt.set(v,b+1)}}};l(Wt(vi)),On.add(l);var f=void 0,c=_s(()=>{var _=n??t.appendChild(We());return ts(_,{pending:()=>{}},d=>{dt({});var v=G;a&&(v.c=a),i&&(r.$$events=i),f=e(d,r)||{},vt()}),()=>{for(var d of o){t.removeEventListener(d,At);var v=mt.get(d);--v===0?(document.removeEventListener(d,At),mt.delete(d)):mt.set(d,v)}On.delete(l),_!==n&&_.parentNode?.removeChild(_)}});return Ts.set(f,c),f}let Ts=new WeakMap;class xs{anchor;#t=new Map;#o=new Map;#e=new Map;#a=new Set;#s=!0;constructor(t,n=!0){this.anchor=t,this.#s=n}#r=()=>{var t=L;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#o.get(n);if(r)Nn(r),this.#a.delete(n);else{var i=this.#e.get(n);i&&(this.#o.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,s]of this.#t){if(this.#t.delete(a),a===t)break;const o=this.#e.get(s);o&&(oe(o.effect),this.#e.delete(s))}for(const[a,s]of this.#o){if(a===n||this.#a.has(a))continue;const o=()=>{if(Array.from(this.#t.values()).includes(a)){var f=document.createDocumentFragment();ri(s,f),f.append(We()),this.#e.set(a,{effect:s,fragment:f})}else oe(s);this.#a.delete(a),this.#o.delete(a)};this.#s||!r?(this.#a.add(a),tt(s,o,!1)):o()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(oe(i.effect),this.#e.delete(r))};ensure(t,n){var r=L,i=Jr();if(n&&!this.#o.has(t)&&!this.#e.has(t))if(i){var a=document.createDocumentFragment(),s=We();a.append(s),this.#e.set(t,{effect:he(()=>n(s)),fragment:a})}else this.#o.set(t,he(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[o,l]of this.#o)o===t?r.unskip_effect(l):r.skip_effect(l);for(const[o,l]of this.#e)o===t?r.unskip_effect(l.effect):r.skip_effect(l.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function pi(e){G===null&&Ma(),ft&&G.l!==null?Rs(G).m.push(e):ze(()=>{const t=pt(e);if(typeof t=="function")return t})}function Rs(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function ce(e,t,n=!1){var r=new xs(e),i=n?ot:0;function a(s,o){r.ensure(s,o)}Ln(()=>{var s=!1;t((o,l=!0)=>{s=!0,a(l,o)}),s||a(!1,null)},i)}function Dn(e,t){return t}function Cs(e,t,n){for(var r=[],i=t.length,a,s=t.length,o=0;o<i;o++){let _=t[o];tt(_,()=>{if(a){if(a.pending.delete(_),a.done.add(_),a.pending.size===0){var d=e.outrogroups;jn(Wt(a.done)),d.delete(a),d.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var l=r.length===0&&n!==null;if(l){var f=n,c=f.parentNode;fs(c),c.append(f),e.items.clear()}jn(t,!l)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function jn(e,t=!0){for(var n=0;n<e.length;n++)oe(e[n],t)}var gi;function sn(e,t,n,r,i,a=null){var s=e,o=new Map,l=(t&mr)!==0;if(l){var f=e;s=f.appendChild(We())}var c=null,_=Tn(()=>{var S=n();return pn(S)?S:S==null?[]:Wt(S)}),d,v=!0;function p(){h.fallback=c,As(h,d,s,t,r),c!==null&&(d.length===0?c.f&Fe?(c.f^=Fe,Mt(c,null,s)):Nn(c):tt(c,()=>{c=null}))}var b=Ln(()=>{d=u(_);for(var S=d.length,D=new Set,g=L,C=Jr(),O=0;O<S;O+=1){var J=d[O],H=r(J,O),U=v?null:o.get(H);U?(U.v&&ht(U.v,J),U.i&&ht(U.i,O),C&&g.unskip_effect(U.e)):(U=Is(o,v?s:gi??=We(),J,H,O,i,t,n),v||(U.e.f|=Fe),o.set(H,U)),D.add(H)}if(S===0&&a&&!c&&(v?c=he(()=>a(s)):(c=he(()=>a(gi??=We())),c.f|=Fe)),S>D.size&&Oa(),!v)if(C){for(const[de,T]of o)D.has(de)||g.skip_effect(T.e);g.oncommit(p),g.ondiscard(()=>{})}else p();u(_)}),h={effect:b,items:o,outrogroups:null,fallback:c};v=!1}function Nt(e){for(;e!==null&&!(e.f&Se);)e=e.next;return e}function As(e,t,n,r,i){var a=(r&ha)!==0,s=t.length,o=e.items,l=Nt(e.effect.first),f,c=null,_,d=[],v=[],p,b,h,S;if(a)for(S=0;S<s;S+=1)p=t[S],b=i(p,S),h=o.get(b).e,h.f&Fe||(h.nodes?.a?.measure(),(_??=new Set).add(h));for(S=0;S<s;S+=1){if(p=t[S],b=i(p,S),h=o.get(b).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(h),T.done.delete(h);if(h.f&Fe)if(h.f^=Fe,h===l)Mt(h,null,n);else{var D=c?c.next:l;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Je(e,c,h),Je(e,h,D),Mt(h,D,n),c=h,d=[],v=[],l=Nt(c.next);continue}if(h.f&ue&&(Nn(h),a&&(h.nodes?.a?.unfix(),(_??=new Set).delete(h))),h!==l){if(f!==void 0&&f.has(h)){if(d.length<v.length){var g=v[0],C;c=g.prev;var O=d[0],J=d[d.length-1];for(C=0;C<d.length;C+=1)Mt(d[C],g,n);for(C=0;C<v.length;C+=1)f.delete(v[C]);Je(e,O.prev,J.next),Je(e,c,O),Je(e,J,g),l=g,c=J,S-=1,d=[],v=[]}else f.delete(h),Mt(h,l,n),Je(e,h.prev,h.next),Je(e,h,c===null?e.effect.first:c.next),Je(e,c,h),c=h;continue}for(d=[],v=[];l!==null&&l!==h;)(f??=new Set).add(l),v.push(l),l=Nt(l.next);if(l===null)continue}h.f&Fe||d.push(h),c=h,l=Nt(h.next)}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(jn(Wt(T.done)),e.outrogroups?.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||f!==void 0){var H=[];if(f!==void 0)for(h of f)h.f&ue||H.push(h);for(;l!==null;)!(l.f&ue)&&l!==e.fallback&&H.push(l),l=Nt(l.next);var U=H.length;if(U>0){var de=r&mr&&s===0?n:null;if(a){for(S=0;S<U;S+=1)H[S].nodes?.a?.measure();for(S=0;S<U;S+=1)H[S].nodes?.a?.fix()}Cs(e,H,de)}}a&&Ee(()=>{if(_!==void 0)for(h of _)h.nodes?.a?.apply()})}function Is(e,t,n,r,i,a,s,o){var l=s&va?s&pa?et(n):os(n,!1,!1):null,f=s&_a?et(i):null;return{v:l,i:f,e:he(()=>(a(t,l??n,f??i,o),()=>{e.delete(r)}))}}function Mt(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&!(t.f&Fe)?t.nodes.start:n;r!==null;){var s=Tt(r);if(a.before(r),r===i)return;r=s}}function Je(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function mi(e,t,n=!1,r=!1,i=!1){var a=e,s="";Re(()=>{var o=N;if(s!==(s=t()??"")&&(o.nodes!==null&&($r(o.nodes.start,o.nodes.end),o.nodes=null),s!=="")){var l=s+"";n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var f=Fn(l);if((n||r)&&(f=Ie(f)),It(Ie(f),f.lastChild),n||r)for(;Ie(f);)a.before(Ie(f));else a.before(f)}})}function Ke(e,t,n){In(()=>{var r=pt(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,a={};xt(()=>{var s=n();bs(s),i&&xr(a,s)&&(a=s,r.update(s))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function bi(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bi(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ls(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bi(e))&&(r&&(r+=" "),r+=t);return r}function Ns(e){return typeof e=="object"?Ls(e):e??""}const yi=[...` 	
\r\f\xA0\v\uFEFF`];function Ms(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,s=0;(s=r.indexOf(i,s))>=0;){var o=s+a;(s===0||yi.includes(r[s-1]))&&(o===r.length||yi.includes(r[o]))?r=(s===0?"":r.substring(0,s))+r.substring(o+1):s=o}}return r===""?null:r}function Ps(e,t){return e==null?null:String(e)}function wi(e,t,n,r,i,a){var s=e.__className;if(s!==n||s===void 0){var o=Ms(n,r,a);o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o),e.__className=n}else if(a&&i!==a)for(var l in a){var f=!!a[l];(i==null||f!==!!i[l])&&e.classList.toggle(l,f)}return a}function on(e,t,n,r){var i=e.__style;if(i!==t){var a=Ps(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}function Si(e,t,n=!1){if(e.multiple){if(t==null)return;if(!pn(t))return za();for(var r of e.options)r.selected=t.includes(Pt(r));return}for(r of e.options){var i=Pt(r);if(Vr(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Os(e){var t=new MutationObserver(()=>{Si(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),en(()=>{t.disconnect()})}function ki(e,t,n=t){var r=new WeakSet,i=!0;Cn(e,"change",a=>{var s=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),Pt);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");o=l&&Pt(l)}n(o),L!==null&&r.add(L)}),In(()=>{var a=t();if(e===document.activeElement){var s=Jt??L;if(r.has(s))return}if(Si(e,a,i),i&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=Pt(o),n(a))}e.__value=a,i=!1}),Os(e)}function Pt(e){return"__value"in e?e.__value:e.value}const Fs=Symbol("is custom element"),Ds=Symbol("is html");function js(e,t){var n=Ei(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function te(e,t,n,r){var i=Ei(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Na]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Us(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function qs(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function Ei(e){return e.__attributes??={[Fs]:e.nodeName.includes("-"),[Ds]:e.namespaceURI===Ea}}var Ti=new Map;function Us(e){var t=e.getAttribute("is")||e.nodeName,n=Ti.get(t);if(n)return n;Ti.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=br(i);for(var s in r)r[s].set&&n.push(s);i=gn(i)}return n}function Bs(e,t,n=t){var r=new WeakSet;Cn(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Un(e)?Bn(a):a,n(a),L!==null&&r.add(L),await Mn(),a!==(a=t())){var s=e.selectionStart,o=e.selectionEnd,l=e.value.length;if(e.value=a??"",o!==null){var f=e.value.length;s===o&&o===l&&f>l?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=s,e.selectionEnd=Math.min(o,f))}}}),pt(t)==null&&e.value&&(n(Un(e)?Bn(e.value):e.value),L!==null&&r.add(L)),xt(()=>{var i=t();if(e===document.activeElement){var a=Jt??L;if(r.has(a))return}Un(e)&&i===Bn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const qn=new Set;function Hs(e,t,n,r,i=r){var a=n.getAttribute("type")==="checkbox",s=e;if(t!==null)for(var o of t)s=s[o]??=[];s.push(n),Cn(n,"change",()=>{var l=n.__value;a&&(l=Vs(s,l,n.checked)),i(l)},()=>i(a?[]:null)),xt(()=>{var l=r();a?(l=l||[],n.checked=l.includes(n.__value)):n.checked=Vr(n.__value,l)}),en(()=>{var l=s.indexOf(n);l!==-1&&s.splice(l,1)}),qn.has(s)||(qn.add(s),Ee(()=>{s.sort((l,f)=>l.compareDocumentPosition(f)===4?-1:1),qn.delete(s)})),Ee(()=>{})}function Vs(e,t,n){for(var r=new Set,i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}function Un(e){var t=e.type;return t==="number"||t==="range"}function Bn(e){return e===""?null:+e}function xi(e,t){return e===t||e?.[De]===t}function Ot(e={},t,n,r){return In(()=>{var i,a;return xt(()=>{i=a,a=[],pt(()=>{e!==n(...a)&&(t(e,...a),i&&xi(n(...i),e)&&t(null,...i))})}),()=>{Ee(()=>{a&&xi(n(...a),e)&&t(null,...a)})}}),e}let ln=!1;function Ws(e){var t=ln;try{return ln=!1,[e(),ln]}finally{ln=t}}function z(e,t,n,r){var i=!ft||(n&ma)!==0,a=(n&ya)!==0,s=(n&wa)!==0,o=r,l=!0,f=()=>(l&&(l=!1,o=s?pt(r):r),o),c;if(a){var _=De in e||La in e;c=st(e,t)?.set??(_&&t in e?g=>e[t]=g:void 0)}var d,v=!1;a?[d,v]=Ws(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=f(),c&&(i&&Ua(),c(d)));var p;if(i?p=()=>{var g=e[t];return g===void 0?f():(l=!0,g)}:p=()=>{var g=e[t];return g!==void 0&&(o=void 0),g===void 0?o:g},i&&!(n&ba))return p;if(c){var b=e.$$legacy;return function(g,C){return arguments.length>0?((!i||!C||b||v)&&c(C?p():g),g):p()}}var h=!1,S=(n&ga?Qt:Tn)(()=>(h=!1,p()));a&&u(S);var D=N;return function(g,C){if(arguments.length>0){const O=C?u(S):i&&a?se(g):g;return w(S,O),h=!0,o!==void 0&&(o=O),g}return Ye&&h||D.f&Oe?S.v:u(S)}}Ja();function bt(e,t="body"){let n;async function r(a){if(t=a,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await Mn(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n.appendChild(e),e.hidden=!1}function i(){e.parentNode&&e.parentNode.removeChild(e)}return r(t),{update:r,destroy:i}}function Hn(e,t){return!e.some(n=>n&&n.contains(t))}const Vn=async e=>{const t={__mode:"content_types_for_search_action",blog_id:e.blogId,magic_token:e.magicToken};let n,r;try{r=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:t,dataType:"json",error:i=>{(i.readyState===0||i.status===0)&&(n="possibly unloaded")}})}catch(i){n??(n=i)}return n||r.result.success!==1?{contentTypes:[]}:{contentTypes:r.result.content_types}};var zs=W("<p></p>"),Ys=W("<li><a> </a></li>"),Gs=W('<p class="block-title"></p> <ul class="create-button-list"></ul>',1),Js=W('<div class="modal create-button-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><!> <p class="block-title"></p> <ul class="create-button-list"><li><a></a></li> <li><a></a></li></ul></div></div>');function Ks(e,t){dt(t,!0);let n=z(t,"open",7,!1),r=q(null),i=!1,a=q(!1),s=q(se([]));ze(()=>{if(t.anchorRef){if(u(r)){const v=t.anchorRef.getBoundingClientRect(),p=`calc(${v.bottom}px + 10px)`;u(r).style.top=p;const b=`calc(100vh - ${v.bottom}px - 10px - 20px)`;u(r).style.maxHeight=b}n()?(t.anchorRef.classList.add("open"),!i&&!u(a)&&(w(a,!0),Vn({blogId:t.blog_id,magicToken:t.magicToken}).then(v=>{w(s,v.contentTypes.filter(p=>p.can_create===1),!0),i=!0,w(a,!1)}).catch(v=>{console.error("Failed to fetch content types:",v),w(a,!1)}))):t.anchorRef.classList.remove("open")}});const o=()=>{n(!1)},l=v=>{if(t.containerRef&&t.containerRef.classList.contains("show"))return;const p=v.target;n()&&Hn([t.anchorRef,u(r)],p)&&o()};var f={get open(){return n()},set open(v){n(v)}},c=gt();rn("click",Zt.body,l);var _=qe(c);{var d=v=>{var p=Js(),b=m(p),h=m(b);h.__click=o;var S=x(b,2),D=m(S);{var g=y=>{var F=zs();F.textContent=window.trans("Loading..."),P(y,F)},C=y=>{var F=gt(),ne=qe(F);{var be=ve=>{var K=Gs(),V=qe(K);V.textContent=window.trans("Content Data");var yt=x(V,2);sn(yt,21,()=>u(s),Dn,(wt,Ae)=>{var Ne=Ys(),it=m(Ne),E=m(it);Re(A=>{te(it,"href",`${window.CMSScriptURI}?__mode=view&_type=content_data&content_type_id=${u(Ae).id}&type=content_data_${u(Ae).id}&blog_id=${t.blog_id}`),Ge(E,A)},[()=>window.trans("New [_1] creation",u(Ae).name)]),P(wt,Ne)}),P(ve,K)};ce(ne,ve=>{u(s).length>0&&ve(be)},!0)}P(y,F)};ce(D,y=>{u(a)?y(g):y(C,!1)})}var O=x(D,2);O.textContent=`${window.trans("Entry")}\u30FB${window.trans("Page")}`;var J=x(O,2),H=m(J),U=m(H);U.textContent=window.trans("New [_1] creation",window.trans("Entry"));var de=x(H,2),T=m(de);T.textContent=window.trans("New [_1] creation",window.trans("Page")),Ke(p,(y,F)=>bt?.(y,F),()=>"body"),Ot(p,y=>w(r,y),()=>u(r)),Re(()=>{te(U,"href",`${window.CMSScriptURI}?__mode=view&_type=entry&blog_id=${t.blog_id}`),te(T,"href",`${window.CMSScriptURI}?__mode=view&_type=page&blog_id=${t.blog_id}`)}),P(v,p)};ce(_,v=>{n()&&v(d)})}return P(e,c),vt(f)}an(["click"]);const Qs=({target:e,props:t})=>{const n=Lt(Ks,{target:e,props:{blog_id:t.blog_id,magicToken:t.magicToken,open:t.open,anchorRef:t.anchorRef,containerRef:t.containerRef}});e.addEventListener("click",r=>{r.preventDefault(),t.anchorRef.classList.contains("open")?n.open=!1:n.open=!0})},Ri="collapsed",Ci=()=>{const e=sessionStorage.getItem(Ri);return e==="true"?!0:e==="false"?!1:null},Xs=e=>{sessionStorage.setItem(Ri,e.toString())},Ai=e=>{e?document.documentElement.classList.add("mt-has-primary-navigation-collapsed"):document.documentElement.classList.remove("mt-has-primary-navigation-collapsed")};var Zs=W('<div class="mt-primaryNavigation-overlay"></div>');function $s(e,t){dt(t,!0);let n=z(t,"buttonRef",7),r=z(t,"collapsed",7,!1),i=z(t,"isStored",7,!1),a=q(!1);const s=(v,p)=>{const b=document.querySelector('[data-is="content-wrapper"]');p?b.classList.add(v):b.classList.remove(v)},o=()=>{s("collapsed",r())},l=()=>{s("mouseover",u(a))};ze(()=>{o(),w(a,!1),l(),n()&&(r()?(n().classList.remove("expanded"),n().classList.add("collapsed"),Ai(!0)):(n().classList.remove("collapsed"),n().classList.add("expanded"),Ai(!1)))});const f=()=>{var v;console.log("enter"),r()&&(w(a,!0),l(),(v=document.querySelector('[data-is="primary-navigation"]'))===null||v===void 0||v.addEventListener("mouseleave",c,{once:!0}))},c=()=>{console.log("leave"),w(a,!1),l()};pi(()=>{i()||window.innerWidth<1e3&&r(!0),window.innerWidth<800&&r(!0),o()});var _={get buttonRef(){return n()},set buttonRef(v){n(v)},get collapsed(){return r()},set collapsed(v){r(v)},get isStored(){return i()},set isStored(v){i(v)}},d=Zs();return Ke(d,(v,p)=>bt?.(v,p),()=>"body"),Re(()=>on(d,`display: ${r()?"block":"none"}`)),rn("mouseenter",d,f),P(e,d),vt(_)}function eo(e,t){const n=Lt($s,{target:e,props:{collapsed:t.collapsed,buttonRef:t.buttonRef,isStored:Ci()!==null}});t.buttonRef.addEventListener("click",()=>{t.buttonRef.classList.contains("collapsed")?n.collapsed=!1:n.collapsed=!0,Xs(n.collapsed)})}const Ii=e=>{const t=window.innerWidth-document.documentElement.clientWidth;t>0&&document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.classList.add("mt-modal-overlay")};var to=hi("<title> </title>"),no=hi('<svg role="img"><!><use></use></svg>');function Ft(e,t){let n=z(t,"style",3,void 0);var r=no(),i=m(r);{var a=o=>{var l=to(),f=m(l);Re(()=>Ge(f,t.title)),P(o,l)};ce(i,o=>{t.title&&o(a)})}var s=x(i);Re(()=>{wi(r,0,Ns(t.class)),on(r,n()),qs(s,"xlink:href",t.href)}),P(e,r)}var ro=W('<label><input type="radio"/> </label>'),io=W("<p></p>"),ao=W("<option> </option>"),so=W("<option></option>"),oo=W("<select><!></select>"),lo=W('<div class="mt-search-form"><div class="search-type"></div> <div class="search-content-type"><!></div> <div class="search-input-group"><div class="search-text-box"><input type="text"/></div> <div class="submit-button"><button type="button" class="btn btn-primary"><!> <span></span></button></div></div></div>');function Li(e,t){dt(t,!0);const n=[];let r=z(t,"blogId",7),i=z(t,"magicToken",7),a=z(t,"contentTypes",23,()=>[]),s=z(t,"searchTabs",23,()=>[]),o=z(t,"objectType",7),l=z(t,"isLoading",7,!1),f=Xt(()=>""),c=null;ze(()=>{c&&c.focus(),!u(f)&&a().length>0&&w(f,a()[0].id)});const _=T=>{T.preventDefault();const y=document.createElement("form");y.method="POST",y.action=window.ScriptURI;const F=(be,ve)=>{const K=document.createElement("input");return K.type="hidden",K.name=be,K.value=ve,K},ne=c?.value.trim()||"";y.appendChild(F("__mode","search_replace")),y.appendChild(F("blog_id",r())),y.appendChild(F("_type",o())),y.appendChild(F("do_search","1")),y.appendChild(F("magic_token",i())),y.appendChild(F("search",ne)),y.appendChild(F("content_type_id",u(f)||"")),y.appendChild(F("object_type",o())),document.body.appendChild(y),y.submit()};var d={get blogId(){return r()},set blogId(T){r(T)},get magicToken(){return i()},set magicToken(T){i(T)},get contentTypes(){return a()},set contentTypes(T){a(T)},get searchTabs(){return s()},set searchTabs(T){s(T)},get objectType(){return o()},set objectType(T){o(T)},get isLoading(){return l()},set isLoading(T){l(T)}},v=lo(),p=m(v);sn(p,21,s,Dn,(T,y)=>{var F=ro(),ne=m(F),be,ve=x(ne);Re(()=>{js(ne,o()===u(y).key),be!==(be=u(y).key)&&(ne.value=(ne.__value=u(y).key)??""),Ge(ve,` ${u(y).label??""}`)}),Hs(n,[],ne,()=>(u(y).key,o()),o),P(T,F)});var b=x(p,2),h=m(b);{var S=T=>{var y=io();y.textContent=window.trans("Loading..."),P(T,y)},D=T=>{var y=oo();let F;var ne=m(y);{var be=K=>{var V=gt(),yt=qe(V);sn(yt,17,a,Dn,(wt,Ae)=>{var Ne=ao(),it=m(Ne),E={};Re(()=>{Ge(it,u(Ae).name),E!==(E=u(Ae).id)&&(Ne.value=(Ne.__value=u(Ae).id)??"")}),P(wt,Ne)}),P(K,V)},ve=K=>{var V=so();V.textContent=window.trans("No Content Type could be found."),V.value=V.__value="",P(K,V)};ce(ne,K=>{a().length>0?K(be):K(ve,!1)})}Re(()=>{F=wi(y,1,"custom-select form-control form-select",null,F,{disabled:o()!=="content_data"}),y.disabled=o()!=="content_data"||a().length===0}),ki(y,()=>u(f),K=>w(f,K)),P(T,y)};ce(h,T=>{l()?T(S):T(D,!1)})}var g=x(b,2),C=m(g),O=m(C);te(O,"placeholder",window.trans("Select target and search text...")),O.__keydown=T=>{T.key==="Enter"&&!T.isComposing&&_(T)},Ot(O,T=>c=T,()=>c);var J=x(C,2),H=m(J);H.__click=_;var U=m(H);Ft(U,{title:window.trans("Search"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_search`});var de=x(U,2);return de.textContent=window.trans("Search"),P(e,v),vt(d)}an(["keydown","click"]);var uo=W('<div class="search-button-modal-overlay"></div> <div class="modal search-button-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><!></div></div>',1);function fo(e,t){dt(t,!0);let n=z(t,"blogId",7),r=z(t,"magicToken",7),i=z(t,"open",7,!1),a=z(t,"anchorRef",7),s=z(t,"searchTabs",7),o=z(t,"objectType",7),l=q(se([])),f=!1,c=q(!1);ze(()=>{a()&&(i()?(a().classList.add("open"),!f&&!u(c)&&(w(c,!0),Vn({blogId:n(),magicToken:r()}).then(g=>{w(l,g.contentTypes.filter(C=>C.can_search===1),!0),f=!0,w(c,!1)}).catch(g=>{console.error("Failed to fetch content types:",g),w(c,!1)}))):a().classList.remove("open"))});const _=()=>{i(!1)};let d=q(null);const v=g=>{const C=g.target;i()&&Hn([a(),u(d)],C)&&_()};let p=null;ze(()=>{i()}),pi(async()=>{o()&&s().find(g=>g.key===o())||o(s()[0].key)});var b={get blogId(){return n()},set blogId(g){n(g)},get magicToken(){return r()},set magicToken(g){r(g)},get open(){return i()},set open(g){i(g)},get anchorRef(){return a()},set anchorRef(g){a(g)},get searchTabs(){return s()},set searchTabs(g){s(g)},get objectType(){return o()},set objectType(g){o(g)}},h=gt();rn("click",Zt.body,v);var S=qe(h);{var D=g=>{var C=uo(),O=qe(C);O.__click=_,Ke(O,(y,F)=>bt?.(y,F),()=>"body"),Ke(O,y=>Ii?.(y));var J=x(O,2),H=m(J),U=m(H);U.__click=_;var de=x(H,2),T=m(de);Li(T,{get blogId(){return n()},get magicToken(){return r()},get contentTypes(){return u(l)},get objectType(){return o()},get searchTabs(){return s()},get isLoading(){return u(c)}}),Ot(J,y=>w(d,y),()=>u(d)),Ke(J,(y,F)=>bt?.(y,F),()=>"body"),P(g,C)};ce(S,g=>{i()&&g(D)})}return P(e,h),vt(b)}an(["click"]);function co(e,t){let n=[];if(e.dataset.searchTabsJson){const i=JSON.parse(e.dataset.searchTabsJson);if(i.error){e.remove();return}i.success&&(n=i.data)}const r=Lt(fo,{target:e,props:{searchTabs:n,objectType:e.dataset.objectType??"",...t}});t.anchorRef.addEventListener("click",i=>{i.preventDefault(),t.anchorRef.classList.contains("open")?r.open=!1:r.open=!0})}const Wn=async e=>{const t={__mode:"filtered_list",blog_id:"0",columns:"name,site_url,parent_website",datasource:"website",items:JSON.stringify(e.items),limit:e.limit,magic_token:e.magicToken,page:e.page,sort_by:"id",sort_order:"descend"};let n,r;try{r=await jQuery.ajax(window.ScriptURI,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",data:t,dataType:"json",error:s=>{(s.readyState===0||s.status===0)&&(n="possibly unloaded")}})}catch(s){n??(n=s)}if(n||r.error)return{count:0,page:0,pageMax:0,sites:[]};const i=new DOMParser,a=r.result.objects.map(s=>{const o=i.parseFromString(s[1],"text/html").querySelector("a")?.textContent?.trim()??"";return{id:s[0],name:o,siteUrl:s[2],parentSiteName:s[3]}});return{count:Number.parseInt(r.result.count),page:Number.parseInt(r.result.page),pageMax:Number.parseInt(r.result.page_max),sites:a}};var vo=W('<tr><td colspan="2" class="loading"></td></tr>'),_o=W('<span class="badge badge-site"></span>'),ho=W('<span class="badge badge-child-site"></span>'),po=W('<button aria-pressed="true"><span>\u2605</span></button>'),go=W('<button aria-pressed="false"><span>\u2606</span></button>'),mo=W('<span class="d-block d-md-none parent-site"><!></span>'),bo=W('<button aria-pressed="true"><span>\u2605</span></button>'),yo=W('<button aria-pressed="false"><span>\u2606</span></button>'),wo=W('<tr><td><span class="site-list-table-bagde-container"><!> <span class="site-list-table-action-buttons-mobile"><!> <span class="site-list-table-sortable-handle"><!></span></span></span> <a class="dashboard-link"> </a> <!> <a class="site-link" target="_blank"><span class="d-inline-block d-md-none"></span> <!></a></td><td class="site-list-table-parent-site"><!></td><td class="site-list-table-action"><span class="site-list-table-action-buttons"><!> <span class="site-list-table-sortable-handle"><!></span></span></td></tr>'),So=W('<div class="site-list-button-modal-overlay"></div> <div class="modal site-list-button-modal"><div class="modal-body"><div class="site-list-container"><div class="site-list-header"><div class="site-list-title"><span> </span> <p></p> <div class="d-block d-md-none"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div></div> <div class="site-list-actions"><div class="prev-next"><button type="button">&lt;&lt;</button> <button type="button">&lt;</button> <span class="page-num"><span class="current"> </span> </span> <button type="button">&gt;</button> <button type="button">&gt;&gt;</button></div> <div class="site-filter-actions"><div class="site-type-filter"><select class="custom-select form-control form-select"><option></option><option></option><option></option></select></div> <div class="site-name-filter"><input type="text"/> <button><!></button></div></div> <div class="d-none d-md-block"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div></div></div> <div class="site-list-table-header"><span class="table-header-col site-list-header-name"></span> <span class="table-header-col site-list-header-parent"></span></div> <div class="site-list-table-wrapper"><table><tbody><!></tbody></table></div></div></div></div>',1);function ko(e,t){dt(t,!0);let n=z(t,"magicToken",7),r=z(t,"limit",7,50),i=z(t,"open",7,!1),a=z(t,"anchorRef",7),s=z(t,"initialStarredSites",7),o=!1;ze(()=>{a()&&(i()?(a().classList.add("open"),o||(o=!0,T())):a().classList.remove("open"))});const l=()=>{i(!1)};let f=se({}),c=q(se([])),_=q(se([])),d=q(se([])),v=q(se(s())),p=q(0),b=q(1),h=q(1),S=Xt(()=>"parent_and_child_sites"),D=Xt(()=>""),g=q(se([])),C=q(!1),O=Xt(()=>null);const J=()=>{Ur(b),y()},H=()=>{w(b,u(h),!0),y()},U=()=>{Ur(b,-1),y()},de=()=>{w(b,1),y()},T=()=>{w(c,[],!0),w(_,u(v),!0),w(g,[],!0),u(S)==="child_sites_only"?w(g,[{type:"parent_website",args:{value:""}}],!0):u(S)==="parent_sites"&&w(g,[{type:"parent_website",args:{value:"1"}}],!0),w(D,u(D).trim()),u(D)!==""&&u(g).push({type:"name",args:{string:u(D),option:"contains"}}),w(b,1),y()},y=async()=>{if(w(C,!0),w(d,[],!0),u(c).length===0){const E=await Wn({magicToken:n(),items:u(g),page:u(b),limit:r()});w(p,E.count,!0),w(h,E.pageMax,!0),w(b,u(h)!==0?E.page:0,!0);const A=[];if(u(_).forEach(k=>{const B=E.sites.findIndex(re=>Number(re.id)===k);if(B!==-1)f[k]=E.sites[B],E.sites.splice(B,1);else{const re=f[k];if(!re)A.push(k);else{const ie=re.parentSiteName.match(/^<a/);(u(S)==="child_sites_only"&&!ie||u(S)==="parent_sites"&&ie)&&w(_,u(_).filter(ye=>ye!==k),!0)}}}),w(c,[...E.sites],!0),A.length>0){const k=await Wn({magicToken:n(),items:[...u(g),{type:"pack",args:{op:"or",items:A.map(B=>({type:"id",args:{value:B,option:"equal"}}))}}],page:0,limit:200});A.forEach(B=>{const re=k.sites.findIndex(ie=>Number(ie.id)===B);re!==-1?f[B]=k.sites[re]:(w(_,u(_).filter(ie=>ie!==B),!0),w(v,u(v).filter(ie=>ie!==B),!0))})}for(let k=0;k<r()&&k<u(_).length;k++)u(d).push(f[u(_)[k]]);for(let k=0;k<u(c).length&&u(d).length<r();k++)u(d).push(u(c)[k])}else{const E=u(_).length,A=(u(b)-1)*r();for(let k=A;k<E&&u(d).length<r();k++)u(d).push(f[u(_)[k]]);for(let k=Math.max(A-E,0);k<u(p)-E&&u(d).length<r();k++){if(!u(c)[k]){const B=Math.floor(k/r()),re=await Wn({magicToken:n(),items:[...u(g),...u(_).map(ye=>({type:"id",args:{value:ye,option:"not_equal"}}))],page:B+1,limit:r()}),ie=B*r();for(let ye=0;ye<re.sites.length;ye++)u(c)[ie+ye]=re.sites[ye]}u(d).push(u(c)[k])}}w(C,!1)},F=async E=>{const A=new FormData;return A.append("__mode","save_starred_sites"),A.append("magic_token",n()),E.forEach(k=>{A.append("id",String(k))}),fetch(window.ScriptURI,{method:"POST",body:A,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(k=>k.json()).then(k=>{if(k.error)throw new Error(k.error)})},ne=E=>{const A=[...u(v)];w(v,E,!0),F(u(v)).catch(k=>{alert(k.message),w(v,A,!0)})},be=(E,A)=>{E.stopPropagation(),ne([...new Set([...u(v),Number(A.id)])])},ve=(E,A)=>{E.stopPropagation();const k=Number(A.id);ne(u(v).filter(B=>B!==k))},K=E=>{const A=E.target;i()&&Hn([a(),u(O)],A)&&l()};let V=q(null);const yt=async()=>{await Mn(),u(V)&&jQuery(u(V)).sortable({delay:100,placeholder:"placeholder",distance:3,items:"tr[data-is-starred]",handle:".site-list-table-sortable-handle",opacity:.8,start(E,A){if(!u(V))return;const k=document.createElement("tr");k.classList.add("site-list-table-placeholder"),k.innerHTML="<td></td><td class='site-list-table-parent-site'></td><td class='site-list-table-action'></td>",u(V).insertBefore(k,u(V).firstChild),A.placeholder.height(A.item.height())},stop(){var E;(E=u(V)===null||u(V)===void 0?void 0:u(V).querySelector(".site-list-table-placeholder"))===null||E===void 0||E.remove()},update:()=>{if(!u(V))return;const E=[],A=[];u(V).querySelectorAll("tr[data-site-id]").forEach(B=>{const re=Number(B.dataset.siteId);B.dataset.isStarred&&A.push(Number(re)),E.push(u(d).find(ie=>Number(ie.id)===re))}),w(d,E,!0);const k=u(v).findIndex(B=>A.includes(B));w(v,[...u(v)],!0),u(v).splice(k,A.length,...A),ne(u(v))}})};ze(()=>{u(d)&&u(d).length>0&&i()&&!u(C)&&yt()});var wt={get magicToken(){return n()},set magicToken(E){n(E)},get limit(){return r()},set limit(E){r(E)},get open(){return i()},set open(E){i(E)},get anchorRef(){return a()},set anchorRef(E){a(E)},get initialStarredSites(){return s()},set initialStarredSites(E){s(E)}},Ae=gt();rn("click",Zt.body,K);var Ne=qe(Ae);{var it=E=>{var A=So(),k=qe(A);k.__click=l,Ke(k,(I,Me)=>bt?.(I,Me),()=>"body"),Ke(k,I=>Ii?.(I));var B=x(k,2),re=m(B),ie=m(re),ye=m(ie),Kn=m(ye),Qn=m(Kn),Oi=m(Qn),Xn=x(Qn,2);Xn.textContent=window.trans("Site List");var Fi=x(Xn,2),Di=m(Fi);Di.__click=l;var ji=x(Kn,2),Zn=m(ji),Dt=m(Zn);Dt.__click=de,Dt.__keydown=I=>I.key==="Enter"&&de();var jt=x(Dt,2);jt.__click=U,jt.__keydown=I=>I.key==="Enter"&&U();var $n=x(jt,2),er=m($n),qi=m(er),Ui=x(er),qt=x($n,2);qt.__click=J,qt.__keydown=I=>I.key==="Enter"&&J();var un=x(qt,2);un.__click=H,un.__keydown=I=>I.key==="Enter"&&H();var tr=x(Zn,2),nr=m(tr),fn=m(nr);fn.__change=T;var Ut=m(fn);Ut.textContent=window.trans("Parent Sites"),Ut.value=Ut.__value="parent_sites";var Bt=x(Ut);Bt.textContent=window.trans("Parent and child sites"),Bt.value=Bt.__value="parent_and_child_sites";var cn=x(Bt);cn.textContent=window.trans("Only child sites"),cn.value=cn.__value="child_sites_only";var Bi=x(nr,2),Ht=m(Bi);te(Ht,"placeholder",window.trans("Filter by site name")),Ht.__keydown=I=>I.key==="Enter"&&T();var rr=x(Ht,2);rr.__click=T;var Hi=m(rr);Ft(Hi,{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_search`});var Vi=x(tr,2),Wi=m(Vi);Wi.__click=l;var ir=x(ye,2),ar=m(ir);ar.textContent=window.trans("Site Name");var zi=x(ar,2);zi.textContent=window.trans("Parent Site");var Yi=x(ir,2),Gi=m(Yi),sr=m(Gi),Ji=m(sr);{var Ki=I=>{var Me=vo(),dn=m(Me);dn.textContent=window.trans("Loading..."),P(I,Me)},Qi=I=>{var Me=gt(),dn=qe(Me);sn(dn,17,()=>u(d),vn=>vn.id,(vn,X)=>{var Vt=wo(),or=m(Vt),lr=m(or),ur=m(lr);{var Xi=j=>{var M=_o();M.textContent=window.trans("Site"),P(j,M)},Zi=j=>{var M=ho();M.textContent=window.trans("Child Site"),P(j,M)};ce(ur,j=>{u(X).parentSiteName==="-"?j(Xi):j(Zi,!1)})}var $i=x(ur,2),fr=m($i);{var ea=j=>{var M=po();M.__click=we=>ve(we,u(X)),te(M,"aria-label",window.trans("Remove from starred sites")),te(M,"title",window.trans("Remove from starred sites")),P(j,M)},ta=j=>{var M=go();M.__click=we=>be(we,u(X)),te(M,"aria-label",window.trans("Add to starred sites")),te(M,"title",window.trans("Add to starred sites")),P(j,M)};ce(fr,j=>{u(v).includes(Number(u(X).id))?j(ea):j(ta,!1)})}var cr=x(fr,2),na=m(cr);Ft(na,{title:window.trans("Move"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_move`,style:"height: 15px;"});var _n=x(lr,2),ra=m(_n),dr=x(_n,2);{var ia=j=>{var M=mo(),we=m(M);mi(we,()=>u(X).parentSiteName),P(j,M)};ce(dr,j=>{u(X).parentSiteName!=="-"&&j(ia)})}var vr=x(dr,2),_r=m(vr);_r.textContent=window.trans("View your site.");var aa=x(_r,2);Ft(aa,{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_permalink`});var hr=x(or),sa=m(hr);mi(sa,()=>u(X).parentSiteName);var oa=x(hr),la=m(oa),pr=m(la);{var ua=j=>{var M=bo();M.__click=we=>ve(we,u(X)),te(M,"aria-label",window.trans("Remove from starred sites")),te(M,"title",window.trans("Remove from starred sites")),P(j,M)},fa=j=>{var M=yo();M.__click=we=>be(we,u(X)),te(M,"aria-label",window.trans("Add to starred sites")),te(M,"title",window.trans("Add to starred sites")),P(j,M)};ce(pr,j=>{u(v).includes(Number(u(X).id))?j(ua):j(fa,!1)})}var gr=x(pr,2),ca=m(gr);Ft(ca,{title:window.trans("Move"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_move`,style:"height: 15px;"}),Re((j,M,we)=>{te(Vt,"data-site-id",u(X).id),te(Vt,"data-is-starred",j),on(cr,M),te(_n,"href",`${window.ScriptURI}?__mode=dashboard&blog_id=${u(X).id}`),Ge(ra,u(X).name),te(vr,"href",u(X).siteUrl),on(gr,we)},[()=>u(v).includes(Number(u(X).id))||void 0,()=>u(v).includes(Number(u(X).id))?"cursor: move":"visibility: hidden;",()=>u(v).includes(Number(u(X).id))?"cursor: move":"visibility: hidden;"]),P(vn,Vt)}),P(I,Me)};ce(Ji,I=>{u(C)?I(Ki):I(Qi,!1)})}Ot(sr,I=>w(V,I),()=>u(V)),Ke(B,(I,Me)=>bt?.(I,Me),()=>"body"),Ot(B,I=>w(O,I),()=>u(O)),Re(I=>{Ge(Oi,`(${I??""})`),Dt.disabled=u(b)<=1,jt.disabled=u(b)<=1,Ge(qi,u(b)),Ge(Ui,`/${u(h)??""}`),qt.disabled=u(b)===u(h),un.disabled=u(b)===u(h)},[()=>window.trans("[_1]Site",u(p).toString())]),ki(fn,()=>u(S),I=>w(S,I)),Bs(Ht,()=>u(D),I=>w(D,I)),P(E,A)};ce(Ne,E=>{i()&&E(it)})}return P(e,Ae),vt(wt)}an(["click","keydown","change"]);function Eo(e,t){const n=Lt(ko,{target:e,props:{magicToken:t.magicToken,limit:t.limit,open:t.open,anchorRef:t.anchorRef,initialStarredSites:t.initialStarredSites}});t.anchorRef.addEventListener("click",r=>{r.preventDefault(),t.anchorRef.classList.contains("open")?n.open=!1:n.open=!0})}function To(e,t){let n=[];if(e.dataset.searchTabsJson){const a=JSON.parse(e.dataset.searchTabsJson);if(a.error){e.closest("li[data-is='search-form-button']")?.remove(),e.remove();return}a.success&&(n=a.data)}const r={searchTabs:n,objectType:e.dataset.objectType??"",contentTypes:t.contentTypes||[],isLoading:!1,...t},i=Lt(Li,{target:e,props:r});e.closest("li[data-is='search-form-button']").addEventListener("click",a=>{a.preventDefault(),r.isLoading=!0,Vn({blogId:t.blogId,magicToken:t.magicToken}).then(s=>{const o=s.contentTypes.filter(l=>l.can_search===1);i.contentTypes=o,i.contentTypes.length>0&&i.objectType===""&&(i.objectType="content_data"),i.isLoading=!1}).catch(s=>{console.error("Failed to fetch content types:",s),i.isLoading=!1})},{once:!0})}const zn=document.querySelector('[data-is="primary-navigation-toggle"]');zn!==null&&eo(zn,{collapsed:Ci()??!1,buttonRef:zn.getElementsByTagName("button")[0]});const Yn=document.querySelector('[data-script="admin-ui"]');Yn===null&&console.error("data-script='admin-ui' is not set");const Gn=Yn?.getAttribute("data-blog-id")??"",Be=Yn?.getAttribute("data-magic-token")??"";Be===""&&console.error("data-magic-token is not set");const xo="50",Ni=document.querySelectorAll('[data-is="site-list-button"]');Ni.length>0&&Be!==""&&Ni.forEach(e=>{Eo(e,{magicToken:Be,limit:Number.parseInt(xo),open:!1,anchorRef:e,initialStarredSites:e.dataset.starredSites?.split(",").map(Number).filter(Number.isInteger)||[]})});const Mi=document.querySelectorAll('[data-is="create-button"]'),Jn=document.querySelector('[data-is="search-button"]'),Ro=document.querySelector("div.mt-modal");Mi.length>0&&Be!==""&&Mi.forEach(e=>{Qs({target:e,props:{blog_id:Gn,magicToken:Be,open:!1,anchorRef:e,containerRef:Ro}})}),Jn!==null&&Be!==""&&co(Jn,{blogId:Gn,magicToken:Be,open:!1,anchorRef:Jn});const Pi=document.querySelector('[data-is="search-form"]');Pi!==null&&Be!==""&&To(Pi,{blogId:Gn,magicToken:Be});
