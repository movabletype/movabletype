import"src/@types/contenttype";import{fetchContentTypes as hn}from"src/utils/fetch-content-types";import{fetchSites as pn}from"src/utils/fetch-sites";const da="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(da);const va=1,_a=2,mr=4,ha=8,pa=16,ga=1,ma=2,ba=4,wa=8,ya=16,Sa=1,Ea=2,Q=Symbol(),ka="http://www.w3.org/1999/xhtml";var gn=!1,mn=Array.isArray,Ta=Array.prototype.indexOf,at=Array.prototype.includes,Wt=Array.from,xa=Object.defineProperty,st=Object.getOwnPropertyDescriptor,br=Object.getOwnPropertyDescriptors,Ra=Object.prototype,Ca=Array.prototype,bn=Object.getPrototypeOf,wr=Object.isExtensible;function Aa(e){for(var t=0;t<e.length;t++)e[t]()}function yr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const $=2,zt=4,Yt=8,Sr=1<<24,Pe=16,Se=32,Ze=64,wn=128,_e=512,X=1024,ee=2048,Ee=4096,fe=8192,Oe=16384,yn=32768,lt=65536,Er=1<<17,kr=1<<18,ot=1<<19,La=1<<20,Fe=1<<25,Qe=32768,Sn=1<<21,En=1<<22,He=1<<23,De=Symbol("$state"),Na=Symbol("legacy props"),Ia=Symbol(""),ft=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ma(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Pa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Oa(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Fa(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Da(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ja(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ba(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ha(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wa(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function za(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ya(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Tr(e){return e===this.v}function xr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rr(e){return!xr(e,this.v)}let ut=!1,Ga=!1;function Ja(){ut=!0}let G=null;function ct(e){G=e}function dt(e,t=!1,n){G={p:G,i:!1,c:null,e:null,s:e,x:null,l:ut&&!t?{s:null,u:null,$:[]}:null}}function vt(e){var t=G,n=t.e;if(n!==null){t.e=null;for(var r of n)Xr(r)}return e!==void 0&&(t.x=e),t.i=!0,G=t.p,e??{}}function St(){return!ut||G!==null&&G.l===null}let $e=[];function Cr(){var e=$e;$e=[],Aa(e)}function ke(e){if($e.length===0&&!Et){var t=$e;queueMicrotask(()=>{t===$e&&Cr()})}$e.push(e)}function Ka(){for(;$e.length>0;)Cr()}function Ar(e){var t=I;if(t===null)return R.f|=He,e;if((t.f&yn)===0){if((t.f&wn)===0)throw e;t.b.error(e)}else _t(e,t)}function _t(e,t){for(;t!==null;){if((t.f&wn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Xa=-7169;function Y(e,t){e.f=e.f&Xa|t}function kn(e){(e.f&_e)!==0||e.deps===null?Y(e,X):Y(e,Ee)}function Lr(e){if(e!==null)for(const t of e)(t.f&$)===0||(t.f&Qe)===0||(t.f^=Qe,Lr(t.deps))}function Nr(e,t,n){(e.f&ee)!==0?t.add(e):(e.f&Ee)!==0&&n.add(e),Lr(e.deps),Y(e,X)}const Gt=new Set;let N=null,Jt=null,Te=null,ae=[],Kt=null,Tn=!1,Et=!1;class Xe{committed=!1;current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#a=0;#s=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)Y(r,ee),xe(r);for(r of n.m)Y(r,Ee),xe(r)}}process(t){ae=[],this.apply();var n=[],r=[];for(const i of t)this.#f(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const[i,a]of this.#i)Fr(i,a)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#c(),Jt=this,N=null,Mr(r),Mr(n),Jt=null,this.#s?.resolve()}Te=null}#f(t,n,r){t.f^=X;for(var i=t.first,a=null;i!==null;){var s=i.f,l=(s&(Se|Ze))!==0,o=l&&(s&X)!==0,u=o||(s&fe)!==0||this.#i.has(i);if(!u&&i.fn!==null){l?i.f^=X:a!==null&&(s&(zt|Yt|Sr))!==0?a.b.defer_effect(i):(s&zt)!==0?n.push(i):Rt(i)&&((s&Pe)!==0&&this.#n.add(i),Ct(i));var c=i.first;if(c!==null){i=c;continue}}var _=i.parent;for(i=i.next;i===null&&_!==null;)_===a&&(a=null),i=_.next,_=_.parent}}#u(t){for(var n=0;n<t.length;n+=1)Nr(t[n],this.#r,this.#n)}capture(t,n){n!==Q&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&He)===0&&(this.current.set(t,t.v),Te?.set(t,t.v))}activate(){N=this,this.apply()}deactivate(){N===this&&(N=null,Te=null)}flush(){if(this.activate(),ae.length>0){if(Ir(),N!==null&&N!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#c(){if(Gt.size>1){this.previous.clear();var t=Te,n=!0;for(const i of Gt){if(i===this){n=!1;continue}const a=[];for(const[l,o]of this.current){if(i.current.has(l))if(n&&o!==i.current.get(l))i.current.set(l,o);else continue;a.push(l)}if(a.length===0)continue;const s=[...i.current.keys()].filter(l=>!this.current.has(l));if(s.length>0){var r=ae;ae=[];const l=new Set,o=new Map;for(const u of a)Pr(u,s,l,o);if(ae.length>0){N=i,i.apply();for(const u of ae)i.#f(u,[],[]);i.deactivate()}ae=r}}N=null,Te=t}this.committed=!0,Gt.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#o&&(this.#o=!0,ke(()=>{this.#o=!1,this.is_deferred()?ae.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),Y(t,ee),xe(t);for(const t of this.#n)Y(t,Ee),xe(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#s??=yr()).promise}static ensure(){if(N===null){const t=N=new Xe;Gt.add(N),Et||ke(()=>{N===t&&t.flush()})}return N}apply(){}}function Za(e){var t=Et;Et=!0;try{for(var n;;){if(Ka(),ae.length===0&&(N?.flush(),ae.length===0))return Kt=null,n;Ir()}}finally{Et=t}}function Ir(){Tn=!0;var e=null;try{for(var t=0;ae.length>0;){var n=Xe.ensure();if(t++>1e3){var r,i;Qa()}n.process(ae),Ve.clear()}}finally{ae=[],Tn=!1,Kt=null}}function Qa(){try{qa()}catch(e){_t(e,Kt)}}let je=null;function Mr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Oe|fe))===0&&Rt(r)&&(je=new Set,Ct(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?ei(r):r.fn=null),je?.size>0)){Ve.clear();for(const i of je){if((i.f&(Oe|fe))!==0)continue;const a=[i];let s=i.parent;for(;s!==null;)je.has(s)&&(je.delete(s),a.push(s)),s=s.parent;for(let l=a.length-1;l>=0;l--){const o=a[l];(o.f&(Oe|fe))===0&&Ct(o)}}je.clear()}}je=null}}function Pr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&$)!==0?Pr(i,t,n,r):(a&(En|Pe))!==0&&(a&ee)===0&&Or(i,t,r)&&(Y(i,ee),xe(i))}}function Or(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(at.call(t,i))return!0;if((i.f&$)!==0&&Or(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function xe(e){for(var t=Kt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Tn&&t===I&&(n&Pe)!==0&&(n&kr)===0)return;if((n&(Ze|Se))!==0){if((n&X)===0)return;t.f^=X}}ae.push(t)}function Fr(e,t){if(!((e.f&Se)!==0&&(e.f&X)!==0)){(e.f&ee)!==0?t.d.push(e):(e.f&Ee)!==0&&t.m.push(e),Y(e,X);for(var n=e.first;n!==null;)Fr(n,t),n=n.next}}function $a(e){let t=0,n=et(0),r;return()=>{Nn()&&(f(n),xt(()=>(t===0&&(r=pt(()=>e(()=>kt(n)))),t+=1,()=>{ke(()=>{t-=1,t===0&&(r?.(),r=void 0,kt(n))})})))}}var es=lt|ot|wn;function ts(e,t,n){new ns(e,t,n)}class ns{parent;is_pending=!1;#t;#l=null;#e;#a;#s;#r=null;#n=null;#i=null;#o=null;#f=null;#u=0;#c=0;#_=!1;#v=!1;#h=new Set;#p=new Set;#d=null;#y=$a(()=>(this.#d=et(this.#u),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#a=r,this.parent=I.b,this.is_pending=!!this.#e.pending,this.#s=Mn(()=>{I.b=this;{var i=this.#b();try{this.#r=he(()=>r(i))}catch(a){this.error(a)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#f?.remove()}},es)}#S(){try{this.#r=he(()=>this.#a(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#n=he(()=>t(this.#t)),ke(()=>{var n=this.#b();this.#r=this.#g(()=>(Xe.ensure(),he(()=>this.#a(n)))),this.#c>0?this.#m():(tt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#b(){var t=this.#t;return this.is_pending&&(this.#f=We(),this.#t.before(this.#f),t=this.#f),t}defer_effect(t){Nr(t,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var n=I,r=R,i=G;Ne(this.#s),pe(this.#s),ct(this.#s.ctx);try{return t()}catch(a){return Ar(a),null}finally{Ne(n),pe(r),ct(i)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#f),ri(this.#r,this.#o)),this.#n===null&&(this.#n=he(()=>t(this.#t)))}#w(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#h)Y(n,ee),xe(n);for(const n of this.#p)Y(n,Ee),xe(n);this.#h.clear(),this.#p.clear(),this.#n&&tt(this.#n,()=>{this.#n=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#w(t),this.#u+=t,!(!this.#d||this.#_)&&(this.#_=!0,ke(()=>{this.#_=!1,this.#d&&ht(this.#d,this.#u)}))}get_effect_pending(){return this.#y(),f(this.#d)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#v||!n&&!r)throw t;this.#r&&(le(this.#r),this.#r=null),this.#n&&(le(this.#n),this.#n=null),this.#i&&(le(this.#i),this.#i=null);var i=!1,a=!1;const s=()=>{if(i){Ya();return}i=!0,a&&Wa(),Xe.ensure(),this.#u=0,this.#i!==null&&tt(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#v=!1,he(()=>this.#a(this.#t)))),this.#c>0?this.#m():this.is_pending=!1};ke(()=>{try{a=!0,n?.(t,s),a=!1}catch(l){_t(l,this.#s&&this.#s.parent)}r&&(this.#i=this.#g(()=>{Xe.ensure(),this.#v=!0;try{return he(()=>{r(this.#t,()=>t,()=>s)})}catch(l){return _t(l,this.#s.parent),null}finally{this.#v=!1}}))})}}function rs(e,t,n,r){const i=St()?Xt:Rn;var a=e.filter(d=>!d.settled);if(n.length===0&&a.length===0){r(t.map(i));return}var s=N,l=I,o=is(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(d=>d.promise)):null;function c(d){o();try{r(d)}catch(v){(l.f&Oe)===0&&_t(v,l)}s?.deactivate(),xn()}if(n.length===0){u.then(()=>c(t.map(i)));return}function _(){o(),Promise.all(n.map(d=>as(d))).then(d=>c([...t.map(i),...d])).catch(d=>_t(d,l))}u?u.then(_):_()}function is(){var e=I,t=R,n=G,r=N;return function(a=!0){Ne(e),pe(t),ct(n),a&&r?.activate()}}function xn(){Ne(null),pe(null),ct(null)}function Xt(e){var t=$|ee,n=R!==null&&(R.f&$)!==0?R:null;return I!==null&&(I.f|=ot),{ctx:G,deps:null,effects:null,equals:Tr,f:t,fn:e,reactions:null,rv:0,v:Q,wv:0,parent:n??I,ac:null}}function as(e,t,n){let r=I;r===null&&Pa();var i=r.b,a=void 0,s=et(Q),l=!R,o=new Map;return hs(()=>{var u=yr();a=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{c===N&&c.committed&&c.deactivate(),xn()})}catch(v){u.reject(v),xn()}var c=N;if(l){var _=i.is_rendered();i.update_pending_count(1),c.increment(_),o.get(c)?.reject(ft),o.delete(c),o.set(c,u)}const d=(v,p=void 0)=>{if(c.activate(),p)p!==ft&&(s.f|=He,ht(s,p));else{(s.f&He)!==0&&(s.f^=He),ht(s,v);for(const[b,h]of o){if(o.delete(b),b===c)break;h.reject(ft)}}l&&(i.update_pending_count(-1),c.decrement(_))};u.promise.then(d,v=>d(null,v||"unknown"))}),en(()=>{for(const u of o.values())u.reject(ft)}),new Promise(u=>{function c(_){function d(){_===a?u(s):c(a)}_.then(d,d)}c(a)})}function Zt(e){const t=Xt(e);return ai(t),t}function Rn(e){const t=Xt(e);return t.equals=Rr,t}function Dr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function ss(e){for(var t=e.parent;t!==null;){if((t.f&$)===0)return(t.f&Oe)===0?t:null;t=t.parent}return null}function Cn(e){var t,n=I;Ne(ss(e));try{e.f&=~Qe,Dr(e),t=ui(e)}finally{Ne(n)}return t}function jr(e){var t=Cn(e);if(!e.equals(t)&&(e.wv=oi(),(!N?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){Y(e,X);return}Ye||(Te!==null?(Nn()||N?.is_fork)&&Te.set(e,t):kn(e))}let An=new Set;const Ve=new Map;let qr=!1;function et(e,t){var n={f:0,v:e,reactions:null,equals:Tr,rv:0,wv:0};return n}function q(e,t){const n=et(e);return ai(n),n}function ls(e,t=!1,n=!0){const r=et(e);return t||(r.equals=Rr),ut&&n&&G!==null&&G.l!==null&&(G.l.s??=[]).push(r),r}function y(e,t,n=!1){R!==null&&(!Ce||(R.f&Er)!==0)&&St()&&(R.f&($|Pe|En|Er))!==0&&(ge===null||!at.call(ge,e))&&Va();let r=n?se(t):t;return ht(e,r)}function ht(e,t){if(!e.equals(t)){var n=e.v;Ye?Ve.set(e,t):Ve.set(e,n),e.v=t;var r=Xe.ensure();if(r.capture(e,n),(e.f&$)!==0){const i=e;(e.f&ee)!==0&&Cn(i),kn(i)}e.wv=oi(),Br(e,ee),St()&&I!==null&&(I.f&X)!==0&&(I.f&(Se|Ze))===0&&(me===null?gs([e]):me.push(e)),!r.is_fork&&An.size>0&&!qr&&os()}return t}function os(){qr=!1;for(const e of An)(e.f&X)!==0&&Y(e,Ee),Rt(e)&&Ct(e);An.clear()}function Ur(e,t=1){var n=f(e),r=t===1?n++:n--;return y(e,n),r}function kt(e){y(e,e.v+1)}function Br(e,t){var n=e.reactions;if(n!==null)for(var r=St(),i=n.length,a=0;a<i;a++){var s=n[a],l=s.f;if(!(!r&&s===I)){var o=(l&ee)===0;if(o&&Y(s,t),(l&$)!==0){var u=s;Te?.delete(u),(l&Qe)===0&&(l&_e&&(s.f|=Qe),Br(u,Ee))}else o&&((l&Pe)!==0&&je!==null&&je.add(s),xe(s))}}}function se(e){if(typeof e!="object"||e===null||De in e)return e;const t=bn(e);if(t!==Ra&&t!==Ca)return e;var n=new Map,r=mn(e),i=q(0),a=rt,s=l=>{if(rt===a)return l();var o=R,u=rt;pe(null),li(a);var c=l();return pe(o),li(u),c};return r&&n.set("length",q(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ba();var c=n.get(o);return c===void 0?c=s(()=>{var _=q(u.value);return n.set(o,_),_}):y(c,u.value,!0),!0},deleteProperty(l,o){var u=n.get(o);if(u===void 0){if(o in l){const c=s(()=>q(Q));n.set(o,c),kt(i)}}else y(u,Q),kt(i);return!0},get(l,o,u){if(o===De)return e;var c=n.get(o),_=o in l;if(c===void 0&&(!_||st(l,o)?.writable)&&(c=s(()=>{var v=se(_?l[o]:Q),p=q(v);return p}),n.set(o,c)),c!==void 0){var d=f(c);return d===Q?void 0:d}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var c=n.get(o);c&&(u.value=f(c))}else if(u===void 0){var _=n.get(o),d=_?.v;if(_!==void 0&&d!==Q)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,o){if(o===De)return!0;var u=n.get(o),c=u!==void 0&&u.v!==Q||Reflect.has(l,o);if(u!==void 0||I!==null&&(!c||st(l,o)?.writable)){u===void 0&&(u=s(()=>{var d=c?se(l[o]):Q,v=q(d);return v}),n.set(o,u));var _=f(u);if(_===Q)return!1}return c},set(l,o,u,c){var _=n.get(o),d=o in l;if(r&&o==="length")for(var v=u;v<_.v;v+=1){var p=n.get(v+"");p!==void 0?y(p,Q):v in l&&(p=s(()=>q(Q)),n.set(v+"",p))}if(_===void 0)(!d||st(l,o)?.writable)&&(_=s(()=>q(void 0)),y(_,se(u)),n.set(o,_));else{d=_.v!==Q;var b=s(()=>se(u));y(_,b)}var h=Reflect.getOwnPropertyDescriptor(l,o);if(h?.set&&h.set.call(c,u),!d){if(r&&typeof o=="string"){var S=n.get("length"),D=Number(o);Number.isInteger(D)&&D>=S.v&&y(S,D+1)}kt(i)}return!0},ownKeys(l){f(i);var o=Reflect.ownKeys(l).filter(_=>{var d=n.get(_);return d===void 0||d.v!==Q});for(var[u,c]of n)c.v!==Q&&!(u in l)&&o.push(u);return o},setPrototypeOf(){Ha()}})}function Hr(e){try{if(e!==null&&typeof e=="object"&&De in e)return e[De]}catch{}return e}function Vr(e,t){return Object.is(Hr(e),Hr(t))}var Wr,Qt,zr,Yr,Gr;function fs(){if(Wr===void 0){Wr=window,Qt=document,zr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yr=st(t,"firstChild").get,Gr=st(t,"nextSibling").get,wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),wr(n)&&(n.__t=void 0)}}function We(e=""){return document.createTextNode(e)}function Le(e){return Yr.call(e)}function Tt(e){return Gr.call(e)}function m(e,t){return Le(e)}function qe(e,t=!1){{var n=Le(e);return n instanceof Comment&&n.data===""?Tt(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Tt(r);return r}function us(e){e.textContent=""}function Jr(){return!1}let Kr=!1;function cs(){Kr||(Kr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function $t(e){var t=R,n=I;pe(null),Ne(null);try{return e()}finally{pe(t),Ne(n)}}function Ln(e,t,n,r=n){e.addEventListener(t,()=>$t(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),cs()}function ds(e){I===null&&(R===null&&ja(),Da()),Ye&&Fa()}function vs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ue(e,t,n){var r=I;r!==null&&(r.f&fe)!==0&&(e|=fe);var i={ctx:G,deps:null,nodes:null,f:e|ee|_e,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ct(i),i.f|=yn}catch(l){throw le(i),l}else t!==null&&xe(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&ot)===0&&(a=a.first,(e&Pe)!==0&&(e&lt)!==0&&a!==null&&(a.f|=lt)),a!==null&&(a.parent=r,r!==null&&vs(a,r),R!==null&&(R.f&$)!==0&&(e&Ze)===0)){var s=R;(s.effects??=[]).push(a)}return i}function Nn(){return R!==null&&!Ce}function en(e){const t=Ue(Yt,null,!1);return Y(t,X),t.teardown=e,t}function ze(e){ds();var t=I.f,n=!R&&(t&Se)!==0&&(t&yn)===0;if(n){var r=G;(r.e??=[]).push(e)}else return Xr(e)}function Xr(e){return Ue(zt|La,e,!1)}function _s(e){Xe.ensure();const t=Ue(Ze|ot,e,!0);return(n={})=>new Promise(r=>{n.outro?tt(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function In(e){return Ue(zt,e,!1)}function hs(e){return Ue(En|ot,e,!0)}function xt(e,t=0){return Ue(Yt|t,e,!0)}function Re(e,t=[],n=[],r=[]){rs(r,t,n,i=>{Ue(Yt,()=>e(...i.map(f)),!0)})}function Mn(e,t=0){var n=Ue(Pe|t,e,!0);return n}function he(e){return Ue(Se|ot,e,!0)}function Zr(e){var t=e.teardown;if(t!==null){const n=Ye,r=R;ii(!0),pe(null);try{t.call(null)}finally{ii(n),pe(r)}}}function Qr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&$t(()=>{i.abort(ft)});var r=n.next;(n.f&Ze)!==0?n.parent=null:le(n,t),n=r}}function ps(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Se)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&kr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&($r(e.nodes.start,e.nodes.end),n=!0),Qr(e,t&&!n),nn(e,0),Y(e,Oe);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();Zr(e);var i=e.parent;i!==null&&i.first!==null&&ei(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function $r(e,t){for(;e!==null;){var n=e===t?null:Tt(e);e.remove(),e=n}}function ei(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function tt(e,t,n=!0){var r=[];ti(e,r,!0);var i=()=>{n&&le(e),t&&t()},a=r.length;if(a>0){var s=()=>--a||i();for(var l of r)l.out(s)}else i()}function ti(e,t,n){if((e.f&fe)===0){e.f^=fe;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var a=i.next,s=(i.f&lt)!==0||(i.f&Se)!==0&&(e.f&Pe)!==0;ti(i,t,s?n:!1),i=a}}}function Pn(e){ni(e,!0)}function ni(e,t){if((e.f&fe)!==0){e.f^=fe,(e.f&X)===0&&(Y(e,ee),xe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&lt)!==0||(n.f&Se)!==0;ni(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const s of a)(s.is_global||t)&&s.in()}}function ri(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Tt(n);t.append(n),n=i}}let tn=!1,Ye=!1;function ii(e){Ye=e}let R=null,Ce=!1;function pe(e){R=e}let I=null;function Ne(e){I=e}let ge=null;function ai(e){R!==null&&(ge===null?ge=[e]:ge.push(e))}let oe=null,ue=0,me=null;function gs(e){me=e}let si=1,nt=0,rt=nt;function li(e){rt=e}function oi(){return++si}function Rt(e){var t=e.f;if((t&ee)!==0)return!0;if(t&$&&(e.f&=~Qe),(t&Ee)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var a=n[i];if(Rt(a)&&jr(a),a.wv>e.wv)return!0}(t&_e)!==0&&Te===null&&Y(e,X)}return!1}function fi(e,t,n=!0){var r=e.reactions;if(r!==null&&!(ge!==null&&at.call(ge,e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&$)!==0?fi(a,t,!1):t===a&&(n?Y(a,ee):(a.f&X)!==0&&Y(a,Ee),xe(a))}}function ui(e){var t=oe,n=ue,r=me,i=R,a=ge,s=G,l=Ce,o=rt,u=e.f;oe=null,ue=0,me=null,R=(u&(Se|Ze))===0?e:null,ge=null,ct(e.ctx),Ce=!1,rt=++nt,e.ac!==null&&($t(()=>{e.ac.abort(ft)}),e.ac=null);try{e.f|=Sn;var c=e.fn,_=c(),d=e.deps,v=N?.is_fork;if(oe!==null){var p;if(v||nn(e,ue),d!==null&&ue>0)for(d.length=ue+oe.length,p=0;p<oe.length;p++)d[ue+p]=oe[p];else e.deps=d=oe;if(Nn()&&(e.f&_e)!==0)for(p=ue;p<d.length;p++)(d[p].reactions??=[]).push(e)}else!v&&d!==null&&ue<d.length&&(nn(e,ue),d.length=ue);if(St()&&me!==null&&!Ce&&d!==null&&(e.f&($|Ee|ee))===0)for(p=0;p<me.length;p++)fi(me[p],e);if(i!==null&&i!==e){if(nt++,i.deps!==null)for(let b=0;b<n;b+=1)i.deps[b].rv=nt;if(t!==null)for(const b of t)b.rv=nt;me!==null&&(r===null?r=me:r.push(...me))}return(e.f&He)!==0&&(e.f^=He),_}catch(b){return Ar(b)}finally{e.f^=Sn,oe=t,ue=n,me=r,R=i,ge=a,ct(s),Ce=l,rt=o}}function ms(e,t){let n=t.reactions;if(n!==null){var r=Ta.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&$)!==0&&(oe===null||!at.call(oe,t))){var a=t;(a.f&_e)!==0&&(a.f^=_e,a.f&=~Qe),kn(a),Dr(a),nn(a,0)}}function nn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ms(e,n[r])}function Ct(e){var t=e.f;if((t&Oe)===0){Y(e,X);var n=I,r=tn;I=e,tn=!0;try{(t&(Pe|Sr))!==0?ps(e):Qr(e),Zr(e);var i=ui(e);e.teardown=typeof i=="function"?i:null,e.wv=si;var a;gn&&Ga&&(e.f&ee)!==0&&e.deps}finally{tn=r,I=n}}}async function On(){await Promise.resolve(),Za()}function f(e){var t=e.f,n=(t&$)!==0;if(R!==null&&!Ce){var r=I!==null&&(I.f&Oe)!==0;if(!r&&(ge===null||!at.call(ge,e))){var i=R.deps;if((R.f&Sn)!==0)e.rv<nt&&(e.rv=nt,oe===null&&i!==null&&i[ue]===e?ue++:oe===null?oe=[e]:oe.push(e));else{(R.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[R]:at.call(a,R)||a.push(R)}}}if(Ye&&Ve.has(e))return Ve.get(e);if(n){var s=e;if(Ye){var l=s.v;return((s.f&X)===0&&s.reactions!==null||di(s))&&(l=Cn(s)),Ve.set(s,l),l}var o=(s.f&_e)===0&&!Ce&&R!==null&&(tn||(R.f&_e)!==0),u=s.deps===null;Rt(s)&&(o&&(s.f|=_e),jr(s)),o&&!u&&ci(s)}if(Te?.has(e))return Te.get(e);if((e.f&He)!==0)throw e.v;return e.v}function ci(e){if(e.deps!==null){e.f|=_e;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&$)!==0&&(t.f&_e)===0&&ci(t)}}function di(e){if(e.v===Q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ve.has(t)||(t.f&$)!==0&&di(t))return!0;return!1}function pt(e){var t=Ce;try{return Ce=!0,e()}finally{Ce=t}}function bs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(De in e)Fn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&De in n&&Fn(n)}}}function Fn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Fn(e[r],t)}catch{}const n=bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=br(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}const vi=new Set,Dn=new Set;function ws(e,t,n,r={}){function i(a){if(r.capture||At.call(t,a),!a.cancelBubble)return $t(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ke(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function rn(e,t,n,r,i){var a={capture:r,passive:i},s=ws(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&en(()=>{t.removeEventListener(e,s,a)})}function an(e){for(var t=0;t<e.length;t++)vi.add(e[t]);for(var n of Dn)n(e)}let _i=null;function At(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;_i=e;var s=0,l=_i===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(s=o)}if(a=i[s]||e.target,a!==t){xa(e,"currentTarget",{configurable:!0,get(){return a||n}});var c=R,_=I;pe(null),Ne(null);try{for(var d,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+r];b!=null&&(!a.disabled||e.target===a)&&b.call(a,e)}catch(h){d?v.push(h):d=h}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let h of v)queueMicrotask(()=>{throw h});throw d}}finally{e.__root=t,delete e.currentTarget,pe(c),Ne(_)}}}function jn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Lt(e,t){var n=I;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function W(e,t){var n=(t&Sa)!==0,r=(t&Ea)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=jn(a?e:"<!>"+e),n||(i=Le(i)));var s=r||zr?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=Le(s),o=s.lastChild;Lt(l,o)}else Lt(s,s);return s}}function ys(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=jn(i),l=Le(s);a=Le(l)}var o=a.cloneNode(!0);return Lt(o,o),o}}function hi(e,t){return ys(e,t,"svg")}function gt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=We();return e.append(t,n),Lt(t,n),e}function P(e,t){e!==null&&e.before(t)}const Ss=["touchstart","touchmove"];function Es(e){return Ss.includes(e)}function Ge(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Nt(e,t){return ks(e,t)}const mt=new Map;function ks(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:s=!0}){fs();var l=new Set,o=_=>{for(var d=0;d<_.length;d++){var v=_[d];if(!l.has(v)){l.add(v);var p=Es(v);t.addEventListener(v,At,{passive:p});var b=mt.get(v);b===void 0?(document.addEventListener(v,At,{passive:p}),mt.set(v,1)):mt.set(v,b+1)}}};o(Wt(vi)),Dn.add(o);var u=void 0,c=_s(()=>{var _=n??t.appendChild(We());return ts(_,{pending:()=>{}},d=>{dt({});var v=G;a&&(v.c=a),i&&(r.$$events=i),u=e(d,r)||{},vt()}),()=>{for(var d of l){t.removeEventListener(d,At);var v=mt.get(d);--v===0?(document.removeEventListener(d,At),mt.delete(d)):mt.set(d,v)}Dn.delete(o),_!==n&&_.parentNode?.removeChild(_)}});return Ts.set(u,c),u}let Ts=new WeakMap;class xs{anchor;#t=new Map;#l=new Map;#e=new Map;#a=new Set;#s=!0;constructor(t,n=!0){this.anchor=t,this.#s=n}#r=()=>{var t=N;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#l.get(n);if(r)Pn(r),this.#a.delete(n);else{var i=this.#e.get(n);i&&(this.#l.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,s]of this.#t){if(this.#t.delete(a),a===t)break;const l=this.#e.get(s);l&&(le(l.effect),this.#e.delete(s))}for(const[a,s]of this.#l){if(a===n||this.#a.has(a))continue;const l=()=>{if(Array.from(this.#t.values()).includes(a)){var u=document.createDocumentFragment();ri(s,u),u.append(We()),this.#e.set(a,{effect:s,fragment:u})}else le(s);this.#a.delete(a),this.#l.delete(a)};this.#s||!r?(this.#a.add(a),tt(s,l,!1)):l()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(le(i.effect),this.#e.delete(r))};ensure(t,n){var r=N,i=Jr();if(n&&!this.#l.has(t)&&!this.#e.has(t))if(i){var a=document.createDocumentFragment(),s=We();a.append(s),this.#e.set(t,{effect:he(()=>n(s)),fragment:a})}else this.#l.set(t,he(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[l,o]of this.#l)l===t?r.unskip_effect(o):r.skip_effect(o);for(const[l,o]of this.#e)l===t?r.unskip_effect(o.effect):r.skip_effect(o.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function pi(e){G===null&&Ma(),ut&&G.l!==null?Rs(G).m.push(e):ze(()=>{const t=pt(e);if(typeof t=="function")return t})}function Rs(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function ce(e,t,n=!1){var r=new xs(e),i=n?lt:0;function a(s,l){r.ensure(s,l)}Mn(()=>{var s=!1;t((l,o=!0)=>{s=!0,a(o,l)}),s||a(!1,null)},i)}function qn(e,t){return t}function Cs(e,t,n){for(var r=[],i=t.length,a,s=t.length,l=0;l<i;l++){let _=t[l];tt(_,()=>{if(a){if(a.pending.delete(_),a.done.add(_),a.pending.size===0){var d=e.outrogroups;Un(Wt(a.done)),d.delete(a),d.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var o=r.length===0&&n!==null;if(o){var u=n,c=u.parentNode;us(c),c.append(u),e.items.clear()}Un(t,!o)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function Un(e,t=!0){for(var n=0;n<e.length;n++)le(e[n],t)}var gi;function sn(e,t,n,r,i,a=null){var s=e,l=new Map,o=(t&mr)!==0;if(o){var u=e;s=u.appendChild(We())}var c=null,_=Rn(()=>{var S=n();return mn(S)?S:S==null?[]:Wt(S)}),d,v=!0;function p(){h.fallback=c,As(h,d,s,t,r),c!==null&&(d.length===0?(c.f&Fe)===0?Pn(c):(c.f^=Fe,Mt(c,null,s)):tt(c,()=>{c=null}))}var b=Mn(()=>{d=f(_);for(var S=d.length,D=new Set,g=N,C=Jr(),O=0;O<S;O+=1){var J=d[O],H=r(J,O),U=v?null:l.get(H);U?(U.v&&ht(U.v,J),U.i&&ht(U.i,O),C&&g.unskip_effect(U.e)):(U=Ls(l,v?s:gi??=We(),J,H,O,i,t,n),v||(U.e.f|=Fe),l.set(H,U)),D.add(H)}if(S===0&&a&&!c&&(v?c=he(()=>a(s)):(c=he(()=>a(gi??=We())),c.f|=Fe)),S>D.size&&Oa(),!v)if(C){for(const[de,T]of l)D.has(de)||g.skip_effect(T.e);g.oncommit(p),g.ondiscard(()=>{})}else p();f(_)}),h={effect:b,items:l,outrogroups:null,fallback:c};v=!1}function It(e){for(;e!==null&&(e.f&Se)===0;)e=e.next;return e}function As(e,t,n,r,i){var a=(r&ha)!==0,s=t.length,l=e.items,o=It(e.effect.first),u,c=null,_,d=[],v=[],p,b,h,S;if(a)for(S=0;S<s;S+=1)p=t[S],b=i(p,S),h=l.get(b).e,(h.f&Fe)===0&&(h.nodes?.a?.measure(),(_??=new Set).add(h));for(S=0;S<s;S+=1){if(p=t[S],b=i(p,S),h=l.get(b).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(h),T.done.delete(h);if((h.f&Fe)!==0)if(h.f^=Fe,h===o)Mt(h,null,n);else{var D=c?c.next:o;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Je(e,c,h),Je(e,h,D),Mt(h,D,n),c=h,d=[],v=[],o=It(c.next);continue}if((h.f&fe)!==0&&(Pn(h),a&&(h.nodes?.a?.unfix(),(_??=new Set).delete(h))),h!==o){if(u!==void 0&&u.has(h)){if(d.length<v.length){var g=v[0],C;c=g.prev;var O=d[0],J=d[d.length-1];for(C=0;C<d.length;C+=1)Mt(d[C],g,n);for(C=0;C<v.length;C+=1)u.delete(v[C]);Je(e,O.prev,J.next),Je(e,c,O),Je(e,J,g),o=g,c=J,S-=1,d=[],v=[]}else u.delete(h),Mt(h,o,n),Je(e,h.prev,h.next),Je(e,h,c===null?e.effect.first:c.next),Je(e,c,h),c=h;continue}for(d=[],v=[];o!==null&&o!==h;)(u??=new Set).add(o),v.push(o),o=It(o.next);if(o===null)continue}(h.f&Fe)===0&&d.push(h),c=h,o=It(h.next)}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(Un(Wt(T.done)),e.outrogroups?.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||u!==void 0){var H=[];if(u!==void 0)for(h of u)(h.f&fe)===0&&H.push(h);for(;o!==null;)(o.f&fe)===0&&o!==e.fallback&&H.push(o),o=It(o.next);var U=H.length;if(U>0){var de=(r&mr)!==0&&s===0?n:null;if(a){for(S=0;S<U;S+=1)H[S].nodes?.a?.measure();for(S=0;S<U;S+=1)H[S].nodes?.a?.fix()}Cs(e,H,de)}}a&&ke(()=>{if(_!==void 0)for(h of _)h.nodes?.a?.apply()})}function Ls(e,t,n,r,i,a,s,l){var o=(s&va)!==0?(s&pa)===0?ls(n,!1,!1):et(n):null,u=(s&_a)!==0?et(i):null;return{v:o,i:u,e:he(()=>(a(t,o??n,u??i,l),()=>{e.delete(r)}))}}function Mt(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&Fe)===0?t.nodes.start:n;r!==null;){var s=Tt(r);if(a.before(r),r===i)return;r=s}}function Je(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function mi(e,t,n=!1,r=!1,i=!1){var a=e,s="";Re(()=>{var l=I;if(s!==(s=t()??"")&&(l.nodes!==null&&($r(l.nodes.start,l.nodes.end),l.nodes=null),s!=="")){var o=s+"";n?o=`<svg>${o}</svg>`:r&&(o=`<math>${o}</math>`);var u=jn(o);if((n||r)&&(u=Le(u)),Lt(Le(u),u.lastChild),n||r)for(;Le(u);)a.before(Le(u));else a.before(u)}})}function Ke(e,t,n){In(()=>{var r=pt(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,a={};xt(()=>{var s=n();bs(s),i&&xr(a,s)&&(a=s,r.update(s))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function bi(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bi(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ns(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bi(e))&&(r&&(r+=" "),r+=t);return r}function Is(e){return typeof e=="object"?Ns(e):e??""}const wi=[...` 	
\r\f\xA0\v\uFEFF`];function Ms(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,s=0;(s=r.indexOf(i,s))>=0;){var l=s+a;(s===0||wi.includes(r[s-1]))&&(l===r.length||wi.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function Ps(e,t){return e==null?null:String(e)}function yi(e,t,n,r,i,a){var s=e.__className;if(s!==n||s===void 0){var l=Ms(n,r,a);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(a&&i!==a)for(var o in a){var u=!!a[o];(i==null||u!==!!i[o])&&e.classList.toggle(o,u)}return a}function ln(e,t,n,r){var i=e.__style;if(i!==t){var a=Ps(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}function Si(e,t,n=!1){if(e.multiple){if(t==null)return;if(!mn(t))return za();for(var r of e.options)r.selected=t.includes(Pt(r));return}for(r of e.options){var i=Pt(r);if(Vr(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Os(e){var t=new MutationObserver(()=>{Si(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),en(()=>{t.disconnect()})}function Ei(e,t,n=t){var r=new WeakSet,i=!0;Ln(e,"change",a=>{var s=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(s),Pt);else{var o=e.querySelector(s)??e.querySelector("option:not([disabled])");l=o&&Pt(o)}n(l),N!==null&&r.add(N)}),In(()=>{var a=t();if(e===document.activeElement){var s=Jt??N;if(r.has(s))return}if(Si(e,a,i),i&&a===void 0){var l=e.querySelector(":checked");l!==null&&(a=Pt(l),n(a))}e.__value=a,i=!1}),Os(e)}function Pt(e){return"__value"in e?e.__value:e.value}const Fs=Symbol("is custom element"),Ds=Symbol("is html");function js(e,t){var n=ki(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function te(e,t,n,r){var i=ki(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Ia]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Us(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function qs(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function ki(e){return e.__attributes??={[Fs]:e.nodeName.includes("-"),[Ds]:e.namespaceURI===ka}}var Ti=new Map;function Us(e){var t=e.getAttribute("is")||e.nodeName,n=Ti.get(t);if(n)return n;Ti.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=br(i);for(var s in r)r[s].set&&n.push(s);i=bn(i)}return n}function Bs(e,t,n=t){var r=new WeakSet;Ln(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Hn(e)?Vn(a):a,n(a),N!==null&&r.add(N),await On(),a!==(a=t())){var s=e.selectionStart,l=e.selectionEnd,o=e.value.length;if(e.value=a??"",l!==null){var u=e.value.length;s===l&&l===o&&u>o?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(l,u))}}}),pt(t)==null&&e.value&&(n(Hn(e)?Vn(e.value):e.value),N!==null&&r.add(N)),xt(()=>{var i=t();if(e===document.activeElement){var a=Jt??N;if(r.has(a))return}Hn(e)&&i===Vn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const Bn=new Set;function Hs(e,t,n,r,i=r){var a=n.getAttribute("type")==="checkbox",s=e;if(t!==null)for(var l of t)s=s[l]??=[];s.push(n),Ln(n,"change",()=>{var o=n.__value;a&&(o=Vs(s,o,n.checked)),i(o)},()=>i(a?[]:null)),xt(()=>{var o=r();a?(o=o||[],n.checked=o.includes(n.__value)):n.checked=Vr(n.__value,o)}),en(()=>{var o=s.indexOf(n);o!==-1&&s.splice(o,1)}),Bn.has(s)||(Bn.add(s),ke(()=>{s.sort((o,u)=>o.compareDocumentPosition(u)===4?-1:1),Bn.delete(s)})),ke(()=>{})}function Vs(e,t,n){for(var r=new Set,i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}function Hn(e){var t=e.type;return t==="number"||t==="range"}function Vn(e){return e===""?null:+e}function xi(e,t){return e===t||e?.[De]===t}function Ot(e={},t,n,r){return In(()=>{var i,a;return xt(()=>{i=a,a=[],pt(()=>{e!==n(...a)&&(t(e,...a),i&&xi(n(...i),e)&&t(null,...i))})}),()=>{ke(()=>{a&&xi(n(...a),e)&&t(null,...a)})}}),e}let on=!1;function Ws(e){var t=on;try{return on=!1,[e(),on]}finally{on=t}}function z(e,t,n,r){var i=!ut||(n&ma)!==0,a=(n&wa)!==0,s=(n&ya)!==0,l=r,o=!0,u=()=>(o&&(o=!1,l=s?pt(r):r),l),c;if(a){var _=De in e||Na in e;c=st(e,t)?.set??(_&&t in e?g=>e[t]=g:void 0)}var d,v=!1;a?[d,v]=Ws(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),c&&(i&&Ua(),c(d)));var p;if(i?p=()=>{var g=e[t];return g===void 0?u():(o=!0,g)}:p=()=>{var g=e[t];return g!==void 0&&(l=void 0),g===void 0?l:g},i&&(n&ba)===0)return p;if(c){var b=e.$$legacy;return(function(g,C){return arguments.length>0?((!i||!C||b||v)&&c(C?p():g),g):p()})}var h=!1,S=((n&ga)!==0?Xt:Rn)(()=>(h=!1,p()));a&&f(S);var D=I;return(function(g,C){if(arguments.length>0){const O=C?f(S):i&&a?se(g):g;return y(S,O),h=!0,l!==void 0&&(l=O),g}return Ye&&h||(D.f&Oe)!==0?S.v:f(S)})}Ja();function bt(e,t="body"){let n;async function r(a){if(t=a,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await On(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n.appendChild(e),e.hidden=!1}function i(){e.parentNode&&e.parentNode.removeChild(e)}return r(t),{update:r,destroy:i}}function Wn(e,t){return!e.some(n=>n&&n.contains(t))}var zs=W("<p></p>"),Ys=W("<li><a> </a></li>"),Gs=W('<p class="block-title"></p> <ul class="create-button-list"></ul>',1),Js=W('<div class="modal create-button-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><!> <p class="block-title"></p> <ul class="create-button-list"><li><a></a></li> <li><a></a></li></ul></div></div>');function Ks(e,t){dt(t,!0);let n=z(t,"open",7,!1),r=q(null),i=!1,a=q(!1),s=q(se([]));ze(()=>{if(t.anchorRef){if(f(r)){const v=t.anchorRef.getBoundingClientRect(),p=`calc(${v.bottom}px + 10px)`;f(r).style.top=p;const b=`calc(100vh - ${v.bottom}px - 10px - 20px)`;f(r).style.maxHeight=b}n()?(t.anchorRef.classList.add("open"),!i&&!f(a)&&(y(a,!0),hn({blogId:t.blog_id,magicToken:t.magicToken}).then(v=>{y(s,v.contentTypes.filter(p=>p.can_create===1),!0),i=!0,y(a,!1)}).catch(v=>{console.error("Failed to fetch content types:",v),y(a,!1)}))):t.anchorRef.classList.remove("open")}});const l=()=>{n(!1)},o=v=>{if(t.containerRef&&t.containerRef.classList.contains("show"))return;const p=v.target;n()&&Wn([t.anchorRef,f(r)],p)&&l()};var u={get open(){return n()},set open(v){n(v)}},c=gt();rn("click",Qt.body,o);var _=qe(c);{var d=v=>{var p=Js(),b=m(p),h=m(b);h.__click=l;var S=x(b,2),D=m(S);{var g=w=>{var F=zs();F.textContent=window.trans("Loading..."),P(w,F)},C=w=>{var F=gt(),ne=qe(F);{var be=ve=>{var K=Gs(),V=qe(K);V.textContent=window.trans("Content Data");var wt=x(V,2);sn(wt,21,()=>f(s),qn,(yt,Ae)=>{var Ie=Ys(),it=m(Ie),k=m(it);Re(A=>{te(it,"href",`${window.CMSScriptURI}?__mode=view&_type=content_data&content_type_id=${f(Ae).id}&type=content_data_${f(Ae).id}&blog_id=${t.blog_id}`),Ge(k,A)},[()=>window.trans("New [_1] creation",f(Ae).name)]),P(yt,Ie)}),P(ve,K)};ce(ne,ve=>{f(s).length>0&&ve(be)},!0)}P(w,F)};ce(D,w=>{f(a)?w(g):w(C,!1)})}var O=x(D,2);O.textContent=`${window.trans("Entry")}\u30FB${window.trans("Page")}`;var J=x(O,2),H=m(J),U=m(H);U.textContent=window.trans("New [_1] creation",window.trans("Entry"));var de=x(H,2),T=m(de);T.textContent=window.trans("New [_1] creation",window.trans("Page")),Ke(p,(w,F)=>bt?.(w,F),()=>"body"),Ot(p,w=>y(r,w),()=>f(r)),Re(()=>{te(U,"href",`${window.CMSScriptURI}?__mode=view&_type=entry&blog_id=${t.blog_id}`),te(T,"href",`${window.CMSScriptURI}?__mode=view&_type=page&blog_id=${t.blog_id}`)}),P(v,p)};ce(_,v=>{n()&&v(d)})}return P(e,c),vt(u)}an(["click"]);const Xs=({target:e,props:t})=>{const n=Nt(Ks,{target:e,props:{blog_id:t.blog_id,magicToken:t.magicToken,open:t.open,anchorRef:t.anchorRef,containerRef:t.containerRef}});e.addEventListener("click",r=>{r.preventDefault(),t.anchorRef.classList.contains("open")?n.open=!1:n.open=!0})},Ri="collapsed",Ci=()=>{const e=sessionStorage.getItem(Ri);return e==="true"?!0:e==="false"?!1:null},Zs=e=>{sessionStorage.setItem(Ri,e.toString())},Ai=e=>{e?document.documentElement.classList.add("mt-has-primary-navigation-collapsed"):document.documentElement.classList.remove("mt-has-primary-navigation-collapsed")};var Qs=W('<div class="mt-primaryNavigation-overlay"></div>');function $s(e,t){dt(t,!0);let n=z(t,"buttonRef",7),r=z(t,"collapsed",7,!1),i=z(t,"isStored",7,!1),a=q(!1);const s=(v,p)=>{const b=document.querySelector('[data-is="content-wrapper"]');p?b.classList.add(v):b.classList.remove(v)},l=()=>{s("collapsed",r())},o=()=>{s("mouseover",f(a))};ze(()=>{l(),y(a,!1),o(),n()&&(r()?(n().classList.remove("expanded"),n().classList.add("collapsed"),Ai(!0)):(n().classList.remove("collapsed"),n().classList.add("expanded"),Ai(!1)))});const u=()=>{var v;console.log("enter"),r()&&(y(a,!0),o(),(v=document.querySelector('[data-is="primary-navigation"]'))===null||v===void 0||v.addEventListener("mouseleave",c,{once:!0}))},c=()=>{console.log("leave"),y(a,!1),o()};pi(()=>{i()||window.innerWidth<1e3&&r(!0),window.innerWidth<800&&r(!0),l()});var _={get buttonRef(){return n()},set buttonRef(v){n(v)},get collapsed(){return r()},set collapsed(v){r(v)},get isStored(){return i()},set isStored(v){i(v)}},d=Qs();return Ke(d,(v,p)=>bt?.(v,p),()=>"body"),Re(()=>ln(d,`display: ${r()?"block":"none"}`)),rn("mouseenter",d,u),P(e,d),vt(_)}function el(e,t){const n=Nt($s,{target:e,props:{collapsed:t.collapsed,buttonRef:t.buttonRef,isStored:Ci()!==null}});t.buttonRef.addEventListener("click",()=>{t.buttonRef.classList.contains("collapsed")?n.collapsed=!1:n.collapsed=!0,Zs(n.collapsed)})}const Li=e=>{const t=window.innerWidth-document.documentElement.clientWidth;t>0&&document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.classList.add("mt-modal-overlay")};var tl=hi("<title> </title>"),nl=hi('<svg role="img"><!><use></use></svg>');function Ft(e,t){let n=z(t,"style",3,void 0);var r=nl(),i=m(r);{var a=l=>{var o=tl(),u=m(o);Re(()=>Ge(u,t.title)),P(l,o)};ce(i,l=>{t.title&&l(a)})}var s=x(i);Re(()=>{yi(r,0,Is(t.class)),ln(r,n()),qs(s,"xlink:href",t.href)}),P(e,r)}var rl=W('<label><input type="radio"/> </label>'),il=W("<p></p>"),al=W("<option> </option>"),sl=W("<option></option>"),ll=W("<select><!></select>"),ol=W('<div class="mt-search-form"><div class="search-type"></div> <div class="search-content-type"><!></div> <div class="search-input-group"><div class="search-text-box"><input type="text"/></div> <div class="submit-button"><button type="button" class="btn btn-primary"><!> <span></span></button></div></div></div>');function Ni(e,t){dt(t,!0);const n=[];let r=z(t,"blogId",7),i=z(t,"magicToken",7),a=z(t,"contentTypes",23,()=>[]),s=z(t,"searchTabs",23,()=>[]),l=z(t,"objectType",7),o=z(t,"isLoading",7,!1),u=Zt(()=>""),c=null;ze(()=>{c&&c.focus(),!f(u)&&a().length>0&&y(u,a()[0].id)});const _=T=>{T.preventDefault();const w=document.createElement("form");w.method="POST",w.action=window.ScriptURI;const F=(be,ve)=>{const K=document.createElement("input");return K.type="hidden",K.name=be,K.value=ve,K},ne=c?.value.trim()||"";w.appendChild(F("__mode","search_replace")),w.appendChild(F("blog_id",r())),w.appendChild(F("_type",l())),w.appendChild(F("do_search","1")),w.appendChild(F("magic_token",i())),w.appendChild(F("search",ne)),w.appendChild(F("content_type_id",f(u)||"")),w.appendChild(F("object_type",l())),document.body.appendChild(w),w.submit()};var d={get blogId(){return r()},set blogId(T){r(T)},get magicToken(){return i()},set magicToken(T){i(T)},get contentTypes(){return a()},set contentTypes(T){a(T)},get searchTabs(){return s()},set searchTabs(T){s(T)},get objectType(){return l()},set objectType(T){l(T)},get isLoading(){return o()},set isLoading(T){o(T)}},v=ol(),p=m(v);sn(p,21,s,qn,(T,w)=>{var F=rl(),ne=m(F),be,ve=x(ne);Re(()=>{js(ne,l()===f(w).key),be!==(be=f(w).key)&&(ne.value=(ne.__value=f(w).key)??""),Ge(ve,` ${f(w).label??""}`)}),Hs(n,[],ne,()=>(f(w).key,l()),l),P(T,F)});var b=x(p,2),h=m(b);{var S=T=>{var w=il();w.textContent=window.trans("Loading..."),P(T,w)},D=T=>{var w=ll();let F;var ne=m(w);{var be=K=>{var V=gt(),wt=qe(V);sn(wt,17,a,qn,(yt,Ae)=>{var Ie=al(),it=m(Ie),k={};Re(()=>{Ge(it,f(Ae).name),k!==(k=f(Ae).id)&&(Ie.value=(Ie.__value=f(Ae).id)??"")}),P(yt,Ie)}),P(K,V)},ve=K=>{var V=sl();V.textContent=window.trans("No Content Type could be found."),V.value=V.__value="",P(K,V)};ce(ne,K=>{a().length>0?K(be):K(ve,!1)})}Re(()=>{F=yi(w,1,"custom-select form-control form-select",null,F,{disabled:l()!=="content_data"}),w.disabled=l()!=="content_data"||a().length===0}),Ei(w,()=>f(u),K=>y(u,K)),P(T,w)};ce(h,T=>{o()?T(S):T(D,!1)})}var g=x(b,2),C=m(g),O=m(C);te(O,"placeholder",window.trans("Select target and search text...")),O.__keydown=T=>{T.key==="Enter"&&!T.isComposing&&_(T)},Ot(O,T=>c=T,()=>c);var J=x(C,2),H=m(J);H.__click=_;var U=m(H);Ft(U,{title:window.trans("Search"),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_search`});var de=x(U,2);return de.textContent=window.trans("Search"),P(e,v),vt(d)}an(["keydown","click"]);var fl=W('<div class="search-button-modal-overlay"></div> <div class="modal search-button-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><!></div></div>',1);function ul(e,t){dt(t,!0);let n=z(t,"blogId",7),r=z(t,"magicToken",7),i=z(t,"open",7,!1),a=z(t,"anchorRef",7),s=z(t,"searchTabs",7),l=z(t,"objectType",7),o=q(se([])),u=!1,c=q(!1);ze(()=>{a()&&(i()?(a().classList.add("open"),!u&&!f(c)&&(y(c,!0),hn({blogId:n(),magicToken:r()}).then(g=>{y(o,g.contentTypes.filter(C=>C.can_search===1),!0),u=!0,y(c,!1)}).catch(g=>{console.error("Failed to fetch content types:",g),y(c,!1)}))):a().classList.remove("open"))});const _=()=>{i(!1)};let d=q(null);const v=g=>{const C=g.target;i()&&Wn([a(),f(d)],C)&&_()};let p=null;ze(()=>{i()}),pi(async()=>{l()&&s().find(g=>g.key===l())||l(s()[0].key)});var b={get blogId(){return n()},set blogId(g){n(g)},get magicToken(){return r()},set magicToken(g){r(g)},get open(){return i()},set open(g){i(g)},get anchorRef(){return a()},set anchorRef(g){a(g)},get searchTabs(){return s()},set searchTabs(g){s(g)},get objectType(){return l()},set objectType(g){l(g)}},h=gt();rn("click",Qt.body,v);var S=qe(h);{var D=g=>{var C=fl(),O=qe(C);O.__click=_,Ke(O,(w,F)=>bt?.(w,F),()=>"body"),Ke(O,w=>Li?.(w));var J=x(O,2),H=m(J),U=m(H);U.__click=_;var de=x(H,2),T=m(de);Ni(T,{get blogId(){return n()},get magicToken(){return r()},get contentTypes(){return f(o)},get objectType(){return l()},get searchTabs(){return s()},get isLoading(){return f(c)}}),Ot(J,w=>y(d,w),()=>f(d)),Ke(J,(w,F)=>bt?.(w,F),()=>"body"),P(g,C)};ce(S,g=>{i()&&g(D)})}return P(e,h),vt(b)}an(["click"]);function cl(e,t){let n=[];if(e.dataset.searchTabsJson){const i=JSON.parse(e.dataset.searchTabsJson);if(i.error){e.remove();return}i.success&&(n=i.data)}const r=Nt(ul,{target:e,props:{searchTabs:n,objectType:e.dataset.objectType??"",...t}});t.anchorRef.addEventListener("click",i=>{i.preventDefault(),t.anchorRef.classList.contains("open")?r.open=!1:r.open=!0})}var dl=W('<tr><td colspan="2" class="loading"></td></tr>'),vl=W('<span class="badge badge-site"></span>'),_l=W('<span class="badge badge-child-site"></span>'),hl=W('<button aria-pressed="true"><span>\u2605</span></button>'),pl=W('<button aria-pressed="false"><span>\u2606</span></button>'),gl=W('<span class="d-block d-md-none parent-site"><!></span>'),ml=W('<button aria-pressed="true"><span>\u2605</span></button>'),bl=W('<button aria-pressed="false"><span>\u2606</span></button>'),wl=W('<tr><td><span class="site-list-table-bagde-container"><!> <span class="site-list-table-action-buttons-mobile"><!> <span class="site-list-table-sortable-handle"><!></span></span></span> <a class="dashboard-link"> </a> <!> <a class="site-link" target="_blank"><span class="d-inline-block d-md-none"></span> <!></a></td><td class="site-list-table-parent-site"><!></td><td class="site-list-table-action"><span class="site-list-table-action-buttons"><!> <span class="site-list-table-sortable-handle"><!></span></span></td></tr>'),yl=W('<div class="site-list-button-modal-overlay"></div> <div class="modal site-list-button-modal"><div class="modal-body"><div class="site-list-container"><div class="site-list-header"><div class="site-list-title"><span> </span> <p></p> <div class="d-block d-md-none"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div></div> <div class="site-list-actions"><div class="prev-next"><button type="button">&lt;&lt;</button> <button type="button">&lt;</button> <span class="page-num"><span class="current"> </span> </span> <button type="button">&gt;</button> <button type="button">&gt;&gt;</button></div> <div class="site-filter-actions"><div class="site-type-filter"><select class="custom-select form-control form-select"><option></option><option></option><option></option></select></div> <div class="site-name-filter"><input type="text"/> <button><!></button></div></div> <div class="d-none d-md-block"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div></div></div> <div class="site-list-table-header"><span class="table-header-col site-list-header-name"></span> <span class="table-header-col site-list-header-parent"></span></div> <div class="site-list-table-wrapper"><table><tbody><!></tbody></table></div></div></div></div>',1);function Sl(e,t){dt(t,!0);let n=z(t,"magicToken",7),r=z(t,"limit",7,50),i=z(t,"open",7,!1),a=z(t,"anchorRef",7),s=z(t,"initialStarredSites",7),l=!1;ze(()=>{a()&&(i()?(a().classList.add("open"),l||(l=!0,T())):a().classList.remove("open"))});const o=()=>{i(!1)};let u=se({}),c=q(se([])),_=q(se([])),d=q(se([])),v=q(se(s())),p=q(0),b=q(1),h=q(1),S=Zt(()=>"parent_and_child_sites"),D=Zt(()=>""),g=q(se([])),C=q(!1),O=Zt(()=>null);const J=()=>{Ur(b),w()},H=()=>{y(b,f(h),!0),w()},U=()=>{Ur(b,-1),w()},de=()=>{y(b,1),w()},T=()=>{y(c,[],!0),y(_,f(v),!0),y(g,[],!0),f(S)==="child_sites_only"?y(g,[{type:"parent_website",args:{value:""}}],!0):f(S)==="parent_sites"&&y(g,[{type:"parent_website",args:{value:"1"}}],!0),y(D,f(D).trim()),f(D)!==""&&f(g).push({type:"name",args:{string:f(D),option:"contains"}}),y(b,1),w()},w=async()=>{if(y(C,!0),y(d,[],!0),f(c).length===0){const k=await pn({magicToken:n(),items:f(g),page:f(b),limit:r()});y(p,k.count,!0),y(h,k.pageMax,!0),y(b,f(h)!==0?k.page:0,!0);const A=[];if(f(_).forEach(E=>{const B=k.sites.findIndex(re=>Number(re.id)===E);if(B!==-1)u[E]=k.sites[B],k.sites.splice(B,1);else{const re=u[E];if(!re)A.push(E);else{const ie=re.parentSiteName.match(/^<a/);(f(S)==="child_sites_only"&&!ie||f(S)==="parent_sites"&&ie)&&y(_,f(_).filter(we=>we!==E),!0)}}}),y(c,[...k.sites],!0),A.length>0){const E=await pn({magicToken:n(),items:[...f(g),{type:"pack",args:{op:"or",items:A.map(B=>({type:"id",args:{value:B,option:"equal"}}))}}],page:0,limit:200});A.forEach(B=>{const re=E.sites.findIndex(ie=>Number(ie.id)===B);re!==-1?u[B]=E.sites[re]:(y(_,f(_).filter(ie=>ie!==B),!0),y(v,f(v).filter(ie=>ie!==B),!0))})}for(let E=0;E<r()&&E<f(_).length;E++)f(d).push(u[f(_)[E]]);for(let E=0;E<f(c).length&&f(d).length<r();E++)f(d).push(f(c)[E])}else{const k=f(_).length,A=(f(b)-1)*r();for(let E=A;E<k&&f(d).length<r();E++)f(d).push(u[f(_)[E]]);for(let E=Math.max(A-k,0);E<f(p)-k&&f(d).length<r();E++){if(!f(c)[E]){const B=Math.floor(E/r()),re=await pn({magicToken:n(),items:[...f(g),...f(_).map(we=>({type:"id",args:{value:we,option:"not_equal"}}))],page:B+1,limit:r()}),ie=B*r();for(let we=0;we<re.sites.length;we++)f(c)[ie+we]=re.sites[we]}f(d).push(f(c)[E])}}y(C,!1)},F=async k=>{const A=new FormData;return A.append("__mode","save_starred_sites"),A.append("magic_token",n()),k.forEach(E=>{A.append("id",String(E))}),fetch(window.ScriptURI,{method:"POST",body:A,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(E=>E.json()).then(E=>{if(E.error)throw new Error(E.error)})},ne=k=>{const A=[...f(v)];y(v,k,!0),F(f(v)).catch(E=>{alert(E.message),y(v,A,!0)})},be=(k,A)=>{k.stopPropagation(),ne([...new Set([...f(v),Number(A.id)])])},ve=(k,A)=>{k.stopPropagation();const E=Number(A.id);ne(f(v).filter(B=>B!==E))},K=k=>{const A=k.target;i()&&Wn([a(),f(O)],A)&&o()};let V=q(null);const wt=async()=>{await On(),f(V)&&jQuery(f(V)).sortable({delay:100,placeholder:"placeholder",distance:3,items:"tr[data-is-starred]",handle:".site-list-table-sortable-handle",opacity:.8,start(k,A){if(!f(V))return;const E=document.createElement("tr");E.classList.add("site-list-table-placeholder"),E.innerHTML="<td></td><td class='site-list-table-parent-site'></td><td class='site-list-table-action'></td>",f(V).insertBefore(E,f(V).firstChild),A.placeholder.height(A.item.height())},stop(){var k;(k=f(V)===null||f(V)===void 0?void 0:f(V).querySelector(".site-list-table-placeholder"))===null||k===void 0||k.remove()},update:()=>{if(!f(V))return;const k=[],A=[];f(V).querySelectorAll("tr[data-site-id]").forEach(B=>{const re=Number(B.dataset.siteId);B.dataset.isStarred&&A.push(Number(re)),k.push(f(d).find(ie=>Number(ie.id)===re))}),y(d,k,!0);const E=f(v).findIndex(B=>A.includes(B));y(v,[...f(v)],!0),f(v).splice(E,A.length,...A),ne(f(v))}})};ze(()=>{f(d)&&f(d).length>0&&i()&&!f(C)&&wt()});var yt={get magicToken(){return n()},set magicToken(k){n(k)},get limit(){return r()},set limit(k){r(k)},get open(){return i()},set open(k){i(k)},get anchorRef(){return a()},set anchorRef(k){a(k)},get initialStarredSites(){return s()},set initialStarredSites(k){s(k)}},Ae=gt();rn("click",Qt.body,K);var Ie=qe(Ae);{var it=k=>{var A=yl(),E=qe(A);E.__click=o,Ke(E,(L,Me)=>bt?.(L,Me),()=>"body"),Ke(E,L=>Li?.(L));var B=x(E,2),re=m(B),ie=m(re),we=m(ie),Kn=m(we),Xn=m(Kn),Oi=m(Xn),Zn=x(Xn,2);Zn.textContent=window.trans("Site List");var Fi=x(Zn,2),Di=m(Fi);Di.__click=o;var ji=x(Kn,2),Qn=m(ji),Dt=m(Qn);Dt.__click=de,Dt.__keydown=L=>L.key==="Enter"&&de();var jt=x(Dt,2);jt.__click=U,jt.__keydown=L=>L.key==="Enter"&&U();var $n=x(jt,2),er=m($n),qi=m(er),Ui=x(er),qt=x($n,2);qt.__click=J,qt.__keydown=L=>L.key==="Enter"&&J();var fn=x(qt,2);fn.__click=H,fn.__keydown=L=>L.key==="Enter"&&H();var tr=x(Qn,2),nr=m(tr),un=m(nr);un.__change=T;var Ut=m(un);Ut.textContent=window.trans("Parent Sites"),Ut.value=Ut.__value="parent_sites";var Bt=x(Ut);Bt.textContent=window.trans("Parent and child sites"),Bt.value=Bt.__value="parent_and_child_sites";var cn=x(Bt);cn.textContent=window.trans("Only child sites"),cn.value=cn.__value="child_sites_only";var Bi=x(nr,2),Ht=m(Bi);te(Ht,"placeholder",window.trans("Filter by site name")),Ht.__keydown=L=>L.key==="Enter"&&T();var rr=x(Ht,2);rr.__click=T;var Hi=m(rr);Ft(Hi,{title:window.trans("Search"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_search`});var Vi=x(tr,2),Wi=m(Vi);Wi.__click=o;var ir=x(we,2),ar=m(ir);ar.textContent=window.trans("Site Name");var zi=x(ar,2);zi.textContent=window.trans("Parent Site");var Yi=x(ir,2),Gi=m(Yi),sr=m(Gi),Ji=m(sr);{var Ki=L=>{var Me=dl(),dn=m(Me);dn.textContent=window.trans("Loading..."),P(L,Me)},Xi=L=>{var Me=gt(),dn=qe(Me);sn(dn,17,()=>f(d),vn=>vn.id,(vn,Z)=>{var Vt=wl(),lr=m(Vt),or=m(lr),fr=m(or);{var Zi=j=>{var M=vl();M.textContent=window.trans("Site"),P(j,M)},Qi=j=>{var M=_l();M.textContent=window.trans("Child Site"),P(j,M)};ce(fr,j=>{f(Z).parentSiteName==="-"?j(Zi):j(Qi,!1)})}var $i=x(fr,2),ur=m($i);{var ea=j=>{var M=hl();M.__click=ye=>ve(ye,f(Z)),te(M,"aria-label",window.trans("Remove from starred sites")),te(M,"title",window.trans("Remove from starred sites")),P(j,M)},ta=j=>{var M=pl();M.__click=ye=>be(ye,f(Z)),te(M,"aria-label",window.trans("Add to starred sites")),te(M,"title",window.trans("Add to starred sites")),P(j,M)};ce(ur,j=>{f(v).includes(Number(f(Z).id))?j(ea):j(ta,!1)})}var cr=x(ur,2),na=m(cr);Ft(na,{title:window.trans("Move"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_move`,style:"height: 15px;"});var _n=x(or,2),ra=m(_n),dr=x(_n,2);{var ia=j=>{var M=gl(),ye=m(M);mi(ye,()=>f(Z).parentSiteName),P(j,M)};ce(dr,j=>{f(Z).parentSiteName!=="-"&&j(ia)})}var vr=x(dr,2),_r=m(vr);_r.textContent=window.trans("View your site.");var aa=x(_r,2);Ft(aa,{title:window.trans("View your site."),class:"mt-icon mt-icon--sm",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_permalink`});var hr=x(lr),sa=m(hr);mi(sa,()=>f(Z).parentSiteName);var la=x(hr),oa=m(la),pr=m(oa);{var fa=j=>{var M=ml();M.__click=ye=>ve(ye,f(Z)),te(M,"aria-label",window.trans("Remove from starred sites")),te(M,"title",window.trans("Remove from starred sites")),P(j,M)},ua=j=>{var M=bl();M.__click=ye=>be(ye,f(Z)),te(M,"aria-label",window.trans("Add to starred sites")),te(M,"title",window.trans("Add to starred sites")),P(j,M)};ce(pr,j=>{f(v).includes(Number(f(Z).id))?j(fa):j(ua,!1)})}var gr=x(pr,2),ca=m(gr);Ft(ca,{title:window.trans("Move"),class:"mt-icon",href:`${window.StaticURI}images/admin2025/sprite.svg#ic_move`,style:"height: 15px;"}),Re((j,M,ye)=>{te(Vt,"data-site-id",f(Z).id),te(Vt,"data-is-starred",j),ln(cr,M),te(_n,"href",`${window.ScriptURI}?__mode=dashboard&blog_id=${f(Z).id}`),Ge(ra,f(Z).name),te(vr,"href",f(Z).siteUrl),ln(gr,ye)},[()=>f(v).includes(Number(f(Z).id))||void 0,()=>f(v).includes(Number(f(Z).id))?"cursor: move":"visibility: hidden;",()=>f(v).includes(Number(f(Z).id))?"cursor: move":"visibility: hidden;"]),P(vn,Vt)}),P(L,Me)};ce(Ji,L=>{f(C)?L(Ki):L(Xi,!1)})}Ot(sr,L=>y(V,L),()=>f(V)),Ke(B,(L,Me)=>bt?.(L,Me),()=>"body"),Ot(B,L=>y(O,L),()=>f(O)),Re(L=>{Ge(Oi,`(${L??""})`),Dt.disabled=f(b)<=1,jt.disabled=f(b)<=1,Ge(qi,f(b)),Ge(Ui,`/${f(h)??""}`),qt.disabled=f(b)===f(h),fn.disabled=f(b)===f(h)},[()=>window.trans("[_1]Site",f(p).toString())]),Ei(un,()=>f(S),L=>y(S,L)),Bs(Ht,()=>f(D),L=>y(D,L)),P(k,A)};ce(Ie,k=>{i()&&k(it)})}return P(e,Ae),vt(yt)}an(["click","keydown","change"]);function El(e,t){const n=Nt(Sl,{target:e,props:{magicToken:t.magicToken,limit:t.limit,open:t.open,anchorRef:t.anchorRef,initialStarredSites:t.initialStarredSites}});t.anchorRef.addEventListener("click",r=>{r.preventDefault(),t.anchorRef.classList.contains("open")?n.open=!1:n.open=!0})}function kl(e,t){let n=[];if(e.dataset.searchTabsJson){const a=JSON.parse(e.dataset.searchTabsJson);if(a.error){e.closest("li[data-is='search-form-button']")?.remove(),e.remove();return}a.success&&(n=a.data)}const r={searchTabs:n,objectType:e.dataset.objectType??"",contentTypes:t.contentTypes||[],isLoading:!1,...t},i=Nt(Ni,{target:e,props:r});e.closest("li[data-is='search-form-button']").addEventListener("click",a=>{a.preventDefault(),r.isLoading=!0,hn({blogId:t.blogId,magicToken:t.magicToken}).then(s=>{const l=s.contentTypes.filter(o=>o.can_search===1);i.contentTypes=l,i.contentTypes.length>0&&i.objectType===""&&(i.objectType="content_data"),i.isLoading=!1}).catch(s=>{console.error("Failed to fetch content types:",s),i.isLoading=!1})},{once:!0})}const zn=document.querySelector('[data-is="primary-navigation-toggle"]');zn!==null&&el(zn,{collapsed:Ci()??!1,buttonRef:zn.getElementsByTagName("button")[0]});const Yn=document.querySelector('[data-script="admin-ui"]');Yn===null&&console.error("data-script='admin-ui' is not set");const Gn=Yn?.getAttribute("data-blog-id")??"",Be=Yn?.getAttribute("data-magic-token")??"";Be===""&&console.error("data-magic-token is not set");const Tl="50",Ii=document.querySelectorAll('[data-is="site-list-button"]');Ii.length>0&&Be!==""&&Ii.forEach(e=>{El(e,{magicToken:Be,limit:Number.parseInt(Tl),open:!1,anchorRef:e,initialStarredSites:e.dataset.starredSites?.split(",").map(Number).filter(Number.isInteger)||[]})});const Mi=document.querySelectorAll('[data-is="create-button"]'),Jn=document.querySelector('[data-is="search-button"]'),xl=document.querySelector("div.mt-modal");Mi.length>0&&Be!==""&&Mi.forEach(e=>{Xs({target:e,props:{blog_id:Gn,magicToken:Be,open:!1,anchorRef:e,containerRef:xl}})}),Jn!==null&&Be!==""&&cl(Jn,{blogId:Gn,magicToken:Be,open:!1,anchorRef:Jn});const Pi=document.querySelector('[data-is="search-form"]');Pi!==null&&Be!==""&&kl(Pi,{blogId:Gn,magicToken:Be});
